{
  "version": "1.0",
  "total_commands": 363,
  "commands": [
    {
      "cmd": "gt",
      "short": "Gas Town - Multi-agent workspace manager",
      "synopsis": "Gas Town (gt) manages multi-agent workspaces called rigs.\n\nIt coordinates agent spawning, work distribution, and communication\nacross distributed teams of AI agents working on shared codebases.",
      "usage": "-h, --help   help for gt",
      "options": "-h, --help   help for gt",
      "subcommands": [
        {
          "cmd": "gt account",
          "desc": "Manage Claude Code accounts"
        },
        {
          "cmd": "gt activity",
          "desc": "Emit and view activity events"
        },
        {
          "cmd": "gt agents",
          "desc": "Switch between Gas Town agent sessions"
        },
        {
          "cmd": "gt audit",
          "desc": "Query work history by actor"
        },
        {
          "cmd": "gt bead",
          "desc": "Bead management utilities"
        },
        {
          "cmd": "gt boot",
          "desc": "Manage Boot (Deacon watchdog)"
        },
        {
          "cmd": "gt broadcast",
          "desc": "Send a nudge message to all workers"
        },
        {
          "cmd": "gt callbacks",
          "desc": "Handle agent callbacks"
        },
        {
          "cmd": "gt cat",
          "desc": "Display bead content"
        },
        {
          "cmd": "gt checkpoint",
          "desc": "Manage session checkpoints for crash recovery"
        },
        {
          "cmd": "gt cleanup",
          "desc": "Clean up orphaned Claude processes"
        },
        {
          "cmd": "gt close",
          "desc": "Close one or more beads"
        },
        {
          "cmd": "gt commit",
          "desc": "Git commit with automatic agent identity"
        },
        {
          "cmd": "gt config",
          "desc": "Manage Gas Town configuration"
        },
        {
          "cmd": "gt convoy",
          "desc": "Track batches of work across rigs"
        },
        {
          "cmd": "gt costs",
          "desc": "Show costs for running Claude sessions"
        },
        {
          "cmd": "gt crew",
          "desc": "Manage crew workers (persistent workspaces for humans)"
        },
        {
          "cmd": "gt cycle",
          "desc": "Cycle between sessions in the same group"
        },
        {
          "cmd": "gt daemon",
          "desc": "Manage the Gas Town daemon"
        },
        {
          "cmd": "gt dashboard",
          "desc": "Start the convoy tracking web dashboard"
        },
        {
          "cmd": "gt deacon",
          "desc": "Manage the Deacon (town-level watchdog)"
        },
        {
          "cmd": "gt disable",
          "desc": "Disable Gas Town system-wide"
        },
        {
          "cmd": "gt dnd",
          "desc": "Toggle Do Not Disturb mode for notifications"
        },
        {
          "cmd": "gt doctor",
          "desc": "Run health checks on the workspace"
        },
        {
          "cmd": "gt dog",
          "desc": "Manage dogs (cross-rig infrastructure workers)"
        },
        {
          "cmd": "gt dolt",
          "desc": "Manage the Dolt SQL server"
        },
        {
          "cmd": "gt done",
          "desc": "Signal work ready for merge queue"
        },
        {
          "cmd": "gt down",
          "desc": "Stop all Gas Town services"
        },
        {
          "cmd": "gt enable",
          "desc": "Enable Gas Town system-wide"
        },
        {
          "cmd": "gt escalate",
          "desc": "Escalation system for critical issues"
        },
        {
          "cmd": "gt feed",
          "desc": "Show real-time activity feed from beads and gt events"
        },
        {
          "cmd": "gt formula",
          "desc": "Manage workflow formulas"
        },
        {
          "cmd": "gt gate",
          "desc": "Gate coordination commands"
        },
        {
          "cmd": "gt git-init",
          "desc": "Initialize git repository for a Gas Town HQ"
        },
        {
          "cmd": "gt handoff",
          "desc": "Hand off to a fresh session, work continues from hook"
        },
        {
          "cmd": "gt hook",
          "desc": "Show or attach work on your hook"
        },
        {
          "cmd": "gt hooks",
          "desc": "List all Claude Code hooks in the workspace"
        },
        {
          "cmd": "gt info",
          "desc": "Show Gas Town information and what's new"
        },
        {
          "cmd": "gt init",
          "desc": "Initialize current directory as a Gas Town rig"
        },
        {
          "cmd": "gt install",
          "desc": "Create a new Gas Town HQ (workspace)"
        },
        {
          "cmd": "gt issue",
          "desc": "Manage current issue for status line display"
        },
        {
          "cmd": "gt krc",
          "desc": "Key Record Chronicle - manage ephemeral data TTLs"
        },
        {
          "cmd": "gt log",
          "desc": "View town activity log"
        },
        {
          "cmd": "gt mail",
          "desc": "Agent messaging system"
        },
        {
          "cmd": "gt mayor",
          "desc": "Manage the Mayor (Chief of Staff for cross-rig coordination)"
        },
        {
          "cmd": "gt mol",
          "desc": "Agent molecule workflow commands"
        },
        {
          "cmd": "gt mq",
          "desc": "Merge queue operations"
        },
        {
          "cmd": "gt namepool",
          "desc": "Manage polecat name pools"
        },
        {
          "cmd": "gt notify",
          "desc": "Set notification level"
        },
        {
          "cmd": "gt nudge",
          "desc": "Send a synchronous message to any Gas Town worker"
        },
        {
          "cmd": "gt orphans",
          "desc": "Find lost polecat work"
        },
        {
          "cmd": "gt park",
          "desc": "Park work on a gate for async resumption"
        },
        {
          "cmd": "gt patrol",
          "desc": "Patrol digest management"
        },
        {
          "cmd": "gt peek",
          "desc": "View recent output from a polecat or crew session"
        },
        {
          "cmd": "gt plugin",
          "desc": "Plugin management"
        },
        {
          "cmd": "gt polecat",
          "desc": "Manage polecats (ephemeral workers, one task then nuked)"
        },
        {
          "cmd": "gt prime",
          "desc": "Output role context for current directory"
        },
        {
          "cmd": "gt ready",
          "desc": "Show work ready across town"
        },
        {
          "cmd": "gt refinery",
          "desc": "Manage the Refinery (merge queue processor)"
        },
        {
          "cmd": "gt release",
          "desc": "Release stuck in_progress issues back to pending"
        },
        {
          "cmd": "gt resume",
          "desc": "Resume from parked work or check for handoff messages"
        },
        {
          "cmd": "gt rig",
          "desc": "Manage rigs in the workspace"
        },
        {
          "cmd": "gt role",
          "desc": "Show or manage agent role"
        },
        {
          "cmd": "gt seance",
          "desc": "Talk to your predecessor sessions"
        },
        {
          "cmd": "gt session",
          "desc": "Manage polecat sessions"
        },
        {
          "cmd": "gt shell",
          "desc": "Manage shell integration"
        },
        {
          "cmd": "gt show",
          "desc": "Show details of a bead"
        },
        {
          "cmd": "gt shutdown",
          "desc": "Shutdown Gas Town with cleanup"
        },
        {
          "cmd": "gt sling",
          "desc": "Assign work to an agent (THE unified work dispatch command)"
        },
        {
          "cmd": "gt stale",
          "desc": "Check if the gt binary is stale"
        },
        {
          "cmd": "gt start",
          "desc": "Start Gas Town or a crew workspace"
        },
        {
          "cmd": "gt status",
          "desc": "Show overall town status"
        },
        {
          "cmd": "gt synthesis",
          "desc": "Manage convoy synthesis steps"
        },
        {
          "cmd": "gt tap",
          "desc": "Claude Code hook handlers"
        },
        {
          "cmd": "gt thanks",
          "desc": "Thank the human contributors to Gas Town"
        },
        {
          "cmd": "gt theme",
          "desc": "View or set tmux theme for the current rig"
        },
        {
          "cmd": "gt town",
          "desc": "Town-level operations"
        },
        {
          "cmd": "gt trail",
          "desc": "Show recent agent activity"
        },
        {
          "cmd": "gt uninstall",
          "desc": "Remove Gas Town from the system"
        },
        {
          "cmd": "gt unsling",
          "desc": "Remove work from an agent's hook"
        },
        {
          "cmd": "gt up",
          "desc": "Bring up all Gas Town services"
        },
        {
          "cmd": "gt version",
          "desc": "Print version information"
        },
        {
          "cmd": "gt warrant",
          "desc": "Manage death warrants for stuck agents"
        },
        {
          "cmd": "gt whoami",
          "desc": "Show current identity for mail commands"
        },
        {
          "cmd": "gt witness",
          "desc": "Manage the Witness (per-rig polecat health monitor)"
        },
        {
          "cmd": "gt worktree",
          "desc": "Create worktree in another rig for cross-rig work"
        }
      ],
      "is_parent": true,
      "search_text": "gt Gas Town - Multi-agent workspace manager Gas Town (gt) manages multi-agent workspaces called rigs.\n\nIt coordinates agent spawning, work distribution, and communication\nacross distributed teams of AI agents working on shared codebases. -h, --help   help for gt"
    },
    {
      "cmd": "gt account",
      "short": "Manage Claude Code accounts",
      "synopsis": "Manage multiple Claude Code accounts for Gas Town.\n\nThis enables switching between accounts (e.g., personal vs work) with\neasy account selection per spawn or globally.\n\nCommands:\n  gt account list              List registered accounts\n  gt account add <handle>      Add a new account\n  gt account default <handle>  Set the default account\n  gt account status            Show current account info\n\n```\ngt account [flags]\n```",
      "usage": "gt account [flags]",
      "options": "-h, --help   help for account",
      "subcommands": [
        {
          "cmd": "gt account add",
          "desc": "Add a new account"
        },
        {
          "cmd": "gt account default",
          "desc": "Set the default account"
        },
        {
          "cmd": "gt account list",
          "desc": "List registered accounts"
        },
        {
          "cmd": "gt account status",
          "desc": "Show current account info"
        },
        {
          "cmd": "gt account switch",
          "desc": "Switch to a different account"
        }
      ],
      "is_parent": true,
      "search_text": "gt account Manage Claude Code accounts Manage multiple Claude Code accounts for Gas Town.\n\nThis enables switching between accounts (e.g., personal vs work) with\neasy account selection per spawn or globally.\n\nCommands:\n  gt account list              List registered accounts\n  gt account add <handle>      Add a new account\n  gt account default <handle>  Set the default account\n  gt account status            Show current account info\n\n```\ngt account [flags]\n``` -h, --help   help for account"
    },
    {
      "cmd": "gt account add",
      "short": "Add a new account",
      "synopsis": "Add a new Claude Code account.\n\nCreates a config directory at ~/.claude-accounts/<handle> and registers\nthe account. You'll need to run 'claude' with CLAUDE_CONFIG_DIR set to\nthat directory to complete the login.\n\nExamples:\n  gt account add work\n  gt account add work --email steve@company.com\n  gt account add work --email steve@company.com --desc \"Work account\"\n\n```\ngt account add <handle> [flags]\n```",
      "usage": "gt account add <handle> [flags]",
      "options": "--desc string    Account description\n      --email string   Account email address\n  -h, --help           help for add",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt account add Add a new account Add a new Claude Code account.\n\nCreates a config directory at ~/.claude-accounts/<handle> and registers\nthe account. You'll need to run 'claude' with CLAUDE_CONFIG_DIR set to\nthat directory to complete the login.\n\nExamples:\n  gt account add work\n  gt account add work --email steve@company.com\n  gt account add work --email steve@company.com --desc \"Work account\"\n\n```\ngt account add <handle> [flags]\n``` --desc string    Account description\n      --email string   Account email address\n  -h, --help           help for add"
    },
    {
      "cmd": "gt account default",
      "short": "Set the default account",
      "synopsis": "Set the default Claude Code account.\n\nThe default account is used when no --account flag or GT_ACCOUNT env var\nis specified during spawn or attach.\n\nExamples:\n  gt account default work\n  gt account default personal\n\n```\ngt account default <handle> [flags]\n```",
      "usage": "gt account default <handle> [flags]",
      "options": "-h, --help   help for default",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt account default Set the default account Set the default Claude Code account.\n\nThe default account is used when no --account flag or GT_ACCOUNT env var\nis specified during spawn or attach.\n\nExamples:\n  gt account default work\n  gt account default personal\n\n```\ngt account default <handle> [flags]\n``` -h, --help   help for default"
    },
    {
      "cmd": "gt account list",
      "short": "List registered accounts",
      "synopsis": "List all registered Claude Code accounts.\n\nShows account handles, emails, and which is the default.\n\nExamples:\n  gt account list           # Text output\n  gt account list --json    # JSON output\n\n```\ngt account list [flags]\n```",
      "usage": "gt account list [flags]",
      "options": "-h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt account list List registered accounts List all registered Claude Code accounts.\n\nShows account handles, emails, and which is the default.\n\nExamples:\n  gt account list           # Text output\n  gt account list --json    # JSON output\n\n```\ngt account list [flags]\n``` -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt account status",
      "short": "Show current account info",
      "synopsis": "Show which Claude Code account would be used for new sessions.\n\nDisplays the currently resolved account based on:\n1. GT_ACCOUNT environment variable (highest priority)\n2. Default account from config\n\nExamples:\n  gt account status           # Show current account\n  GT_ACCOUNT=work gt account status  # Show with env override\n\n```\ngt account status [flags]\n```",
      "usage": "gt account status [flags]",
      "options": "-h, --help   help for status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt account status Show current account info Show which Claude Code account would be used for new sessions.\n\nDisplays the currently resolved account based on:\n1. GT_ACCOUNT environment variable (highest priority)\n2. Default account from config\n\nExamples:\n  gt account status           # Show current account\n  GT_ACCOUNT=work gt account status  # Show with env override\n\n```\ngt account status [flags]\n``` -h, --help   help for status"
    },
    {
      "cmd": "gt account switch",
      "short": "Switch to a different account",
      "synopsis": "Switch the active Claude Code account.\n\nThis command:\n1. Backs up ~/.claude to the current account's config_dir (if needed)\n2. Creates a symlink from ~/.claude to the target account's config_dir\n3. Updates the default account in accounts.json\n\nAfter switching, you must restart Claude Code for the change to take effect.\n\nExamples:\n  gt account switch work       # Switch to work account\n  gt account switch personal   # Switch to personal account\n\n```\ngt account switch <handle> [flags]\n```",
      "usage": "gt account switch <handle> [flags]",
      "options": "-h, --help   help for switch",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt account switch Switch to a different account Switch the active Claude Code account.\n\nThis command:\n1. Backs up ~/.claude to the current account's config_dir (if needed)\n2. Creates a symlink from ~/.claude to the target account's config_dir\n3. Updates the default account in accounts.json\n\nAfter switching, you must restart Claude Code for the change to take effect.\n\nExamples:\n  gt account switch work       # Switch to work account\n  gt account switch personal   # Switch to personal account\n\n```\ngt account switch <handle> [flags]\n``` -h, --help   help for switch"
    },
    {
      "cmd": "gt activity",
      "short": "Emit and view activity events",
      "synopsis": "Emit and view activity events for the Gas Town activity feed.\n\nEvents are written to ~/gt/.events.jsonl and can be viewed with 'gt feed'.\n\nSubcommands:\n  emit    Emit an activity event",
      "usage": "-h, --help   help for activity",
      "options": "-h, --help   help for activity",
      "subcommands": [
        {
          "cmd": "gt activity emit",
          "desc": "Emit an activity event"
        }
      ],
      "is_parent": true,
      "search_text": "gt activity Emit and view activity events Emit and view activity events for the Gas Town activity feed.\n\nEvents are written to ~/gt/.events.jsonl and can be viewed with 'gt feed'.\n\nSubcommands:\n  emit    Emit an activity event -h, --help   help for activity"
    },
    {
      "cmd": "gt activity emit",
      "short": "Emit an activity event",
      "synopsis": "Emit an activity event to the Gas Town activity feed.\n\nSupported event types for witness patrol:\n  patrol_started   - When witness begins patrol cycle\n  polecat_checked  - When witness checks a polecat\n  polecat_nudged   - When witness nudges a stuck polecat\n  escalation_sent  - When witness escalates to Mayor/Deacon\n  patrol_complete  - When patrol cycle finishes\n\nSupported event types for refinery:\n  merge_started    - When refinery starts a merge\n  merge_complete   - When merge succeeds\n  merge_failed     - When merge fails\n  queue_processed  - When refinery finishes processing queue\n\nCommon options:\n  --actor    Who is emitting the event (e.g., greenplace/witness)\n  --rig      Which rig the event is about\n  --message  Human-readable message\n\nExamples:\n  gt activity emit patrol_started --rig greenplace --count 3\n  gt activity emit polecat_checked --rig greenplace --polecat Toast --status working --issue gp-xyz\n  gt activity emit polecat_nudged --rig greenplace --polecat Toast --reason \"idle for 10 minutes\"\n  gt activity emit escalation_sent --rig greenplace --target Toast --to mayor --reason \"unresponsive\"\n  gt activity emit patrol_complete --rig greenplace --count 3 --message \"All polecats healthy\"\n\n```\ngt activity emit <event-type> [flags]\n```",
      "usage": "gt activity emit <event-type> [flags]",
      "options": "--actor string     Actor emitting the event (auto-detected if not set)\n      --count int        Polecat count (for patrol events)\n  -h, --help             help for emit\n      --issue string     Issue ID (for polecat_checked)\n      --message string   Human-readable message\n      --polecat string   Polecat involved (for polecat_checked, polecat_nudged)\n      --reason string    Reason for the action\n      --rig string       Rig the event is about\n      --status string    Status (for polecat_checked: working, idle, stuck)\n      --target string    Target of the action (for escalation)\n      --to string        Escalation target (for escalation_sent: mayor, deacon)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt activity emit Emit an activity event Emit an activity event to the Gas Town activity feed.\n\nSupported event types for witness patrol:\n  patrol_started   - When witness begins patrol cycle\n  polecat_checked  - When witness checks a polecat\n  polecat_nudged   - When witness nudges a stuck polecat\n  escalation_sent  - When witness escalates to Mayor/Deacon\n  patrol_complete  - When patrol cycle finishes\n\nSupported event types for refinery:\n  merge_started    - When refinery starts a merge\n  merge_complete   - When merge succeeds\n  merge_failed     - When merge fails\n  queue_processed  - When refinery finishes processing queue\n\nCommon options:\n  --actor    Who is emitting the event (e.g., greenplace/witness)\n  --rig      Which rig the event is about\n  --message  Human-readable message\n\nExamples:\n  gt activity emit patrol_started --rig greenplace --count 3\n  gt activity emit polecat_checked --rig greenplace --polecat Toast --status working --issue gp-xyz\n  gt activity emit polecat_nudged --rig greenplace --polecat Toast --reason \"idle for 10 minutes\"\n  gt activity emit escalation_sent --rig greenplace --target Toast --to mayor --reason \"unresponsive\"\n  gt activity emit patrol_complete --rig greenplace --count 3 --message \"All polecats healthy\"\n\n```\ngt activity emit <event-type> [flags]\n``` --actor string     Actor emitting the event (auto-detected if not set)\n      --count int        Polecat count (for patrol events)\n  -h, --help             help for emit\n      --issue string     Issue ID (for polecat_checked)\n      --message string   Human-readable message\n      --polecat string   Polecat involved (for polecat_checked, polecat_nudged)\n      --reason string    Reason for the action\n      --rig string       Rig the event is about\n      --status string    Status (for polecat_checked: working, idle, stuck)\n      --target string    Target of the action (for escalation)\n      --to string        Escalation target (for escalation_sent: mayor, deacon)"
    },
    {
      "cmd": "gt agents",
      "short": "Switch between Gas Town agent sessions",
      "synopsis": "Display a popup menu of core Gas Town agent sessions.\n\nShows Mayor, Deacon, Witnesses, Refineries, and Crew workers.\nPolecats are hidden (use 'gt polecat list' to see them).\n\nThe menu appears as a tmux popup for quick session switching.\n\n```\ngt agents [flags]\n```",
      "usage": "gt agents [flags]",
      "options": "-a, --all    Include polecats in the menu\n  -h, --help   help for agents",
      "subcommands": [
        {
          "cmd": "gt agents check",
          "desc": "Check for identity collisions and stale locks"
        },
        {
          "cmd": "gt agents fix",
          "desc": "Fix identity collisions and clean up stale locks"
        },
        {
          "cmd": "gt agents list",
          "desc": "List agent sessions (no popup)"
        },
        {
          "cmd": "gt agents state",
          "desc": "Get or set operational state on agent beads"
        }
      ],
      "is_parent": true,
      "search_text": "gt agents Switch between Gas Town agent sessions Display a popup menu of core Gas Town agent sessions.\n\nShows Mayor, Deacon, Witnesses, Refineries, and Crew workers.\nPolecats are hidden (use 'gt polecat list' to see them).\n\nThe menu appears as a tmux popup for quick session switching.\n\n```\ngt agents [flags]\n``` -a, --all    Include polecats in the menu\n  -h, --help   help for agents"
    },
    {
      "cmd": "gt agents check",
      "short": "Check for identity collisions and stale locks",
      "synopsis": "Check for identity collisions and stale locks.\n\nThis command helps detect situations where multiple Claude processes\nthink they own the same worker identity.\n\nOutput shows:\n  - Active tmux sessions with gt- prefix\n  - Identity locks in worker directories\n  - Collisions (multiple agents claiming same identity)\n  - Stale locks (dead PIDs)\n\n```\ngt agents check [flags]\n```",
      "usage": "gt agents check [flags]",
      "options": "-h, --help   help for check\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt agents check Check for identity collisions and stale locks Check for identity collisions and stale locks.\n\nThis command helps detect situations where multiple Claude processes\nthink they own the same worker identity.\n\nOutput shows:\n  - Active tmux sessions with gt- prefix\n  - Identity locks in worker directories\n  - Collisions (multiple agents claiming same identity)\n  - Stale locks (dead PIDs)\n\n```\ngt agents check [flags]\n``` -h, --help   help for check\n      --json   Output as JSON"
    },
    {
      "cmd": "gt agents fix",
      "short": "Fix identity collisions and clean up stale locks",
      "synopsis": "Clean up identity collisions and stale locks.\n\nThis command:\n  1. Removes stale locks (where the PID is dead)\n  2. Reports collisions that need manual intervention\n\nFor collisions with live processes, you must manually:\n  - Kill the duplicate session, OR\n  - Decide which agent should own the identity\n\n```\ngt agents fix [flags]\n```",
      "usage": "gt agents fix [flags]",
      "options": "-h, --help   help for fix",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt agents fix Fix identity collisions and clean up stale locks Clean up identity collisions and stale locks.\n\nThis command:\n  1. Removes stale locks (where the PID is dead)\n  2. Reports collisions that need manual intervention\n\nFor collisions with live processes, you must manually:\n  - Kill the duplicate session, OR\n  - Decide which agent should own the identity\n\n```\ngt agents fix [flags]\n``` -h, --help   help for fix"
    },
    {
      "cmd": "gt agents list",
      "short": "List agent sessions (no popup)",
      "synopsis": "List all agent sessions to stdout without the popup menu.\n\n```\ngt agents list [flags]\n```",
      "usage": "gt agents list [flags]",
      "options": "-h, --help   help for list",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt agents list List agent sessions (no popup) List all agent sessions to stdout without the popup menu.\n\n```\ngt agents list [flags]\n``` -h, --help   help for list"
    },
    {
      "cmd": "gt agents state",
      "short": "Get or set operational state on agent beads",
      "synopsis": "Get or set label-based operational state on agent beads.\n\nAgent beads store operational state (like idle cycle counts) as labels.\nThis command provides a convenient interface for reading and modifying\nthese labels without affecting other bead properties.\n\nLABEL FORMAT:\nLabels are stored as key:value pairs (e.g., idle:3, backoff:2m).\n\nOPERATIONS:\n  Get all labels (default):\n    gt agent state <agent-bead>\n\n  Set a label:\n    gt agent state <agent-bead> --set idle=0\n    gt agent state <agent-bead> --set idle=0 --set backoff=30s\n\n  Increment a numeric label:\n    gt agent state <agent-bead> --incr idle\n    (Creates label with value 1 if not present)\n\n  Delete a label:\n    gt agent state <agent-bead> --del idle\n\nCOMMON LABELS:\n  idle:<n>           - Consecutive idle patrol cycles\n  backoff:<duration> - Current backoff interval\n  last_activity:<ts> - Last activity timestamp\n\nEXAMPLES:\n  # Check current idle count\n  gt agent state gt-gastown-witness\n\n  # Reset idle counter after finding work\n  gt agent state gt-gastown-witness --set idle=0\n\n  # Increment idle counter on timeout\n  gt agent state gt-gastown-witness --incr idle\n\n  # Get state as JSON\n  gt agent state gt-gastown-witness --json\n\n```\ngt agents state <agent-bead> [flags]\n```",
      "usage": "gt agents state <agent-bead> [flags]",
      "options": "--del stringArray   Delete label (repeatable)\n  -h, --help              help for state\n      --incr string       Increment numeric label (creates with value 1 if missing)\n      --json              Output as JSON\n      --set stringArray   Set label value (format: key=value, repeatable)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt agents state Get or set operational state on agent beads Get or set label-based operational state on agent beads.\n\nAgent beads store operational state (like idle cycle counts) as labels.\nThis command provides a convenient interface for reading and modifying\nthese labels without affecting other bead properties.\n\nLABEL FORMAT:\nLabels are stored as key:value pairs (e.g., idle:3, backoff:2m).\n\nOPERATIONS:\n  Get all labels (default):\n    gt agent state <agent-bead>\n\n  Set a label:\n    gt agent state <agent-bead> --set idle=0\n    gt agent state <agent-bead> --set idle=0 --set backoff=30s\n\n  Increment a numeric label:\n    gt agent state <agent-bead> --incr idle\n    (Creates label with value 1 if not present)\n\n  Delete a label:\n    gt agent state <agent-bead> --del idle\n\nCOMMON LABELS:\n  idle:<n>           - Consecutive idle patrol cycles\n  backoff:<duration> - Current backoff interval\n  last_activity:<ts> - Last activity timestamp\n\nEXAMPLES:\n  # Check current idle count\n  gt agent state gt-gastown-witness\n\n  # Reset idle counter after finding work\n  gt agent state gt-gastown-witness --set idle=0\n\n  # Increment idle counter on timeout\n  gt agent state gt-gastown-witness --incr idle\n\n  # Get state as JSON\n  gt agent state gt-gastown-witness --json\n\n```\ngt agents state <agent-bead> [flags]\n``` --del stringArray   Delete label (repeatable)\n  -h, --help              help for state\n      --incr string       Increment numeric label (creates with value 1 if missing)\n      --json              Output as JSON\n      --set stringArray   Set label value (format: key=value, repeatable)"
    },
    {
      "cmd": "gt audit",
      "short": "Query work history by actor",
      "synopsis": "Query provenance data across git commits, beads, and events.\n\nShows a unified timeline of work performed by an actor including:\n  - Git commits authored by the actor\n  - Beads (issues) created by the actor\n  - Beads closed by the actor (via assignee)\n  - Town log events (spawn, done, handoff, etc.)\n  - Activity feed events\n\nExamples:\n  gt audit --actor=greenplace/crew/joe       # Show all work by joe\n  gt audit --actor=greenplace/polecats/toast # Show polecat toast's work\n  gt audit --actor=mayor                  # Show mayor's activity\n  gt audit --since=24h                    # Show all activity in last 24h\n  gt audit --actor=joe --since=1h         # Combined filters\n  gt audit --json                         # Output as JSON\n\n```\ngt audit [flags]\n```",
      "usage": "gt audit [flags]",
      "options": "--actor string   Filter by actor (agent address or partial match)\n  -h, --help           help for audit\n      --json           Output as JSON\n  -n, --limit int      Maximum number of entries to show (default 50)\n      --since string   Show events since duration (e.g., 1h, 24h, 7d)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt audit Query work history by actor Query provenance data across git commits, beads, and events.\n\nShows a unified timeline of work performed by an actor including:\n  - Git commits authored by the actor\n  - Beads (issues) created by the actor\n  - Beads closed by the actor (via assignee)\n  - Town log events (spawn, done, handoff, etc.)\n  - Activity feed events\n\nExamples:\n  gt audit --actor=greenplace/crew/joe       # Show all work by joe\n  gt audit --actor=greenplace/polecats/toast # Show polecat toast's work\n  gt audit --actor=mayor                  # Show mayor's activity\n  gt audit --since=24h                    # Show all activity in last 24h\n  gt audit --actor=joe --since=1h         # Combined filters\n  gt audit --json                         # Output as JSON\n\n```\ngt audit [flags]\n``` --actor string   Filter by actor (agent address or partial match)\n  -h, --help           help for audit\n      --json           Output as JSON\n  -n, --limit int      Maximum number of entries to show (default 50)\n      --since string   Show events since duration (e.g., 1h, 24h, 7d)"
    },
    {
      "cmd": "gt bead",
      "short": "Bead management utilities",
      "synopsis": "Utilities for managing beads across repositories.",
      "usage": "-h, --help   help for bead",
      "options": "-h, --help   help for bead",
      "subcommands": [
        {
          "cmd": "gt bead move",
          "desc": "Move a bead to a different repository"
        },
        {
          "cmd": "gt bead read",
          "desc": "Show details of a bead (alias for 'show')"
        },
        {
          "cmd": "gt bead show",
          "desc": "Show details of a bead"
        }
      ],
      "is_parent": true,
      "search_text": "gt bead Bead management utilities Utilities for managing beads across repositories. -h, --help   help for bead"
    },
    {
      "cmd": "gt bead move",
      "short": "Move a bead to a different repository",
      "synopsis": "Move a bead from one repository to another.\n\nThis creates a copy of the bead in the target repository (with the new prefix)\nand closes the source bead with a reference to the new location.\n\nThe target prefix determines which repository receives the bead.\nCommon prefixes: gt- (gastown), bd- (beads), hq- (headquarters)\n\nExamples:\n  gt bead move gt-abc123 bd-     # Move gt-abc123 to beads repo as bd-*\n  gt bead move hq-xyz bd-        # Move hq-xyz to beads repo\n  gt bead move bd-123 gt-        # Move bd-123 to gastown repo\n\n```\ngt bead move <bead-id> <target-prefix> [flags]\n```",
      "usage": "gt bead move <bead-id> <target-prefix> [flags]",
      "options": "-n, --dry-run   Show what would be done\n  -h, --help      help for move",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt bead move Move a bead to a different repository Move a bead from one repository to another.\n\nThis creates a copy of the bead in the target repository (with the new prefix)\nand closes the source bead with a reference to the new location.\n\nThe target prefix determines which repository receives the bead.\nCommon prefixes: gt- (gastown), bd- (beads), hq- (headquarters)\n\nExamples:\n  gt bead move gt-abc123 bd-     # Move gt-abc123 to beads repo as bd-*\n  gt bead move hq-xyz bd-        # Move hq-xyz to beads repo\n  gt bead move bd-123 gt-        # Move bd-123 to gastown repo\n\n```\ngt bead move <bead-id> <target-prefix> [flags]\n``` -n, --dry-run   Show what would be done\n  -h, --help      help for move"
    },
    {
      "cmd": "gt bead read",
      "short": "Show details of a bead (alias for 'show')",
      "synopsis": "Displays the full details of a bead by ID.\n\nThis is an alias for 'gt bead show'. All bd show flags are supported.\n\nExamples:\n  gt bead read gt-abc123          # Show a gastown issue\n  gt bead read hq-xyz789          # Show a town-level bead\n  gt bead read bd-def456          # Show a beads issue\n  gt bead read gt-abc123 --json   # Output as JSON\n\n```\ngt bead read <bead-id> [flags]\n```",
      "usage": "gt bead read <bead-id> [flags]",
      "options": "-h, --help   help for read",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt bead read Show details of a bead (alias for 'show') Displays the full details of a bead by ID.\n\nThis is an alias for 'gt bead show'. All bd show flags are supported.\n\nExamples:\n  gt bead read gt-abc123          # Show a gastown issue\n  gt bead read hq-xyz789          # Show a town-level bead\n  gt bead read bd-def456          # Show a beads issue\n  gt bead read gt-abc123 --json   # Output as JSON\n\n```\ngt bead read <bead-id> [flags]\n``` -h, --help   help for read"
    },
    {
      "cmd": "gt bead show",
      "short": "Show details of a bead",
      "synopsis": "Displays the full details of a bead by ID.\n\nThis is an alias for 'gt show'. All bd show flags are supported.\n\nExamples:\n  gt bead show gt-abc123          # Show a gastown issue\n  gt bead show hq-xyz789          # Show a town-level bead\n  gt bead show bd-def456          # Show a beads issue\n  gt bead show gt-abc123 --json   # Output as JSON\n\n```\ngt bead show <bead-id> [flags]\n```",
      "usage": "gt bead show <bead-id> [flags]",
      "options": "-h, --help   help for show",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt bead show Show details of a bead Displays the full details of a bead by ID.\n\nThis is an alias for 'gt show'. All bd show flags are supported.\n\nExamples:\n  gt bead show gt-abc123          # Show a gastown issue\n  gt bead show hq-xyz789          # Show a town-level bead\n  gt bead show bd-def456          # Show a beads issue\n  gt bead show gt-abc123 --json   # Output as JSON\n\n```\ngt bead show <bead-id> [flags]\n``` -h, --help   help for show"
    },
    {
      "cmd": "gt boot",
      "short": "Manage Boot (Deacon watchdog)",
      "synopsis": "Manage Boot - the daemon's watchdog for Deacon triage.\n\nBoot is a special dog that runs fresh on each daemon tick. It observes\nthe system state and decides whether to start/wake/nudge/interrupt the\nDeacon, or do nothing. This centralizes the \"when to wake\" decision in\nan agent that can reason about it.\n\nBoot lifecycle:\n  1. Daemon tick spawns Boot (fresh each time)\n  2. Boot runs triage: observe, decide, act\n  3. Boot cleans inbox (discards stale handoffs)\n  4. Boot exits (or handoffs in non-degraded mode)\n\nLocation: ~/gt/deacon/dogs/boot/\nSession: gt-boot",
      "usage": "-h, --help   help for boot",
      "options": "-h, --help   help for boot",
      "subcommands": [
        {
          "cmd": "gt boot spawn",
          "desc": "Spawn Boot for triage"
        },
        {
          "cmd": "gt boot status",
          "desc": "Show Boot status"
        },
        {
          "cmd": "gt boot triage",
          "desc": "Run triage directly (degraded mode)"
        }
      ],
      "is_parent": true,
      "search_text": "gt boot Manage Boot (Deacon watchdog) Manage Boot - the daemon's watchdog for Deacon triage.\n\nBoot is a special dog that runs fresh on each daemon tick. It observes\nthe system state and decides whether to start/wake/nudge/interrupt the\nDeacon, or do nothing. This centralizes the \"when to wake\" decision in\nan agent that can reason about it.\n\nBoot lifecycle:\n  1. Daemon tick spawns Boot (fresh each time)\n  2. Boot runs triage: observe, decide, act\n  3. Boot cleans inbox (discards stale handoffs)\n  4. Boot exits (or handoffs in non-degraded mode)\n\nLocation: ~/gt/deacon/dogs/boot/\nSession: gt-boot -h, --help   help for boot"
    },
    {
      "cmd": "gt boot spawn",
      "short": "Spawn Boot for triage",
      "synopsis": "Spawn Boot to run the triage cycle.\n\nThis is normally called by the daemon. It spawns Boot in a fresh\ntmux session (or subprocess in degraded mode) to observe and decide\nwhat action to take on the Deacon.\n\nBoot runs to completion and exits - it doesn't maintain state\nbetween invocations.\n\n```\ngt boot spawn [flags]\n```",
      "usage": "gt boot spawn [flags]",
      "options": "--agent string   Agent alias to run Boot with (overrides town default)\n  -h, --help           help for spawn",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt boot spawn Spawn Boot for triage Spawn Boot to run the triage cycle.\n\nThis is normally called by the daemon. It spawns Boot in a fresh\ntmux session (or subprocess in degraded mode) to observe and decide\nwhat action to take on the Deacon.\n\nBoot runs to completion and exits - it doesn't maintain state\nbetween invocations.\n\n```\ngt boot spawn [flags]\n``` --agent string   Agent alias to run Boot with (overrides town default)\n  -h, --help           help for spawn"
    },
    {
      "cmd": "gt boot status",
      "short": "Show Boot status",
      "synopsis": "Show Boot's current status and last execution.\n\nDisplays:\n  - Whether Boot is currently running\n  - Last action taken (start/wake/nudge/nothing)\n  - Timing information\n  - Degraded mode status\n\n```\ngt boot status [flags]\n```",
      "usage": "gt boot status [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt boot status Show Boot status Show Boot's current status and last execution.\n\nDisplays:\n  - Whether Boot is currently running\n  - Last action taken (start/wake/nudge/nothing)\n  - Timing information\n  - Degraded mode status\n\n```\ngt boot status [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt boot triage",
      "short": "Run triage directly (degraded mode)",
      "synopsis": "Run Boot's triage logic directly without Claude.\n\nThis is for degraded mode operation when tmux is unavailable.\nIt performs basic observation and takes conservative action:\n  - If Deacon is not running: start it\n  - If Deacon appears stuck: attempt restart\n  - Otherwise: do nothing\n\nUse --degraded flag when running in degraded mode.\n\n```\ngt boot triage [flags]\n```",
      "usage": "gt boot triage [flags]",
      "options": "--degraded   Run in degraded mode (no tmux)\n  -h, --help       help for triage",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt boot triage Run triage directly (degraded mode) Run Boot's triage logic directly without Claude.\n\nThis is for degraded mode operation when tmux is unavailable.\nIt performs basic observation and takes conservative action:\n  - If Deacon is not running: start it\n  - If Deacon appears stuck: attempt restart\n  - Otherwise: do nothing\n\nUse --degraded flag when running in degraded mode.\n\n```\ngt boot triage [flags]\n``` --degraded   Run in degraded mode (no tmux)\n  -h, --help       help for triage"
    },
    {
      "cmd": "gt broadcast",
      "short": "Send a nudge message to all workers",
      "synopsis": "Broadcasts a message to all active workers (polecats and crew).\n\nBy default, only workers (polecats and crew) receive the message.\nUse --all to include infrastructure agents (mayor, deacon, witness, refinery).\n\nThe message is sent as a nudge to each worker's Claude Code session.\n\nExamples:\n  gt broadcast \"Check your mail\"\n  gt broadcast --rig greenplace \"New priority work available\"\n  gt broadcast --all \"System maintenance in 5 minutes\"\n  gt broadcast --dry-run \"Test message\"\n\n```\ngt broadcast <message> [flags]\n```",
      "usage": "gt broadcast <message> [flags]",
      "options": "--all          Include all agents (mayor, witness, etc.), not just workers\n      --dry-run      Show what would be sent without sending\n  -h, --help         help for broadcast\n      --rig string   Only broadcast to workers in this rig",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt broadcast Send a nudge message to all workers Broadcasts a message to all active workers (polecats and crew).\n\nBy default, only workers (polecats and crew) receive the message.\nUse --all to include infrastructure agents (mayor, deacon, witness, refinery).\n\nThe message is sent as a nudge to each worker's Claude Code session.\n\nExamples:\n  gt broadcast \"Check your mail\"\n  gt broadcast --rig greenplace \"New priority work available\"\n  gt broadcast --all \"System maintenance in 5 minutes\"\n  gt broadcast --dry-run \"Test message\"\n\n```\ngt broadcast <message> [flags]\n``` --all          Include all agents (mayor, witness, etc.), not just workers\n      --dry-run      Show what would be sent without sending\n  -h, --help         help for broadcast\n      --rig string   Only broadcast to workers in this rig"
    },
    {
      "cmd": "gt callbacks",
      "short": "Handle agent callbacks",
      "synopsis": "Handle callbacks from agents during Deacon patrol.\n\nCallbacks are messages sent to the Mayor from:\n- Witnesses reporting polecat status\n- Refineries reporting merge results\n- Polecats requesting help or escalation\n- External triggers (webhooks, timers)\n\nThis command processes the Mayor's inbox and handles each message\nappropriately, routing to other agents or updating state as needed.",
      "usage": "-h, --help   help for callbacks",
      "options": "-h, --help   help for callbacks",
      "subcommands": [
        {
          "cmd": "gt callbacks process",
          "desc": "Process pending callbacks"
        }
      ],
      "is_parent": true,
      "search_text": "gt callbacks Handle agent callbacks Handle callbacks from agents during Deacon patrol.\n\nCallbacks are messages sent to the Mayor from:\n- Witnesses reporting polecat status\n- Refineries reporting merge results\n- Polecats requesting help or escalation\n- External triggers (webhooks, timers)\n\nThis command processes the Mayor's inbox and handles each message\nappropriately, routing to other agents or updating state as needed. -h, --help   help for callbacks"
    },
    {
      "cmd": "gt callbacks process",
      "short": "Process pending callbacks",
      "synopsis": "Process all pending callbacks in the Mayor's inbox.\n\nReads unread messages from the Mayor's inbox and handles each based on\nits type:\n\n  POLECAT_DONE       - Log completion, update stats\n  MERGE_COMPLETED    - Notify worker, close source issue\n  MERGE_REJECTED     - Notify worker of rejection reason\n  HELP:              - Route to human or handle if possible\n  ESCALATION:        - Log and route to human\n  SLING_REQUEST:     - Spawn polecat for the work\n\nNote: Witnesses and Refineries handle routine operations autonomously.\nThey only send escalations for genuine problems, not status reports.\n\nUnknown message types are logged but left unprocessed.\n\n```\ngt callbacks process [flags]\n```",
      "usage": "gt callbacks process [flags]",
      "options": "--dry-run   Show what would be processed without taking action\n  -h, --help      help for process\n  -v, --verbose   Show detailed processing info",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt callbacks process Process pending callbacks Process all pending callbacks in the Mayor's inbox.\n\nReads unread messages from the Mayor's inbox and handles each based on\nits type:\n\n  POLECAT_DONE       - Log completion, update stats\n  MERGE_COMPLETED    - Notify worker, close source issue\n  MERGE_REJECTED     - Notify worker of rejection reason\n  HELP:              - Route to human or handle if possible\n  ESCALATION:        - Log and route to human\n  SLING_REQUEST:     - Spawn polecat for the work\n\nNote: Witnesses and Refineries handle routine operations autonomously.\nThey only send escalations for genuine problems, not status reports.\n\nUnknown message types are logged but left unprocessed.\n\n```\ngt callbacks process [flags]\n``` --dry-run   Show what would be processed without taking action\n  -h, --help      help for process\n  -v, --verbose   Show detailed processing info"
    },
    {
      "cmd": "gt cat",
      "short": "Display bead content",
      "synopsis": "Display the content of a bead (issue, task, molecule, etc.).\n\nThis is a convenience wrapper around 'bd show' that integrates with gt.\nAccepts any bead ID (bd-*, hq-*, mol-*).\n\nExamples:\n  gt cat bd-abc123       # Show a bead\n  gt cat hq-xyz789       # Show a town-level bead\n  gt cat bd-abc --json   # Output as JSON\n\n```\ngt cat <bead-id> [flags]\n```",
      "usage": "gt cat <bead-id> [flags]",
      "options": "-h, --help   help for cat\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt cat Display bead content Display the content of a bead (issue, task, molecule, etc.).\n\nThis is a convenience wrapper around 'bd show' that integrates with gt.\nAccepts any bead ID (bd-*, hq-*, mol-*).\n\nExamples:\n  gt cat bd-abc123       # Show a bead\n  gt cat hq-xyz789       # Show a town-level bead\n  gt cat bd-abc --json   # Output as JSON\n\n```\ngt cat <bead-id> [flags]\n``` -h, --help   help for cat\n      --json   Output as JSON"
    },
    {
      "cmd": "gt checkpoint",
      "short": "Manage session checkpoints for crash recovery",
      "synopsis": "Manage checkpoints for polecat session crash recovery.\n\nCheckpoints capture the current work state so that if a session crashes,\nthe next session can resume from where it left off.\n\nCheckpoint data includes:\n- Current molecule and step\n- Hooked bead\n- Modified files list\n- Git branch and last commit\n- Timestamp\n\nCheckpoints are stored in .polecat-checkpoint.json in the polecat directory.",
      "usage": "-h, --help   help for checkpoint",
      "options": "-h, --help   help for checkpoint",
      "subcommands": [
        {
          "cmd": "gt checkpoint clear",
          "desc": "Clear the checkpoint file"
        },
        {
          "cmd": "gt checkpoint read",
          "desc": "Read and display the current checkpoint"
        },
        {
          "cmd": "gt checkpoint write",
          "desc": "Write a checkpoint of current session state"
        }
      ],
      "is_parent": true,
      "search_text": "gt checkpoint Manage session checkpoints for crash recovery Manage checkpoints for polecat session crash recovery.\n\nCheckpoints capture the current work state so that if a session crashes,\nthe next session can resume from where it left off.\n\nCheckpoint data includes:\n- Current molecule and step\n- Hooked bead\n- Modified files list\n- Git branch and last commit\n- Timestamp\n\nCheckpoints are stored in .polecat-checkpoint.json in the polecat directory. -h, --help   help for checkpoint"
    },
    {
      "cmd": "gt checkpoint clear",
      "short": "Clear the checkpoint file",
      "synopsis": "Remove the checkpoint file. Use after work is complete or checkpoint is no longer needed.\n\n```\ngt checkpoint clear [flags]\n```",
      "usage": "gt checkpoint clear [flags]",
      "options": "-h, --help   help for clear",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt checkpoint clear Clear the checkpoint file Remove the checkpoint file. Use after work is complete or checkpoint is no longer needed.\n\n```\ngt checkpoint clear [flags]\n``` -h, --help   help for clear"
    },
    {
      "cmd": "gt checkpoint read",
      "short": "Read and display the current checkpoint",
      "synopsis": "Read and display the checkpoint file if one exists.\n\n```\ngt checkpoint read [flags]\n```",
      "usage": "gt checkpoint read [flags]",
      "options": "-h, --help   help for read",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt checkpoint read Read and display the current checkpoint Read and display the checkpoint file if one exists.\n\n```\ngt checkpoint read [flags]\n``` -h, --help   help for read"
    },
    {
      "cmd": "gt checkpoint write",
      "short": "Write a checkpoint of current session state",
      "synopsis": "Capture and write the current session state to a checkpoint file.\n\nThis is typically called:\n- After closing a molecule step\n- Periodically during long work sessions\n- Before handoff to another session\n\nThe checkpoint captures git state, molecule progress, and hooked work.\n\n```\ngt checkpoint write [flags]\n```",
      "usage": "gt checkpoint write [flags]",
      "options": "-h, --help              help for write\n      --molecule string   Override molecule ID (auto-detected if not specified)\n      --notes string      Add notes to the checkpoint\n      --step string       Override step ID (auto-detected if not specified)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt checkpoint write Write a checkpoint of current session state Capture and write the current session state to a checkpoint file.\n\nThis is typically called:\n- After closing a molecule step\n- Periodically during long work sessions\n- Before handoff to another session\n\nThe checkpoint captures git state, molecule progress, and hooked work.\n\n```\ngt checkpoint write [flags]\n``` -h, --help              help for write\n      --molecule string   Override molecule ID (auto-detected if not specified)\n      --notes string      Add notes to the checkpoint\n      --step string       Override step ID (auto-detected if not specified)"
    },
    {
      "cmd": "gt cleanup",
      "short": "Clean up orphaned Claude processes",
      "synopsis": "Clean up orphaned Claude processes that survived session termination.\n\nThis command finds and kills Claude processes that are not associated with\nany active Gas Town tmux session. These orphans can accumulate when:\n- Polecat sessions are killed without proper cleanup\n- Claude spawns subagent processes that outlive their parent\n- Network or system issues interrupt normal shutdown\n\nUses aggressive tmux session verification to detect ALL orphaned processes,\nnot just those with PPID=1.\n\nExamples:\n  gt cleanup              # Clean up orphans with confirmation\n  gt cleanup --dry-run    # Show what would be killed\n  gt cleanup --force      # Kill without confirmation\n\n```\ngt cleanup [flags]\n```",
      "usage": "gt cleanup [flags]",
      "options": "--dry-run   Show what would be killed without killing\n  -f, --force     Kill without confirmation\n  -h, --help      help for cleanup",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt cleanup Clean up orphaned Claude processes Clean up orphaned Claude processes that survived session termination.\n\nThis command finds and kills Claude processes that are not associated with\nany active Gas Town tmux session. These orphans can accumulate when:\n- Polecat sessions are killed without proper cleanup\n- Claude spawns subagent processes that outlive their parent\n- Network or system issues interrupt normal shutdown\n\nUses aggressive tmux session verification to detect ALL orphaned processes,\nnot just those with PPID=1.\n\nExamples:\n  gt cleanup              # Clean up orphans with confirmation\n  gt cleanup --dry-run    # Show what would be killed\n  gt cleanup --force      # Kill without confirmation\n\n```\ngt cleanup [flags]\n``` --dry-run   Show what would be killed without killing\n  -f, --force     Kill without confirmation\n  -h, --help      help for cleanup"
    },
    {
      "cmd": "gt close",
      "short": "Close one or more beads",
      "synopsis": "Close one or more beads (wrapper for 'bd close').\n\nThis is a convenience command that passes through to 'bd close' with\nall arguments and flags preserved.\n\nExamples:\n  gt close gt-abc              # Close bead gt-abc\n  gt close gt-abc gt-def       # Close multiple beads\n  gt close --reason \"Done\"     # Close with reason\n  gt close --comment \"Done\"    # Same as --reason (alias)\n  gt close --force             # Force close pinned beads\n\n```\ngt close [bead-id...] [flags]\n```",
      "usage": "gt close [bead-id...] [flags]",
      "options": "-h, --help   help for close",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt close Close one or more beads Close one or more beads (wrapper for 'bd close').\n\nThis is a convenience command that passes through to 'bd close' with\nall arguments and flags preserved.\n\nExamples:\n  gt close gt-abc              # Close bead gt-abc\n  gt close gt-abc gt-def       # Close multiple beads\n  gt close --reason \"Done\"     # Close with reason\n  gt close --comment \"Done\"    # Same as --reason (alias)\n  gt close --force             # Force close pinned beads\n\n```\ngt close [bead-id...] [flags]\n``` -h, --help   help for close"
    },
    {
      "cmd": "gt commit",
      "short": "Git commit with automatic agent identity",
      "synopsis": "Git commit wrapper that automatically sets git author identity for agents.\n\nWhen run by an agent (GT_ROLE set), this command:\n1. Detects the agent identity from environment variables\n2. Converts it to a git-friendly name and email\n3. Runs 'git commit' with the correct identity\n\nThe email domain is configurable in town settings (agent_email_domain).\nDefault: gastown.local\n\nExamples:\n  gt commit -m \"Fix bug\"              # Commit as current agent\n  gt commit -am \"Quick fix\"           # Stage all and commit\n  gt commit -- --amend                # Amend last commit\n\nIdentity mapping:\n  Agent: gastown/crew/jack  \u2192  Name: gastown/crew/jack\n                                Email: gastown.crew.jack@gastown.local\n\nWhen run without GT_ROLE (human), passes through to git commit with no changes.\n\n```\ngt commit [flags] [-- git-commit-args...]\n```",
      "usage": "gt commit [flags] [-- git-commit-args...]",
      "options": "-h, --help   help for commit",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt commit Git commit with automatic agent identity Git commit wrapper that automatically sets git author identity for agents.\n\nWhen run by an agent (GT_ROLE set), this command:\n1. Detects the agent identity from environment variables\n2. Converts it to a git-friendly name and email\n3. Runs 'git commit' with the correct identity\n\nThe email domain is configurable in town settings (agent_email_domain).\nDefault: gastown.local\n\nExamples:\n  gt commit -m \"Fix bug\"              # Commit as current agent\n  gt commit -am \"Quick fix\"           # Stage all and commit\n  gt commit -- --amend                # Amend last commit\n\nIdentity mapping:\n  Agent: gastown/crew/jack  \u2192  Name: gastown/crew/jack\n                                Email: gastown.crew.jack@gastown.local\n\nWhen run without GT_ROLE (human), passes through to git commit with no changes.\n\n```\ngt commit [flags] [-- git-commit-args...]\n``` -h, --help   help for commit"
    },
    {
      "cmd": "gt config",
      "short": "Manage Gas Town configuration",
      "synopsis": "Manage Gas Town configuration settings.\n\nThis command allows you to view and modify configuration settings\nfor your Gas Town workspace, including agent aliases and defaults.\n\nCommands:\n  gt config agent list              List all agents (built-in and custom)\n  gt config agent get <name>         Show agent configuration\n  gt config agent set <name> <cmd>   Set custom agent command\n  gt config agent remove <name>      Remove custom agent\n  gt config default-agent [name]     Get or set default agent\n\n```\ngt config [flags]\n```",
      "usage": "gt config [flags]",
      "options": "-h, --help   help for config",
      "subcommands": [
        {
          "cmd": "gt config agent",
          "desc": "Manage agent configuration"
        },
        {
          "cmd": "gt config agent-email-domain",
          "desc": "Get or set agent email domain"
        },
        {
          "cmd": "gt config default-agent",
          "desc": "Get or set default agent"
        }
      ],
      "is_parent": true,
      "search_text": "gt config Manage Gas Town configuration Manage Gas Town configuration settings.\n\nThis command allows you to view and modify configuration settings\nfor your Gas Town workspace, including agent aliases and defaults.\n\nCommands:\n  gt config agent list              List all agents (built-in and custom)\n  gt config agent get <name>         Show agent configuration\n  gt config agent set <name> <cmd>   Set custom agent command\n  gt config agent remove <name>      Remove custom agent\n  gt config default-agent [name]     Get or set default agent\n\n```\ngt config [flags]\n``` -h, --help   help for config"
    },
    {
      "cmd": "gt config agent-email-domain",
      "short": "Get or set agent email domain",
      "synopsis": "Get or set the domain used for agent git commit emails.\n\nWhen agents commit code via 'gt commit', their identity is converted\nto a git email address. For example, \"gastown/crew/jack\" becomes\n\"gastown.crew.jack@{domain}\".\n\nWith no arguments, shows the current domain.\nWith an argument, sets the domain.\n\nDefault: gastown.local\n\nExamples:\n  gt config agent-email-domain                 # Show current domain\n  gt config agent-email-domain gastown.local   # Set to gastown.local\n  gt config agent-email-domain example.com     # Set custom domain\n\n```\ngt config agent-email-domain [domain] [flags]\n```",
      "usage": "gt config agent-email-domain [domain] [flags]",
      "options": "-h, --help   help for agent-email-domain",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt config agent-email-domain Get or set agent email domain Get or set the domain used for agent git commit emails.\n\nWhen agents commit code via 'gt commit', their identity is converted\nto a git email address. For example, \"gastown/crew/jack\" becomes\n\"gastown.crew.jack@{domain}\".\n\nWith no arguments, shows the current domain.\nWith an argument, sets the domain.\n\nDefault: gastown.local\n\nExamples:\n  gt config agent-email-domain                 # Show current domain\n  gt config agent-email-domain gastown.local   # Set to gastown.local\n  gt config agent-email-domain example.com     # Set custom domain\n\n```\ngt config agent-email-domain [domain] [flags]\n``` -h, --help   help for agent-email-domain"
    },
    {
      "cmd": "gt config agent",
      "short": "Manage agent configuration",
      "synopsis": "",
      "usage": "gt config agent [flags]",
      "options": "-h, --help   help for agent",
      "subcommands": [
        {
          "cmd": "gt config agent get",
          "desc": "Show agent configuration"
        },
        {
          "cmd": "gt config agent list",
          "desc": "List all agents"
        },
        {
          "cmd": "gt config agent remove",
          "desc": "Remove custom agent"
        },
        {
          "cmd": "gt config agent set",
          "desc": "Set custom agent command"
        }
      ],
      "is_parent": true,
      "search_text": "gt config agent Manage agent configuration  -h, --help   help for agent"
    },
    {
      "cmd": "gt config agent get",
      "short": "Show agent configuration",
      "synopsis": "Show the configuration for a specific agent.\n\nDisplays the full configuration for an agent, including command,\narguments, and other settings. Works for both built-in and custom agents.\n\nExamples:\n  gt config agent get claude\n  gt config agent get my-custom-agent\n\n```\ngt config agent get <name> [flags]\n```",
      "usage": "gt config agent get <name> [flags]",
      "options": "-h, --help   help for get",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt config agent get Show agent configuration Show the configuration for a specific agent.\n\nDisplays the full configuration for an agent, including command,\narguments, and other settings. Works for both built-in and custom agents.\n\nExamples:\n  gt config agent get claude\n  gt config agent get my-custom-agent\n\n```\ngt config agent get <name> [flags]\n``` -h, --help   help for get"
    },
    {
      "cmd": "gt config agent list",
      "short": "List all agents",
      "synopsis": "List all available agents (built-in and custom).\n\nShows all built-in agent presets (claude, gemini, codex) and any\ncustom agents defined in your town settings.\n\nExamples:\n  gt config agent list           # Text output\n  gt config agent list --json    # JSON output\n\n```\ngt config agent list [flags]\n```",
      "usage": "gt config agent list [flags]",
      "options": "-h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt config agent list List all agents List all available agents (built-in and custom).\n\nShows all built-in agent presets (claude, gemini, codex) and any\ncustom agents defined in your town settings.\n\nExamples:\n  gt config agent list           # Text output\n  gt config agent list --json    # JSON output\n\n```\ngt config agent list [flags]\n``` -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt config agent remove",
      "short": "Remove custom agent",
      "synopsis": "Remove a custom agent definition from town settings.\n\nThis removes a custom agent from your town settings. Built-in agents\n(claude, gemini, codex) cannot be removed.\n\nExamples:\n  gt config agent remove claude-glm\n\n```\ngt config agent remove <name> [flags]\n```",
      "usage": "gt config agent remove <name> [flags]",
      "options": "-h, --help   help for remove",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt config agent remove Remove custom agent Remove a custom agent definition from town settings.\n\nThis removes a custom agent from your town settings. Built-in agents\n(claude, gemini, codex) cannot be removed.\n\nExamples:\n  gt config agent remove claude-glm\n\n```\ngt config agent remove <name> [flags]\n``` -h, --help   help for remove"
    },
    {
      "cmd": "gt config agent set",
      "short": "Set custom agent command",
      "synopsis": "Set a custom agent command in town settings.\n\nThis creates or updates a custom agent definition that overrides\nor extends the built-in presets. The custom agent will be available\nto all rigs in the town.\n\nThe command can include arguments. Use quotes if the command or\narguments contain spaces.\n\nExamples:\n  gt config agent set claude-glm \\\"claude-glm --model glm-4\\\"\n  gt config agent set gemini-custom gemini --approval-mode yolo\n  gt config agent set claude \\\"claude-glm\\\"  # Override built-in claude\n\n```\ngt config agent set <name> <command> [flags]\n```",
      "usage": "gt config agent set <name> <command> [flags]",
      "options": "-h, --help   help for set",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt config agent set Set custom agent command Set a custom agent command in town settings.\n\nThis creates or updates a custom agent definition that overrides\nor extends the built-in presets. The custom agent will be available\nto all rigs in the town.\n\nThe command can include arguments. Use quotes if the command or\narguments contain spaces.\n\nExamples:\n  gt config agent set claude-glm \\\"claude-glm --model glm-4\\\"\n  gt config agent set gemini-custom gemini --approval-mode yolo\n  gt config agent set claude \\\"claude-glm\\\"  # Override built-in claude\n\n```\ngt config agent set <name> <command> [flags]\n``` -h, --help   help for set"
    },
    {
      "cmd": "gt config default-agent",
      "short": "Get or set default agent",
      "synopsis": "Get or set the default agent for the town.\n\nWith no arguments, shows the current default agent.\nWith an argument, sets the default agent to the specified name.\n\nThe default agent is used when a rig doesn't specify its own agent\nsetting. Can be a built-in preset (claude, gemini, codex) or a\ncustom agent name.\n\nExamples:\n  gt config default-agent           # Show current default\n  gt config default-agent claude    # Set to claude\n  gt config default-agent gemini    # Set to gemini\n  gt config default-agent my-custom # Set to custom agent\n\n```\ngt config default-agent [name] [flags]\n```",
      "usage": "gt config default-agent [name] [flags]",
      "options": "-h, --help   help for default-agent",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt config default-agent Get or set default agent Get or set the default agent for the town.\n\nWith no arguments, shows the current default agent.\nWith an argument, sets the default agent to the specified name.\n\nThe default agent is used when a rig doesn't specify its own agent\nsetting. Can be a built-in preset (claude, gemini, codex) or a\ncustom agent name.\n\nExamples:\n  gt config default-agent           # Show current default\n  gt config default-agent claude    # Set to claude\n  gt config default-agent gemini    # Set to gemini\n  gt config default-agent my-custom # Set to custom agent\n\n```\ngt config default-agent [name] [flags]\n``` -h, --help   help for default-agent"
    },
    {
      "cmd": "gt convoy",
      "short": "Track batches of work across rigs",
      "synopsis": "Manage convoys - the primary unit for tracking batched work.\n\nA convoy is a persistent tracking unit that monitors related issues across\nrigs. When you kick off work (even a single issue), a convoy tracks it so\nyou can see when it lands and what was included.\n\nWHAT IS A CONVOY:\n  - Persistent tracking unit with an ID (hq-*)\n  - Tracks issues across rigs (frontend+backend, beads+gastown, etc.)\n  - Auto-closes when all tracked issues complete \u2192 notifies subscribers\n  - Can be reopened by adding more issues\n\nWHAT IS A SWARM:\n  - Ephemeral: \"the workers currently assigned to a convoy's issues\"\n  - No separate ID - uses the convoy ID\n  - Dissolves when work completes\n\nTRACKING SEMANTICS:\n  - 'tracks' relation is non-blocking (tracked issues don't block convoy)\n  - Cross-prefix capable (convoy in hq-* tracks issues in gt-*, bd-*)\n  - Landed: all tracked issues closed \u2192 notification sent to subscribers\n\nCOMMANDS:\n  create    Create a convoy tracking specified issues\n  add       Add issues to an existing convoy (reopens if closed)\n  close     Close a convoy (manually, regardless of tracked issue status)\n  status    Show convoy progress, tracked issues, and active workers\n  list      List convoys (the dashboard view)\n\n```\ngt convoy [flags]\n```",
      "usage": "gt convoy [flags]",
      "options": "-h, --help          help for convoy\n  -i, --interactive   Interactive tree view",
      "subcommands": [
        {
          "cmd": "gt convoy add",
          "desc": "Add issues to an existing convoy"
        },
        {
          "cmd": "gt convoy check",
          "desc": "Check and auto-close completed convoys"
        },
        {
          "cmd": "gt convoy close",
          "desc": "Close a convoy"
        },
        {
          "cmd": "gt convoy create",
          "desc": "Create a new convoy"
        },
        {
          "cmd": "gt convoy list",
          "desc": "List convoys"
        },
        {
          "cmd": "gt convoy status",
          "desc": "Show convoy status"
        },
        {
          "cmd": "gt convoy stranded",
          "desc": "Find stranded convoys with ready work but no workers"
        }
      ],
      "is_parent": true,
      "search_text": "gt convoy Track batches of work across rigs Manage convoys - the primary unit for tracking batched work.\n\nA convoy is a persistent tracking unit that monitors related issues across\nrigs. When you kick off work (even a single issue), a convoy tracks it so\nyou can see when it lands and what was included.\n\nWHAT IS A CONVOY:\n  - Persistent tracking unit with an ID (hq-*)\n  - Tracks issues across rigs (frontend+backend, beads+gastown, etc.)\n  - Auto-closes when all tracked issues complete \u2192 notifies subscribers\n  - Can be reopened by adding more issues\n\nWHAT IS A SWARM:\n  - Ephemeral: \"the workers currently assigned to a convoy's issues\"\n  - No separate ID - uses the convoy ID\n  - Dissolves when work completes\n\nTRACKING SEMANTICS:\n  - 'tracks' relation is non-blocking (tracked issues don't block convoy)\n  - Cross-prefix capable (convoy in hq-* tracks issues in gt-*, bd-*)\n  - Landed: all tracked issues closed \u2192 notification sent to subscribers\n\nCOMMANDS:\n  create    Create a convoy tracking specified issues\n  add       Add issues to an existing convoy (reopens if closed)\n  close     Close a convoy (manually, regardless of tracked issue status)\n  status    Show convoy progress, tracked issues, and active workers\n  list      List convoys (the dashboard view)\n\n```\ngt convoy [flags]\n``` -h, --help          help for convoy\n  -i, --interactive   Interactive tree view"
    },
    {
      "cmd": "gt convoy add",
      "short": "Add issues to an existing convoy",
      "synopsis": "Add issues to an existing convoy.\n\nIf the convoy is closed, it will be automatically reopened.\n\nExamples:\n  gt convoy add hq-cv-abc gt-new-issue\n  gt convoy add hq-cv-abc gt-issue1 gt-issue2 gt-issue3\n\n```\ngt convoy add <convoy-id> <issue-id> [issue-id...] [flags]\n```",
      "usage": "gt convoy add <convoy-id> <issue-id> [issue-id...] [flags]",
      "options": "-h, --help   help for add",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt convoy add Add issues to an existing convoy Add issues to an existing convoy.\n\nIf the convoy is closed, it will be automatically reopened.\n\nExamples:\n  gt convoy add hq-cv-abc gt-new-issue\n  gt convoy add hq-cv-abc gt-issue1 gt-issue2 gt-issue3\n\n```\ngt convoy add <convoy-id> <issue-id> [issue-id...] [flags]\n``` -h, --help   help for add"
    },
    {
      "cmd": "gt convoy check",
      "short": "Check and auto-close completed convoys",
      "synopsis": "Check convoys and auto-close any where all tracked issues are complete.\n\nWithout arguments, checks all open convoys. With a convoy ID, checks only that convoy.\n\nThis handles cross-rig convoy completion: convoys in town beads tracking issues\nin rig beads won't auto-close via bd close alone. This command bridges that gap.\n\nCan be run manually or by deacon patrol to ensure convoys close promptly.\n\nExamples:\n  gt convoy check              # Check all open convoys\n  gt convoy check hq-cv-abc    # Check specific convoy\n  gt convoy check --dry-run    # Preview what would close without acting\n\n```\ngt convoy check [convoy-id] [flags]\n```",
      "usage": "gt convoy check [convoy-id] [flags]",
      "options": "--dry-run   Preview what would close without acting\n  -h, --help      help for check",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt convoy check Check and auto-close completed convoys Check convoys and auto-close any where all tracked issues are complete.\n\nWithout arguments, checks all open convoys. With a convoy ID, checks only that convoy.\n\nThis handles cross-rig convoy completion: convoys in town beads tracking issues\nin rig beads won't auto-close via bd close alone. This command bridges that gap.\n\nCan be run manually or by deacon patrol to ensure convoys close promptly.\n\nExamples:\n  gt convoy check              # Check all open convoys\n  gt convoy check hq-cv-abc    # Check specific convoy\n  gt convoy check --dry-run    # Preview what would close without acting\n\n```\ngt convoy check [convoy-id] [flags]\n``` --dry-run   Preview what would close without acting\n  -h, --help      help for check"
    },
    {
      "cmd": "gt convoy close",
      "short": "Close a convoy",
      "synopsis": "Close a convoy, optionally with a reason.\n\nCloses the convoy regardless of tracked issue status. Use this to:\n- Force-close abandoned convoys no longer relevant\n- Close convoys where work completed outside the tracked path\n- Manually close stuck convoys\n\nThe close is idempotent - closing an already-closed convoy is a no-op.\n\nExamples:\n  gt convoy close hq-cv-abc\n  gt convoy close hq-cv-abc --reason=\"work done differently\"\n  gt convoy close hq-cv-xyz --notify mayor/\n\n```\ngt convoy close <convoy-id> [flags]\n```",
      "usage": "gt convoy close <convoy-id> [flags]",
      "options": "-h, --help            help for close\n      --notify string   Agent to notify on close (e.g., mayor/)\n      --reason string   Reason for closing the convoy",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt convoy close Close a convoy Close a convoy, optionally with a reason.\n\nCloses the convoy regardless of tracked issue status. Use this to:\n- Force-close abandoned convoys no longer relevant\n- Close convoys where work completed outside the tracked path\n- Manually close stuck convoys\n\nThe close is idempotent - closing an already-closed convoy is a no-op.\n\nExamples:\n  gt convoy close hq-cv-abc\n  gt convoy close hq-cv-abc --reason=\"work done differently\"\n  gt convoy close hq-cv-xyz --notify mayor/\n\n```\ngt convoy close <convoy-id> [flags]\n``` -h, --help            help for close\n      --notify string   Agent to notify on close (e.g., mayor/)\n      --reason string   Reason for closing the convoy"
    },
    {
      "cmd": "gt convoy create",
      "short": "Create a new convoy",
      "synopsis": "Create a new convoy that tracks the specified issues.\n\nThe convoy is created in town-level beads (hq-* prefix) and can track\nissues across any rig.\n\nThe --owner flag specifies who requested the convoy (receives completion\nnotification by default). If not specified, defaults to created_by.\nThe --notify flag adds additional subscribers beyond the owner.\n\nExamples:\n  gt convoy create \"Deploy v2.0\" gt-abc bd-xyz\n  gt convoy create \"Release prep\" gt-abc --notify           # defaults to mayor/\n  gt convoy create \"Release prep\" gt-abc --notify ops/      # notify ops/\n  gt convoy create \"Feature rollout\" gt-a gt-b --owner mayor/ --notify ops/\n  gt convoy create \"Feature rollout\" gt-a gt-b gt-c --molecule mol-release\n\n```\ngt convoy create <name> [issues...] [flags]\n```",
      "usage": "gt convoy create <name> [issues...] [flags]",
      "options": "-h, --help                       help for create\n      --molecule string            Associated molecule ID\n      --notify string[=\"mayor/\"]   Additional address to notify on completion (default: mayor/ if flag used without value)\n      --owner string               Owner who requested convoy (gets completion notification)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt convoy create Create a new convoy Create a new convoy that tracks the specified issues.\n\nThe convoy is created in town-level beads (hq-* prefix) and can track\nissues across any rig.\n\nThe --owner flag specifies who requested the convoy (receives completion\nnotification by default). If not specified, defaults to created_by.\nThe --notify flag adds additional subscribers beyond the owner.\n\nExamples:\n  gt convoy create \"Deploy v2.0\" gt-abc bd-xyz\n  gt convoy create \"Release prep\" gt-abc --notify           # defaults to mayor/\n  gt convoy create \"Release prep\" gt-abc --notify ops/      # notify ops/\n  gt convoy create \"Feature rollout\" gt-a gt-b --owner mayor/ --notify ops/\n  gt convoy create \"Feature rollout\" gt-a gt-b gt-c --molecule mol-release\n\n```\ngt convoy create <name> [issues...] [flags]\n``` -h, --help                       help for create\n      --molecule string            Associated molecule ID\n      --notify string[=\"mayor/\"]   Additional address to notify on completion (default: mayor/ if flag used without value)\n      --owner string               Owner who requested convoy (gets completion notification)"
    },
    {
      "cmd": "gt convoy list",
      "short": "List convoys",
      "synopsis": "List convoys, showing open convoys by default.\n\nExamples:\n  gt convoy list              # Open convoys only (default)\n  gt convoy list --all        # All convoys (open + closed)\n  gt convoy list --status=closed  # Recently landed\n  gt convoy list --tree       # Show convoy + child status tree\n  gt convoy list --json\n\n```\ngt convoy list [flags]\n```",
      "usage": "gt convoy list [flags]",
      "options": "--all             Show all convoys (open and closed)\n  -h, --help            help for list\n      --json            Output as JSON\n      --status string   Filter by status (open, closed)\n      --tree            Show convoy + child status tree",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt convoy list List convoys List convoys, showing open convoys by default.\n\nExamples:\n  gt convoy list              # Open convoys only (default)\n  gt convoy list --all        # All convoys (open + closed)\n  gt convoy list --status=closed  # Recently landed\n  gt convoy list --tree       # Show convoy + child status tree\n  gt convoy list --json\n\n```\ngt convoy list [flags]\n``` --all             Show all convoys (open and closed)\n  -h, --help            help for list\n      --json            Output as JSON\n      --status string   Filter by status (open, closed)\n      --tree            Show convoy + child status tree"
    },
    {
      "cmd": "gt convoy status",
      "short": "Show convoy status",
      "synopsis": "Show detailed status for a convoy.\n\nDisplays convoy metadata, tracked issues, and completion progress.\nWithout an ID, shows status of all active convoys.\n\n```\ngt convoy status [convoy-id] [flags]\n```",
      "usage": "gt convoy status [convoy-id] [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt convoy status Show convoy status Show detailed status for a convoy.\n\nDisplays convoy metadata, tracked issues, and completion progress.\nWithout an ID, shows status of all active convoys.\n\n```\ngt convoy status [convoy-id] [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt convoy stranded",
      "short": "Find stranded convoys with ready work but no workers",
      "synopsis": "Find convoys that have ready issues but no workers processing them.\n\nA convoy is \"stranded\" when:\n- Convoy is open\n- Has tracked issues where:\n  - status = open (not in_progress, not closed)\n  - not blocked (all dependencies met)\n  - no assignee OR assignee session is dead\n\nUse this to detect convoys that need feeding. The Deacon patrol runs this\nperiodically and dispatches dogs to feed stranded convoys.\n\nExamples:\n  gt convoy stranded              # Show stranded convoys\n  gt convoy stranded --json       # Machine-readable output for automation\n\n```\ngt convoy stranded [flags]\n```",
      "usage": "gt convoy stranded [flags]",
      "options": "-h, --help   help for stranded\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt convoy stranded Find stranded convoys with ready work but no workers Find convoys that have ready issues but no workers processing them.\n\nA convoy is \"stranded\" when:\n- Convoy is open\n- Has tracked issues where:\n  - status = open (not in_progress, not closed)\n  - not blocked (all dependencies met)\n  - no assignee OR assignee session is dead\n\nUse this to detect convoys that need feeding. The Deacon patrol runs this\nperiodically and dispatches dogs to feed stranded convoys.\n\nExamples:\n  gt convoy stranded              # Show stranded convoys\n  gt convoy stranded --json       # Machine-readable output for automation\n\n```\ngt convoy stranded [flags]\n``` -h, --help   help for stranded\n      --json   Output as JSON"
    },
    {
      "cmd": "gt costs",
      "short": "Show costs for running Claude sessions",
      "synopsis": "Display costs for Claude Code sessions in Gas Town.\n\nCosts are calculated from Claude Code transcript files at ~/.claude/projects/\nby summing token usage from assistant messages and applying model-specific pricing.\n\nExamples:\n  gt costs              # Live costs from running sessions\n  gt costs --today      # Today's costs from log file (not yet digested)\n  gt costs --week       # This week's costs from digest beads + today's log\n  gt costs --by-role    # Breakdown by role (polecat, witness, etc.)\n  gt costs --by-rig     # Breakdown by rig\n  gt costs --json       # Output as JSON\n  gt costs -v           # Show debug output for failures\n\nSubcommands:\n  gt costs record       # Record session cost to local log file (Stop hook)\n  gt costs digest       # Aggregate log entries into daily digest bead (Deacon patrol)\n\n```\ngt costs [flags]\n```",
      "usage": "gt costs [flags]",
      "options": "--by-rig    Show breakdown by rig\n      --by-role   Show breakdown by role\n  -h, --help      help for costs\n      --json      Output as JSON\n      --today     Show today's total from session events\n  -v, --verbose   Show debug output for failures\n      --week      Show this week's total from session events",
      "subcommands": [
        {
          "cmd": "gt costs digest",
          "desc": "Aggregate session cost log entries into a daily digest bead"
        },
        {
          "cmd": "gt costs migrate",
          "desc": "Migrate legacy session.ended beads to the new log-file architecture"
        },
        {
          "cmd": "gt costs record",
          "desc": "Record session cost to local log file (called by Stop hook)"
        }
      ],
      "is_parent": true,
      "search_text": "gt costs Show costs for running Claude sessions Display costs for Claude Code sessions in Gas Town.\n\nCosts are calculated from Claude Code transcript files at ~/.claude/projects/\nby summing token usage from assistant messages and applying model-specific pricing.\n\nExamples:\n  gt costs              # Live costs from running sessions\n  gt costs --today      # Today's costs from log file (not yet digested)\n  gt costs --week       # This week's costs from digest beads + today's log\n  gt costs --by-role    # Breakdown by role (polecat, witness, etc.)\n  gt costs --by-rig     # Breakdown by rig\n  gt costs --json       # Output as JSON\n  gt costs -v           # Show debug output for failures\n\nSubcommands:\n  gt costs record       # Record session cost to local log file (Stop hook)\n  gt costs digest       # Aggregate log entries into daily digest bead (Deacon patrol)\n\n```\ngt costs [flags]\n``` --by-rig    Show breakdown by rig\n      --by-role   Show breakdown by role\n  -h, --help      help for costs\n      --json      Output as JSON\n      --today     Show today's total from session events\n  -v, --verbose   Show debug output for failures\n      --week      Show this week's total from session events"
    },
    {
      "cmd": "gt costs digest",
      "short": "Aggregate session cost log entries into a daily digest bead",
      "synopsis": "Aggregate session cost log entries into a permanent daily digest.\n\nThis command is intended to be run by Deacon patrol (daily) or manually.\nIt reads entries from ~/.gt/costs.jsonl for a target date, creates a single\naggregate \"Cost Report YYYY-MM-DD\" bead, then removes the source entries.\n\nThe resulting digest bead is permanent (exported to JSONL, synced via git)\nand provides an audit trail without log-in-database pollution.\n\nExamples:\n  gt costs digest --yesterday   # Digest yesterday's costs (default for patrol)\n  gt costs digest --date 2026-01-07  # Digest a specific date\n  gt costs digest --yesterday --dry-run  # Preview without changes\n\n```\ngt costs digest [flags]\n```",
      "usage": "gt costs digest [flags]",
      "options": "--date string   Digest a specific date (YYYY-MM-DD)\n      --dry-run       Preview what would be done without making changes\n  -h, --help          help for digest\n      --yesterday     Digest yesterday's costs (default for patrol)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt costs digest Aggregate session cost log entries into a daily digest bead Aggregate session cost log entries into a permanent daily digest.\n\nThis command is intended to be run by Deacon patrol (daily) or manually.\nIt reads entries from ~/.gt/costs.jsonl for a target date, creates a single\naggregate \"Cost Report YYYY-MM-DD\" bead, then removes the source entries.\n\nThe resulting digest bead is permanent (exported to JSONL, synced via git)\nand provides an audit trail without log-in-database pollution.\n\nExamples:\n  gt costs digest --yesterday   # Digest yesterday's costs (default for patrol)\n  gt costs digest --date 2026-01-07  # Digest a specific date\n  gt costs digest --yesterday --dry-run  # Preview without changes\n\n```\ngt costs digest [flags]\n``` --date string   Digest a specific date (YYYY-MM-DD)\n      --dry-run       Preview what would be done without making changes\n  -h, --help          help for digest\n      --yesterday     Digest yesterday's costs (default for patrol)"
    },
    {
      "cmd": "gt costs migrate",
      "short": "Migrate legacy session.ended beads to the new log-file architecture",
      "synopsis": "Migrate legacy session.ended event beads to the new cost tracking system.\n\nThis command handles the transition from the old architecture (where each\nsession.ended event was a permanent bead) to the new log-file-based system.\n\nThe migration:\n1. Finds all open session.ended event beads (should be none if auto-close worked)\n2. Closes them with reason \"migrated to log-file architecture\"\n\nLegacy beads remain in the database for historical queries but won't interfere\nwith the new log-file-based cost tracking.\n\nExamples:\n  gt costs migrate            # Migrate legacy beads\n  gt costs migrate --dry-run  # Preview what would be migrated\n\n```\ngt costs migrate [flags]\n```",
      "usage": "gt costs migrate [flags]",
      "options": "--dry-run   Preview what would be migrated without making changes\n  -h, --help      help for migrate",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt costs migrate Migrate legacy session.ended beads to the new log-file architecture Migrate legacy session.ended event beads to the new cost tracking system.\n\nThis command handles the transition from the old architecture (where each\nsession.ended event was a permanent bead) to the new log-file-based system.\n\nThe migration:\n1. Finds all open session.ended event beads (should be none if auto-close worked)\n2. Closes them with reason \"migrated to log-file architecture\"\n\nLegacy beads remain in the database for historical queries but won't interfere\nwith the new log-file-based cost tracking.\n\nExamples:\n  gt costs migrate            # Migrate legacy beads\n  gt costs migrate --dry-run  # Preview what would be migrated\n\n```\ngt costs migrate [flags]\n``` --dry-run   Preview what would be migrated without making changes\n  -h, --help      help for migrate"
    },
    {
      "cmd": "gt costs record",
      "short": "Record session cost to local log file (called by Stop hook)",
      "synopsis": "Record the final cost of a session to a local log file.\n\nThis command is intended to be called from a Claude Code Stop hook.\nIt reads token usage from the Claude Code transcript file (~/.claude/projects/...)\nand calculates the cost based on model pricing, then appends it to\n~/.gt/costs.jsonl. This is a simple append operation that never fails\ndue to database availability.\n\nSession costs are aggregated daily by 'gt costs digest' into a single\npermanent \"Cost Report YYYY-MM-DD\" bead for audit purposes.\n\nExamples:\n  gt costs record --session gt-gastown-toast\n  gt costs record --session gt-gastown-toast --work-item gt-abc123\n\n```\ngt costs record [flags]\n```",
      "usage": "gt costs record [flags]",
      "options": "-h, --help               help for record\n      --session string     Tmux session name to record\n      --work-item string   Work item ID (bead) for attribution",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt costs record Record session cost to local log file (called by Stop hook) Record the final cost of a session to a local log file.\n\nThis command is intended to be called from a Claude Code Stop hook.\nIt reads token usage from the Claude Code transcript file (~/.claude/projects/...)\nand calculates the cost based on model pricing, then appends it to\n~/.gt/costs.jsonl. This is a simple append operation that never fails\ndue to database availability.\n\nSession costs are aggregated daily by 'gt costs digest' into a single\npermanent \"Cost Report YYYY-MM-DD\" bead for audit purposes.\n\nExamples:\n  gt costs record --session gt-gastown-toast\n  gt costs record --session gt-gastown-toast --work-item gt-abc123\n\n```\ngt costs record [flags]\n``` -h, --help               help for record\n      --session string     Tmux session name to record\n      --work-item string   Work item ID (bead) for attribution"
    },
    {
      "cmd": "gt crew",
      "short": "Manage crew workers (persistent workspaces for humans)",
      "synopsis": "Manage crew workers - persistent workspaces for human developers.\n\nCREW VS POLECATS:\n  Polecats: Ephemeral. Witness-managed. Auto-nuked after work.\n  Crew:     Persistent. User-managed. Stays until you remove it.\n\nCrew workers are full git clones (not worktrees) for human developers\nwho want persistent context and control over their workspace lifecycle.\nUse crew workers for exploratory work, long-running tasks, or when you\nwant to keep uncommitted changes around.\n\nFeatures:\n  - Gas Town integrated: Mail, nudge, handoff all work\n  - Recognizable names: dave, emma, fred (not ephemeral pool names)\n  - Tmux optional: Can work in terminal directly without tmux session\n\nCommands:\n  gt crew start <name>     Start session (creates workspace if needed)\n  gt crew stop <name>      Stop session(s)\n  gt crew add <name>       Create workspace without starting\n  gt crew list             List workspaces with status\n  gt crew at <name>        Attach to session\n  gt crew remove <name>    Remove workspace\n  gt crew refresh <name>   Context cycle with handoff mail\n  gt crew restart <name>   Kill and restart session fresh\n\n```\ngt crew [flags]\n```",
      "usage": "gt crew [flags]",
      "options": "-h, --help   help for crew",
      "subcommands": [
        {
          "cmd": "gt crew add",
          "desc": "Create a new crew workspace"
        },
        {
          "cmd": "gt crew at",
          "desc": "Attach to crew workspace session"
        },
        {
          "cmd": "gt crew list",
          "desc": "List crew workspaces with status"
        },
        {
          "cmd": "gt crew pristine",
          "desc": "Sync crew workspaces with remote"
        },
        {
          "cmd": "gt crew refresh",
          "desc": "Context cycling with mail-to-self handoff"
        },
        {
          "cmd": "gt crew remove",
          "desc": "Remove crew workspace(s)"
        },
        {
          "cmd": "gt crew rename",
          "desc": "Rename a crew workspace"
        },
        {
          "cmd": "gt crew restart",
          "desc": "Kill and restart crew workspace session(s)"
        },
        {
          "cmd": "gt crew start",
          "desc": "Start crew worker(s) in a rig"
        },
        {
          "cmd": "gt crew status",
          "desc": "Show detailed workspace status"
        },
        {
          "cmd": "gt crew stop",
          "desc": "Stop crew workspace session(s)"
        }
      ],
      "is_parent": true,
      "search_text": "gt crew Manage crew workers (persistent workspaces for humans) Manage crew workers - persistent workspaces for human developers.\n\nCREW VS POLECATS:\n  Polecats: Ephemeral. Witness-managed. Auto-nuked after work.\n  Crew:     Persistent. User-managed. Stays until you remove it.\n\nCrew workers are full git clones (not worktrees) for human developers\nwho want persistent context and control over their workspace lifecycle.\nUse crew workers for exploratory work, long-running tasks, or when you\nwant to keep uncommitted changes around.\n\nFeatures:\n  - Gas Town integrated: Mail, nudge, handoff all work\n  - Recognizable names: dave, emma, fred (not ephemeral pool names)\n  - Tmux optional: Can work in terminal directly without tmux session\n\nCommands:\n  gt crew start <name>     Start session (creates workspace if needed)\n  gt crew stop <name>      Stop session(s)\n  gt crew add <name>       Create workspace without starting\n  gt crew list             List workspaces with status\n  gt crew at <name>        Attach to session\n  gt crew remove <name>    Remove workspace\n  gt crew refresh <name>   Context cycle with handoff mail\n  gt crew restart <name>   Kill and restart session fresh\n\n```\ngt crew [flags]\n``` -h, --help   help for crew"
    },
    {
      "cmd": "gt crew add",
      "short": "Create a new crew workspace",
      "synopsis": "Create new crew workspace(s) with a clone of the rig repository.\n\nEach workspace is created at <rig>/crew/<name>/ with:\n- A full git clone of the project repository\n- Mail directory for message delivery\n- CLAUDE.md with crew worker prompting\n- Optional feature branch (crew/<name>)\n\nExamples:\n  gt crew add dave                       # Create single workspace\n  gt crew add murgen croaker goblin      # Create multiple at once\n  gt crew add emma --rig greenplace      # Create in specific rig\n  gt crew add fred --branch              # Create with feature branch\n\n```\ngt crew add <name> [flags]\n```",
      "usage": "gt crew add <name> [flags]",
      "options": "--branch       Create a feature branch (crew/<name>)\n  -h, --help         help for add\n      --rig string   Rig to create crew workspace in",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew add Create a new crew workspace Create new crew workspace(s) with a clone of the rig repository.\n\nEach workspace is created at <rig>/crew/<name>/ with:\n- A full git clone of the project repository\n- Mail directory for message delivery\n- CLAUDE.md with crew worker prompting\n- Optional feature branch (crew/<name>)\n\nExamples:\n  gt crew add dave                       # Create single workspace\n  gt crew add murgen croaker goblin      # Create multiple at once\n  gt crew add emma --rig greenplace      # Create in specific rig\n  gt crew add fred --branch              # Create with feature branch\n\n```\ngt crew add <name> [flags]\n``` --branch       Create a feature branch (crew/<name>)\n  -h, --help         help for add\n      --rig string   Rig to create crew workspace in"
    },
    {
      "cmd": "gt crew at",
      "short": "Attach to crew workspace session",
      "synopsis": "Start or attach to a tmux session for a crew workspace.\n\nCreates a new tmux session if none exists, or attaches to existing.\nUse --no-tmux to just print the directory path instead.\n\nWhen run from inside tmux, the session is started but you stay in your\ncurrent pane. Use C-b s to switch to the new session.\n\nWhen run from outside tmux, you are attached to the session (unless\n--detached is specified).\n\nRole Discovery:\n  If no name is provided, attempts to detect the crew workspace from the\n  current directory. If you're in <rig>/crew/<name>/, it will attach to\n  that workspace automatically.\n\nExamples:\n  gt crew at dave                 # Attach to dave's session\n  gt crew at                      # Auto-detect from cwd\n  gt crew at dave --detached      # Start session without attaching\n  gt crew at dave --no-tmux       # Just print path\n\n```\ngt crew at [name] [flags]\n```",
      "usage": "gt crew at [name] [flags]",
      "options": "--account string   Claude Code account handle to use (overrides default)\n      --agent string     Agent alias to run crew worker with (overrides rig/town default)\n      --debug            Show debug output for troubleshooting\n  -d, --detached         Start session without attaching\n  -h, --help             help for at\n      --no-tmux          Just print directory path\n      --rig string       Rig to use",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew at Attach to crew workspace session Start or attach to a tmux session for a crew workspace.\n\nCreates a new tmux session if none exists, or attaches to existing.\nUse --no-tmux to just print the directory path instead.\n\nWhen run from inside tmux, the session is started but you stay in your\ncurrent pane. Use C-b s to switch to the new session.\n\nWhen run from outside tmux, you are attached to the session (unless\n--detached is specified).\n\nRole Discovery:\n  If no name is provided, attempts to detect the crew workspace from the\n  current directory. If you're in <rig>/crew/<name>/, it will attach to\n  that workspace automatically.\n\nExamples:\n  gt crew at dave                 # Attach to dave's session\n  gt crew at                      # Auto-detect from cwd\n  gt crew at dave --detached      # Start session without attaching\n  gt crew at dave --no-tmux       # Just print path\n\n```\ngt crew at [name] [flags]\n``` --account string   Claude Code account handle to use (overrides default)\n      --agent string     Agent alias to run crew worker with (overrides rig/town default)\n      --debug            Show debug output for troubleshooting\n  -d, --detached         Start session without attaching\n  -h, --help             help for at\n      --no-tmux          Just print directory path\n      --rig string       Rig to use"
    },
    {
      "cmd": "gt crew list",
      "short": "List crew workspaces with status",
      "synopsis": "List all crew workspaces in a rig with their status.\n\nShows git branch, session state, and git status for each workspace.\n\nExamples:\n  gt crew list                    # List in current rig\n  gt crew list --rig greenplace   # List in specific rig\n  gt crew list --all              # List in all rigs\n  gt crew list --json             # JSON output\n\n```\ngt crew list [flags]\n```",
      "usage": "gt crew list [flags]",
      "options": "--all          List crew workspaces in all rigs\n  -h, --help         help for list\n      --json         Output as JSON\n      --rig string   Filter by rig name",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew list List crew workspaces with status List all crew workspaces in a rig with their status.\n\nShows git branch, session state, and git status for each workspace.\n\nExamples:\n  gt crew list                    # List in current rig\n  gt crew list --rig greenplace   # List in specific rig\n  gt crew list --all              # List in all rigs\n  gt crew list --json             # JSON output\n\n```\ngt crew list [flags]\n``` --all          List crew workspaces in all rigs\n  -h, --help         help for list\n      --json         Output as JSON\n      --rig string   Filter by rig name"
    },
    {
      "cmd": "gt crew pristine",
      "short": "Sync crew workspaces with remote",
      "synopsis": "Ensure crew workspace(s) are up-to-date.\n\nRuns git pull for the specified crew, or all crew workers.\nReports any uncommitted changes that may need attention.\n\nExamples:\n  gt crew pristine                # Pristine all crew workers\n  gt crew pristine dave           # Pristine specific worker\n  gt crew pristine --json         # JSON output\n\n```\ngt crew pristine [<name>] [flags]\n```",
      "usage": "gt crew pristine [<name>] [flags]",
      "options": "-h, --help         help for pristine\n      --json         Output as JSON\n      --rig string   Filter by rig name",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew pristine Sync crew workspaces with remote Ensure crew workspace(s) are up-to-date.\n\nRuns git pull for the specified crew, or all crew workers.\nReports any uncommitted changes that may need attention.\n\nExamples:\n  gt crew pristine                # Pristine all crew workers\n  gt crew pristine dave           # Pristine specific worker\n  gt crew pristine --json         # JSON output\n\n```\ngt crew pristine [<name>] [flags]\n``` -h, --help         help for pristine\n      --json         Output as JSON\n      --rig string   Filter by rig name"
    },
    {
      "cmd": "gt crew refresh",
      "short": "Context cycling with mail-to-self handoff",
      "synopsis": "Cycle a crew workspace session with handoff.\n\nSends a handoff mail to the workspace's own inbox, then restarts the session.\nThe new session reads the handoff mail and resumes work.\n\nExamples:\n  gt crew refresh dave                           # Refresh with auto-generated handoff\n  gt crew refresh dave -m \"Working on gt-123\"    # Add custom message\n\n```\ngt crew refresh <name> [flags]\n```",
      "usage": "gt crew refresh <name> [flags]",
      "options": "-h, --help             help for refresh\n  -m, --message string   Custom handoff message\n      --rig string       Rig to use",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew refresh Context cycling with mail-to-self handoff Cycle a crew workspace session with handoff.\n\nSends a handoff mail to the workspace's own inbox, then restarts the session.\nThe new session reads the handoff mail and resumes work.\n\nExamples:\n  gt crew refresh dave                           # Refresh with auto-generated handoff\n  gt crew refresh dave -m \"Working on gt-123\"    # Add custom message\n\n```\ngt crew refresh <name> [flags]\n``` -h, --help             help for refresh\n  -m, --message string   Custom handoff message\n      --rig string       Rig to use"
    },
    {
      "cmd": "gt crew remove",
      "short": "Remove crew workspace(s)",
      "synopsis": "Remove one or more crew workspaces from the rig.\n\nChecks for uncommitted changes and running sessions before removing.\nUse --force to skip checks and remove anyway.\n\nThe agent bead is CLOSED by default (preserves CV history). Use --purge\nto DELETE the agent bead entirely (for accidental/test crew that should\nleave no trace in the ledger).\n\n--purge also:\n  - Deletes the agent bead (not just closes it)\n  - Unassigns any beads assigned to this crew member\n  - Clears mail in the agent's inbox\n  - Properly handles git worktrees (not just regular clones)\n\nExamples:\n  gt crew remove dave                       # Remove with safety checks\n  gt crew remove dave emma fred             # Remove multiple\n  gt crew remove beads/grip beads/fang      # Remove from specific rig\n  gt crew remove dave --force               # Force remove (closes bead)\n  gt crew remove test-crew --purge          # Obliterate (deletes bead)\n\n```\ngt crew remove <name...> [flags]\n```",
      "usage": "gt crew remove <name...> [flags]",
      "options": "--force        Force remove (skip safety checks)\n  -h, --help         help for remove\n      --purge        Obliterate: delete agent bead, unassign work, clear mail\n      --rig string   Rig to use",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew remove Remove crew workspace(s) Remove one or more crew workspaces from the rig.\n\nChecks for uncommitted changes and running sessions before removing.\nUse --force to skip checks and remove anyway.\n\nThe agent bead is CLOSED by default (preserves CV history). Use --purge\nto DELETE the agent bead entirely (for accidental/test crew that should\nleave no trace in the ledger).\n\n--purge also:\n  - Deletes the agent bead (not just closes it)\n  - Unassigns any beads assigned to this crew member\n  - Clears mail in the agent's inbox\n  - Properly handles git worktrees (not just regular clones)\n\nExamples:\n  gt crew remove dave                       # Remove with safety checks\n  gt crew remove dave emma fred             # Remove multiple\n  gt crew remove beads/grip beads/fang      # Remove from specific rig\n  gt crew remove dave --force               # Force remove (closes bead)\n  gt crew remove test-crew --purge          # Obliterate (deletes bead)\n\n```\ngt crew remove <name...> [flags]\n``` --force        Force remove (skip safety checks)\n  -h, --help         help for remove\n      --purge        Obliterate: delete agent bead, unassign work, clear mail\n      --rig string   Rig to use"
    },
    {
      "cmd": "gt crew rename",
      "short": "Rename a crew workspace",
      "synopsis": "Rename a crew workspace.\n\nKills any running session, renames the directory, and updates state.\nThe new session will use the new name (gt-<rig>-crew-<new-name>).\n\nExamples:\n  gt crew rename dave david       # Rename dave to david\n  gt crew rename madmax max       # Rename madmax to max\n\n```\ngt crew rename <old-name> <new-name> [flags]\n```",
      "usage": "gt crew rename <old-name> <new-name> [flags]",
      "options": "-h, --help         help for rename\n      --rig string   Rig to use",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew rename Rename a crew workspace Rename a crew workspace.\n\nKills any running session, renames the directory, and updates state.\nThe new session will use the new name (gt-<rig>-crew-<new-name>).\n\nExamples:\n  gt crew rename dave david       # Rename dave to david\n  gt crew rename madmax max       # Rename madmax to max\n\n```\ngt crew rename <old-name> <new-name> [flags]\n``` -h, --help         help for rename\n      --rig string   Rig to use"
    },
    {
      "cmd": "gt crew restart",
      "short": "Kill and restart crew workspace session(s)",
      "synopsis": "Kill the tmux session and restart fresh with Claude.\n\nUseful when a crew member gets confused or needs a clean slate.\nUnlike 'refresh', this does NOT send handoff mail - it's a clean start.\n\nThe command will:\n1. Kill existing tmux session if running\n2. Start fresh session with Claude\n3. Run gt prime to reinitialize context\n\nUse --all to restart all running crew sessions across all rigs.\n\nExamples:\n  gt crew restart dave                  # Restart dave's session\n  gt crew restart dave emma fred        # Restart multiple\n  gt crew restart beads/grip beads/fang # Restart from specific rig\n  gt crew rs emma                       # Same, using alias\n  gt crew restart --all                 # Restart all running crew sessions\n  gt crew restart --all --rig beads     # Restart all crew in beads rig\n  gt crew restart --all --dry-run       # Preview what would be restarted\n\n```\ngt crew restart [name...] [flags]\n```",
      "usage": "gt crew restart [name...] [flags]",
      "options": "--all          Restart all running crew sessions\n      --dry-run      Show what would be restarted without restarting\n  -h, --help         help for restart\n      --rig string   Rig to use (filter when using --all)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew restart Kill and restart crew workspace session(s) Kill the tmux session and restart fresh with Claude.\n\nUseful when a crew member gets confused or needs a clean slate.\nUnlike 'refresh', this does NOT send handoff mail - it's a clean start.\n\nThe command will:\n1. Kill existing tmux session if running\n2. Start fresh session with Claude\n3. Run gt prime to reinitialize context\n\nUse --all to restart all running crew sessions across all rigs.\n\nExamples:\n  gt crew restart dave                  # Restart dave's session\n  gt crew restart dave emma fred        # Restart multiple\n  gt crew restart beads/grip beads/fang # Restart from specific rig\n  gt crew rs emma                       # Same, using alias\n  gt crew restart --all                 # Restart all running crew sessions\n  gt crew restart --all --rig beads     # Restart all crew in beads rig\n  gt crew restart --all --dry-run       # Preview what would be restarted\n\n```\ngt crew restart [name...] [flags]\n``` --all          Restart all running crew sessions\n      --dry-run      Show what would be restarted without restarting\n  -h, --help         help for restart\n      --rig string   Rig to use (filter when using --all)"
    },
    {
      "cmd": "gt crew start",
      "short": "Start crew worker(s) in a rig",
      "synopsis": "Start crew workers in a rig, creating workspaces if they don't exist.\n\nThe rig name can be provided as the first argument, or inferred from the\ncurrent directory. If no crew names are specified, starts all crew in the rig.\n\nThe crew session starts in the background with Claude running and ready.\n\nExamples:\n  gt crew start beads             # Start all crew in beads rig\n  gt crew start                   # Start all crew (rig inferred from cwd)\n  gt crew start beads grip fang   # Start specific crew in beads rig\n  gt crew start gastown joe       # Start joe in gastown rig\n\n```\ngt crew start [rig] [name...] [flags]\n```",
      "usage": "gt crew start [rig] [name...] [flags]",
      "options": "--account string   Claude Code account handle to use\n      --agent string     Agent alias to run crew worker with (overrides rig/town default)\n      --all              Start all crew members in the rig\n  -h, --help             help for start",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew start Start crew worker(s) in a rig Start crew workers in a rig, creating workspaces if they don't exist.\n\nThe rig name can be provided as the first argument, or inferred from the\ncurrent directory. If no crew names are specified, starts all crew in the rig.\n\nThe crew session starts in the background with Claude running and ready.\n\nExamples:\n  gt crew start beads             # Start all crew in beads rig\n  gt crew start                   # Start all crew (rig inferred from cwd)\n  gt crew start beads grip fang   # Start specific crew in beads rig\n  gt crew start gastown joe       # Start joe in gastown rig\n\n```\ngt crew start [rig] [name...] [flags]\n``` --account string   Claude Code account handle to use\n      --agent string     Agent alias to run crew worker with (overrides rig/town default)\n      --all              Start all crew members in the rig\n  -h, --help             help for start"
    },
    {
      "cmd": "gt crew status",
      "short": "Show detailed workspace status",
      "synopsis": "Show detailed status for crew workspace(s).\n\nDisplays session state, git status, branch info, and mail inbox status.\nIf no name given, shows status for all crew workers.\n\nExamples:\n  gt crew status                  # Status of all crew workers\n  gt crew status dave             # Status of specific worker\n  gt crew status --json           # JSON output\n\n```\ngt crew status [<name>] [flags]\n```",
      "usage": "gt crew status [<name>] [flags]",
      "options": "-h, --help         help for status\n      --json         Output as JSON\n      --rig string   Filter by rig name",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew status Show detailed workspace status Show detailed status for crew workspace(s).\n\nDisplays session state, git status, branch info, and mail inbox status.\nIf no name given, shows status for all crew workers.\n\nExamples:\n  gt crew status                  # Status of all crew workers\n  gt crew status dave             # Status of specific worker\n  gt crew status --json           # JSON output\n\n```\ngt crew status [<name>] [flags]\n``` -h, --help         help for status\n      --json         Output as JSON\n      --rig string   Filter by rig name"
    },
    {
      "cmd": "gt crew stop",
      "short": "Stop crew workspace session(s)",
      "synopsis": "Stop one or more running crew workspace sessions.\n\nIf a rig name is given alone, stops all crew in that rig. Otherwise stops\nthe specified crew member(s).\n\nThe name can include the rig in slash format (e.g., beads/emma).\nIf not specified, the rig is inferred from the current directory.\n\nOutput is captured before stopping for debugging purposes (use --force\nto skip capture for faster shutdown).\n\nExamples:\n  gt crew stop beads                        # Stop all crew in beads rig\n  gt crew stop                              # Stop all crew (rig inferred from cwd)\n  gt crew stop beads/emma                   # Stop specific crew member\n  gt crew stop dave                         # Stop dave in current rig\n  gt crew stop --all                        # Stop all running crew sessions\n  gt crew stop dave --force                 # Stop without capturing output\n\n```\ngt crew stop [name...] [flags]\n```",
      "usage": "gt crew stop [name...] [flags]",
      "options": "--all          Stop all running crew sessions\n      --dry-run      Show what would be stopped without stopping\n      --force        Skip output capture for faster shutdown\n  -h, --help         help for stop\n      --rig string   Rig to use (filter when using --all)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt crew stop Stop crew workspace session(s) Stop one or more running crew workspace sessions.\n\nIf a rig name is given alone, stops all crew in that rig. Otherwise stops\nthe specified crew member(s).\n\nThe name can include the rig in slash format (e.g., beads/emma).\nIf not specified, the rig is inferred from the current directory.\n\nOutput is captured before stopping for debugging purposes (use --force\nto skip capture for faster shutdown).\n\nExamples:\n  gt crew stop beads                        # Stop all crew in beads rig\n  gt crew stop                              # Stop all crew (rig inferred from cwd)\n  gt crew stop beads/emma                   # Stop specific crew member\n  gt crew stop dave                         # Stop dave in current rig\n  gt crew stop --all                        # Stop all running crew sessions\n  gt crew stop dave --force                 # Stop without capturing output\n\n```\ngt crew stop [name...] [flags]\n``` --all          Stop all running crew sessions\n      --dry-run      Show what would be stopped without stopping\n      --force        Skip output capture for faster shutdown\n  -h, --help         help for stop\n      --rig string   Rig to use (filter when using --all)"
    },
    {
      "cmd": "gt cycle",
      "short": "Cycle between sessions in the same group",
      "synopsis": "Cycle between related tmux sessions based on the current session type.\n\nSession groups:\n- Town sessions: Mayor \u2194 Deacon\n- Crew sessions: All crew members in the same rig (e.g., greenplace/crew/max \u2194 greenplace/crew/joe)\n- Rig infra sessions: Witness \u2194 Refinery (per rig)\n- Polecat sessions: All polecats in the same rig (e.g., greenplace/Toast \u2194 greenplace/Nux)\n\nThe appropriate cycling is detected automatically from the session name.",
      "usage": "-h, --help   help for cycle",
      "options": "-h, --help   help for cycle",
      "subcommands": [
        {
          "cmd": "gt cycle next",
          "desc": "Switch to next session in group"
        },
        {
          "cmd": "gt cycle prev",
          "desc": "Switch to previous session in group"
        }
      ],
      "is_parent": true,
      "search_text": "gt cycle Cycle between sessions in the same group Cycle between related tmux sessions based on the current session type.\n\nSession groups:\n- Town sessions: Mayor \u2194 Deacon\n- Crew sessions: All crew members in the same rig (e.g., greenplace/crew/max \u2194 greenplace/crew/joe)\n- Rig infra sessions: Witness \u2194 Refinery (per rig)\n- Polecat sessions: All polecats in the same rig (e.g., greenplace/Toast \u2194 greenplace/Nux)\n\nThe appropriate cycling is detected automatically from the session name. -h, --help   help for cycle"
    },
    {
      "cmd": "gt cycle next",
      "short": "Switch to next session in group",
      "synopsis": "Switch to the next session in the current group.\n\nThis command is typically invoked via the C-b n keybinding. It automatically\ndetects whether you're in a town-level session (Mayor/Deacon) or a crew session\nand cycles within the appropriate group.\n\n```\ngt cycle next [flags]\n```",
      "usage": "gt cycle next [flags]",
      "options": "-h, --help             help for next\n      --session string   Override current session (used by tmux binding)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt cycle next Switch to next session in group Switch to the next session in the current group.\n\nThis command is typically invoked via the C-b n keybinding. It automatically\ndetects whether you're in a town-level session (Mayor/Deacon) or a crew session\nand cycles within the appropriate group.\n\n```\ngt cycle next [flags]\n``` -h, --help             help for next\n      --session string   Override current session (used by tmux binding)"
    },
    {
      "cmd": "gt cycle prev",
      "short": "Switch to previous session in group",
      "synopsis": "Switch to the previous session in the current group.\n\nThis command is typically invoked via the C-b p keybinding. It automatically\ndetects whether you're in a town-level session (Mayor/Deacon) or a crew session\nand cycles within the appropriate group.\n\n```\ngt cycle prev [flags]\n```",
      "usage": "gt cycle prev [flags]",
      "options": "-h, --help             help for prev\n      --session string   Override current session (used by tmux binding)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt cycle prev Switch to previous session in group Switch to the previous session in the current group.\n\nThis command is typically invoked via the C-b p keybinding. It automatically\ndetects whether you're in a town-level session (Mayor/Deacon) or a crew session\nand cycles within the appropriate group.\n\n```\ngt cycle prev [flags]\n``` -h, --help             help for prev\n      --session string   Override current session (used by tmux binding)"
    },
    {
      "cmd": "gt daemon",
      "short": "Manage the Gas Town daemon",
      "synopsis": "Manage the Gas Town background daemon.\n\nThe daemon is a simple Go process that:\n- Pokes agents periodically (heartbeat)\n- Processes lifecycle requests (cycle, restart, shutdown)\n- Restarts sessions when agents request cycling\n\nThe daemon is a \"dumb scheduler\" - all intelligence is in agents.\n\n```\ngt daemon [flags]\n```",
      "usage": "gt daemon [flags]",
      "options": "-h, --help   help for daemon",
      "subcommands": [
        {
          "cmd": "gt daemon logs",
          "desc": "View daemon logs"
        },
        {
          "cmd": "gt daemon start",
          "desc": "Start the daemon"
        },
        {
          "cmd": "gt daemon status",
          "desc": "Show daemon status"
        },
        {
          "cmd": "gt daemon stop",
          "desc": "Stop the daemon"
        }
      ],
      "is_parent": true,
      "search_text": "gt daemon Manage the Gas Town daemon Manage the Gas Town background daemon.\n\nThe daemon is a simple Go process that:\n- Pokes agents periodically (heartbeat)\n- Processes lifecycle requests (cycle, restart, shutdown)\n- Restarts sessions when agents request cycling\n\nThe daemon is a \"dumb scheduler\" - all intelligence is in agents.\n\n```\ngt daemon [flags]\n``` -h, --help   help for daemon"
    },
    {
      "cmd": "gt daemon logs",
      "short": "View daemon logs",
      "synopsis": "View the daemon log file.\n\n```\ngt daemon logs [flags]\n```",
      "usage": "gt daemon logs [flags]",
      "options": "-f, --follow      Follow log output\n  -h, --help        help for logs\n  -n, --lines int   Number of lines to show (default 50)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt daemon logs View daemon logs View the daemon log file.\n\n```\ngt daemon logs [flags]\n``` -f, --follow      Follow log output\n  -h, --help        help for logs\n  -n, --lines int   Number of lines to show (default 50)"
    },
    {
      "cmd": "gt daemon start",
      "short": "Start the daemon",
      "synopsis": "Start the Gas Town daemon in the background.\n\nThe daemon will run until stopped with 'gt daemon stop'.\n\n```\ngt daemon start [flags]\n```",
      "usage": "gt daemon start [flags]",
      "options": "-h, --help   help for start",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt daemon start Start the daemon Start the Gas Town daemon in the background.\n\nThe daemon will run until stopped with 'gt daemon stop'.\n\n```\ngt daemon start [flags]\n``` -h, --help   help for start"
    },
    {
      "cmd": "gt daemon status",
      "short": "Show daemon status",
      "synopsis": "Show the current status of the Gas Town daemon.\n\n```\ngt daemon status [flags]\n```",
      "usage": "gt daemon status [flags]",
      "options": "-h, --help   help for status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt daemon status Show daemon status Show the current status of the Gas Town daemon.\n\n```\ngt daemon status [flags]\n``` -h, --help   help for status"
    },
    {
      "cmd": "gt daemon stop",
      "short": "Stop the daemon",
      "synopsis": "Stop the running Gas Town daemon.\n\n```\ngt daemon stop [flags]\n```",
      "usage": "gt daemon stop [flags]",
      "options": "-h, --help   help for stop",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt daemon stop Stop the daemon Stop the running Gas Town daemon.\n\n```\ngt daemon stop [flags]\n``` -h, --help   help for stop"
    },
    {
      "cmd": "gt dashboard",
      "short": "Start the convoy tracking web dashboard",
      "synopsis": "Start a web server that displays the convoy tracking dashboard.\n\nThe dashboard shows real-time convoy status with:\n- Convoy list with status indicators\n- Progress tracking for each convoy\n- Last activity indicator (green/yellow/red)\n- Auto-refresh every 30 seconds via htmx\n\nExample:\n  gt dashboard              # Start on default port 8080\n  gt dashboard --port 3000  # Start on port 3000\n  gt dashboard --open       # Start and open browser\n\n```\ngt dashboard [flags]\n```",
      "usage": "gt dashboard [flags]",
      "options": "-h, --help       help for dashboard\n      --open       Open browser automatically\n      --port int   HTTP port to listen on (default 8080)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dashboard Start the convoy tracking web dashboard Start a web server that displays the convoy tracking dashboard.\n\nThe dashboard shows real-time convoy status with:\n- Convoy list with status indicators\n- Progress tracking for each convoy\n- Last activity indicator (green/yellow/red)\n- Auto-refresh every 30 seconds via htmx\n\nExample:\n  gt dashboard              # Start on default port 8080\n  gt dashboard --port 3000  # Start on port 3000\n  gt dashboard --open       # Start and open browser\n\n```\ngt dashboard [flags]\n``` -h, --help       help for dashboard\n      --open       Open browser automatically\n      --port int   HTTP port to listen on (default 8080)"
    },
    {
      "cmd": "gt deacon",
      "short": "Manage the Deacon (town-level watchdog)",
      "synopsis": "Manage the Deacon - the town-level watchdog for Gas Town.\n\nThe Deacon (\"daemon beacon\") is the only agent that receives mechanical\nheartbeats from the daemon. It monitors system health across all rigs:\n  - Watches all Witnesses (are they alive? stuck? responsive?)\n  - Manages Dogs for cross-rig infrastructure work\n  - Handles lifecycle requests (respawns, restarts)\n  - Receives heartbeat pokes and decides what needs attention\n\nThe Deacon patrols the town; Witnesses patrol their rigs; Polecats work.\n\nRole shortcuts: \"deacon\" in mail/nudge addresses resolves to this agent.\n\n```\ngt deacon [flags]\n```",
      "usage": "gt deacon [flags]",
      "options": "-h, --help   help for deacon",
      "subcommands": [
        {
          "cmd": "gt deacon attach",
          "desc": "Attach to the Deacon session"
        },
        {
          "cmd": "gt deacon cleanup-orphans",
          "desc": "Clean up orphaned claude subagent processes"
        },
        {
          "cmd": "gt deacon force-kill",
          "desc": "Force-kill an unresponsive agent session"
        },
        {
          "cmd": "gt deacon health-check",
          "desc": "Send a health check ping to an agent and track response"
        },
        {
          "cmd": "gt deacon health-state",
          "desc": "Show health check state for all monitored agents"
        },
        {
          "cmd": "gt deacon heartbeat",
          "desc": "Update the Deacon heartbeat"
        },
        {
          "cmd": "gt deacon pause",
          "desc": "Pause the Deacon to prevent patrol actions"
        },
        {
          "cmd": "gt deacon restart",
          "desc": "Restart the Deacon session"
        },
        {
          "cmd": "gt deacon resume",
          "desc": "Resume the Deacon to allow patrol actions"
        },
        {
          "cmd": "gt deacon stale-hooks",
          "desc": "Find and unhook stale hooked beads"
        },
        {
          "cmd": "gt deacon start",
          "desc": "Start the Deacon session"
        },
        {
          "cmd": "gt deacon status",
          "desc": "Check Deacon session status"
        },
        {
          "cmd": "gt deacon stop",
          "desc": "Stop the Deacon session"
        },
        {
          "cmd": "gt deacon trigger-pending",
          "desc": "Trigger pending polecat spawns (bootstrap mode)"
        },
        {
          "cmd": "gt deacon zombie-scan",
          "desc": "Find and clean zombie Claude processes not in active tmux sessions"
        }
      ],
      "is_parent": true,
      "search_text": "gt deacon Manage the Deacon (town-level watchdog) Manage the Deacon - the town-level watchdog for Gas Town.\n\nThe Deacon (\"daemon beacon\") is the only agent that receives mechanical\nheartbeats from the daemon. It monitors system health across all rigs:\n  - Watches all Witnesses (are they alive? stuck? responsive?)\n  - Manages Dogs for cross-rig infrastructure work\n  - Handles lifecycle requests (respawns, restarts)\n  - Receives heartbeat pokes and decides what needs attention\n\nThe Deacon patrols the town; Witnesses patrol their rigs; Polecats work.\n\nRole shortcuts: \"deacon\" in mail/nudge addresses resolves to this agent.\n\n```\ngt deacon [flags]\n``` -h, --help   help for deacon"
    },
    {
      "cmd": "gt deacon attach",
      "short": "Attach to the Deacon session",
      "synopsis": "Attach to the running Deacon tmux session.\n\nAttaches the current terminal to the Deacon's tmux session.\nDetach with Ctrl-B D.\n\n```\ngt deacon attach [flags]\n```",
      "usage": "gt deacon attach [flags]",
      "options": "--agent string   Agent alias to run the Deacon with (overrides town default)\n  -h, --help           help for attach",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon attach Attach to the Deacon session Attach to the running Deacon tmux session.\n\nAttaches the current terminal to the Deacon's tmux session.\nDetach with Ctrl-B D.\n\n```\ngt deacon attach [flags]\n``` --agent string   Agent alias to run the Deacon with (overrides town default)\n  -h, --help           help for attach"
    },
    {
      "cmd": "gt deacon cleanup-orphans",
      "short": "Clean up orphaned claude subagent processes",
      "synopsis": "Clean up orphaned claude subagent processes.\n\nClaude Code's Task tool spawns subagent processes that sometimes don't clean up\nproperly after completion. These accumulate and consume significant memory.\n\nDetection is based on TTY column: processes with TTY \"?\" have no controlling\nterminal. Legitimate claude instances in terminals have a TTY like \"pts/0\".\n\nThis is safe because:\n- Processes in terminals (your personal sessions) have a TTY - won't be touched\n- Only kills processes that have no controlling terminal\n- These orphans are children of the tmux server with no TTY\n\nExample:\n  gt deacon cleanup-orphans\n\n```\ngt deacon cleanup-orphans [flags]\n```",
      "usage": "gt deacon cleanup-orphans [flags]",
      "options": "-h, --help   help for cleanup-orphans",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon cleanup-orphans Clean up orphaned claude subagent processes Clean up orphaned claude subagent processes.\n\nClaude Code's Task tool spawns subagent processes that sometimes don't clean up\nproperly after completion. These accumulate and consume significant memory.\n\nDetection is based on TTY column: processes with TTY \"?\" have no controlling\nterminal. Legitimate claude instances in terminals have a TTY like \"pts/0\".\n\nThis is safe because:\n- Processes in terminals (your personal sessions) have a TTY - won't be touched\n- Only kills processes that have no controlling terminal\n- These orphans are children of the tmux server with no TTY\n\nExample:\n  gt deacon cleanup-orphans\n\n```\ngt deacon cleanup-orphans [flags]\n``` -h, --help   help for cleanup-orphans"
    },
    {
      "cmd": "gt deacon force-kill",
      "short": "Force-kill an unresponsive agent session",
      "synopsis": "Force-kill an agent session that has been detected as stuck.\n\nThis command is used by the Deacon when an agent fails consecutive health checks.\nIt performs the force-kill protocol:\n\n1. Log the intervention (send mail to agent)\n2. Kill the tmux session\n3. Update agent bead state to \"killed\"\n4. Notify mayor (optional, for visibility)\n\nAfter force-kill, the agent is 'asleep'. Normal wake mechanisms apply:\n- gt rig boot restarts it\n- Or stays asleep until next activity trigger\n\nThis respects the cooldown period - won't kill if recently killed.\n\nExamples:\n  gt deacon force-kill gastown/polecats/max\n  gt deacon force-kill gastown/witness --reason=\"unresponsive for 90s\"\n\n```\ngt deacon force-kill <agent> [flags]\n```",
      "usage": "gt deacon force-kill <agent> [flags]",
      "options": "-h, --help            help for force-kill\n      --reason string   Reason for force-kill (included in notifications)\n      --skip-notify     Skip sending notification mail to mayor",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon force-kill Force-kill an unresponsive agent session Force-kill an agent session that has been detected as stuck.\n\nThis command is used by the Deacon when an agent fails consecutive health checks.\nIt performs the force-kill protocol:\n\n1. Log the intervention (send mail to agent)\n2. Kill the tmux session\n3. Update agent bead state to \"killed\"\n4. Notify mayor (optional, for visibility)\n\nAfter force-kill, the agent is 'asleep'. Normal wake mechanisms apply:\n- gt rig boot restarts it\n- Or stays asleep until next activity trigger\n\nThis respects the cooldown period - won't kill if recently killed.\n\nExamples:\n  gt deacon force-kill gastown/polecats/max\n  gt deacon force-kill gastown/witness --reason=\"unresponsive for 90s\"\n\n```\ngt deacon force-kill <agent> [flags]\n``` -h, --help            help for force-kill\n      --reason string   Reason for force-kill (included in notifications)\n      --skip-notify     Skip sending notification mail to mayor"
    },
    {
      "cmd": "gt deacon health-check",
      "short": "Send a health check ping to an agent and track response",
      "synopsis": "Send a HEALTH_CHECK nudge to an agent and wait for response.\n\nThis command is used by the Deacon during health rounds to detect stuck sessions.\nIt tracks consecutive failures and determines when force-kill is warranted.\n\nThe detection protocol:\n1. Send HEALTH_CHECK nudge to the agent\n2. Wait for agent to update their bead (configurable timeout, default 30s)\n3. If no activity update, increment failure counter\n4. After N consecutive failures (default 3), recommend force-kill\n\nExit codes:\n  0 - Agent responded or is in cooldown (no action needed)\n  1 - Error occurred\n  2 - Agent should be force-killed (consecutive failures exceeded)\n\nExamples:\n  gt deacon health-check gastown/polecats/max\n  gt deacon health-check gastown/witness --timeout=60s\n  gt deacon health-check deacon --failures=5\n\n```\ngt deacon health-check <agent> [flags]\n```",
      "usage": "gt deacon health-check <agent> [flags]",
      "options": "--cooldown duration   Minimum time between force-kills of same agent (default 5m0s)\n      --failures int        Number of consecutive failures before recommending force-kill (default 3)\n  -h, --help                help for health-check\n      --timeout duration    How long to wait for agent response (default 30s)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon health-check Send a health check ping to an agent and track response Send a HEALTH_CHECK nudge to an agent and wait for response.\n\nThis command is used by the Deacon during health rounds to detect stuck sessions.\nIt tracks consecutive failures and determines when force-kill is warranted.\n\nThe detection protocol:\n1. Send HEALTH_CHECK nudge to the agent\n2. Wait for agent to update their bead (configurable timeout, default 30s)\n3. If no activity update, increment failure counter\n4. After N consecutive failures (default 3), recommend force-kill\n\nExit codes:\n  0 - Agent responded or is in cooldown (no action needed)\n  1 - Error occurred\n  2 - Agent should be force-killed (consecutive failures exceeded)\n\nExamples:\n  gt deacon health-check gastown/polecats/max\n  gt deacon health-check gastown/witness --timeout=60s\n  gt deacon health-check deacon --failures=5\n\n```\ngt deacon health-check <agent> [flags]\n``` --cooldown duration   Minimum time between force-kills of same agent (default 5m0s)\n      --failures int        Number of consecutive failures before recommending force-kill (default 3)\n  -h, --help                help for health-check\n      --timeout duration    How long to wait for agent response (default 30s)"
    },
    {
      "cmd": "gt deacon health-state",
      "short": "Show health check state for all monitored agents",
      "synopsis": "Display the current health check state including:\n- Consecutive failure counts\n- Last ping and response times\n- Force-kill history and cooldowns\n\nThis helps the Deacon understand which agents may need attention.\n\n```\ngt deacon health-state [flags]\n```",
      "usage": "gt deacon health-state [flags]",
      "options": "-h, --help   help for health-state",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon health-state Show health check state for all monitored agents Display the current health check state including:\n- Consecutive failure counts\n- Last ping and response times\n- Force-kill history and cooldowns\n\nThis helps the Deacon understand which agents may need attention.\n\n```\ngt deacon health-state [flags]\n``` -h, --help   help for health-state"
    },
    {
      "cmd": "gt deacon heartbeat",
      "short": "Update the Deacon heartbeat",
      "synopsis": "Update the Deacon heartbeat file.\n\nThe heartbeat signals to the daemon that the Deacon is alive and working.\nCall this at the start of each wake cycle to prevent daemon pokes.\n\nExamples:\n  gt deacon heartbeat                    # Touch heartbeat with timestamp\n  gt deacon heartbeat \"checking mayor\"   # Touch with action description\n\n```\ngt deacon heartbeat [action] [flags]\n```",
      "usage": "gt deacon heartbeat [action] [flags]",
      "options": "-h, --help   help for heartbeat",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon heartbeat Update the Deacon heartbeat Update the Deacon heartbeat file.\n\nThe heartbeat signals to the daemon that the Deacon is alive and working.\nCall this at the start of each wake cycle to prevent daemon pokes.\n\nExamples:\n  gt deacon heartbeat                    # Touch heartbeat with timestamp\n  gt deacon heartbeat \"checking mayor\"   # Touch with action description\n\n```\ngt deacon heartbeat [action] [flags]\n``` -h, --help   help for heartbeat"
    },
    {
      "cmd": "gt deacon pause",
      "short": "Pause the Deacon to prevent patrol actions",
      "synopsis": "Pause the Deacon to prevent it from performing any patrol actions.\n\nWhen paused, the Deacon:\n- Will not create patrol molecules\n- Will not run health checks\n- Will not take any autonomous actions\n- Will display a PAUSED message on startup\n\nThe pause state persists across session restarts. Use 'gt deacon resume'\nto allow the Deacon to work again.\n\nExamples:\n  gt deacon pause                           # Pause with no reason\n  gt deacon pause --reason=\"testing\"        # Pause with a reason\n\n```\ngt deacon pause [flags]\n```",
      "usage": "gt deacon pause [flags]",
      "options": "-h, --help            help for pause\n      --reason string   Reason for pausing the Deacon",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon pause Pause the Deacon to prevent patrol actions Pause the Deacon to prevent it from performing any patrol actions.\n\nWhen paused, the Deacon:\n- Will not create patrol molecules\n- Will not run health checks\n- Will not take any autonomous actions\n- Will display a PAUSED message on startup\n\nThe pause state persists across session restarts. Use 'gt deacon resume'\nto allow the Deacon to work again.\n\nExamples:\n  gt deacon pause                           # Pause with no reason\n  gt deacon pause --reason=\"testing\"        # Pause with a reason\n\n```\ngt deacon pause [flags]\n``` -h, --help            help for pause\n      --reason string   Reason for pausing the Deacon"
    },
    {
      "cmd": "gt deacon restart",
      "short": "Restart the Deacon session",
      "synopsis": "Restart the Deacon tmux session.\n\nStops the current session (if running) and starts a fresh one.\n\n```\ngt deacon restart [flags]\n```",
      "usage": "gt deacon restart [flags]",
      "options": "--agent string   Agent alias to run the Deacon with (overrides town default)\n  -h, --help           help for restart",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon restart Restart the Deacon session Restart the Deacon tmux session.\n\nStops the current session (if running) and starts a fresh one.\n\n```\ngt deacon restart [flags]\n``` --agent string   Agent alias to run the Deacon with (overrides town default)\n  -h, --help           help for restart"
    },
    {
      "cmd": "gt deacon resume",
      "short": "Resume the Deacon to allow patrol actions",
      "synopsis": "Resume the Deacon so it can perform patrol actions again.\n\nThis removes the pause file and allows the Deacon to work normally.\n\n```\ngt deacon resume [flags]\n```",
      "usage": "gt deacon resume [flags]",
      "options": "-h, --help   help for resume",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon resume Resume the Deacon to allow patrol actions Resume the Deacon so it can perform patrol actions again.\n\nThis removes the pause file and allows the Deacon to work normally.\n\n```\ngt deacon resume [flags]\n``` -h, --help   help for resume"
    },
    {
      "cmd": "gt deacon stale-hooks",
      "short": "Find and unhook stale hooked beads",
      "synopsis": "Find beads stuck in 'hooked' status and unhook them if the agent is gone.\n\nBeads can get stuck in 'hooked' status when agents die or abandon work.\nThis command finds hooked beads older than the threshold (default: 1 hour),\nchecks if the assignee agent is still alive, and unhooks them if not.\n\nExamples:\n  gt deacon stale-hooks                 # Find and unhook stale beads\n  gt deacon stale-hooks --dry-run       # Preview what would be unhooked\n  gt deacon stale-hooks --max-age=30m   # Use 30 minute threshold\n\n```\ngt deacon stale-hooks [flags]\n```",
      "usage": "gt deacon stale-hooks [flags]",
      "options": "--dry-run            Preview what would be unhooked without making changes\n  -h, --help               help for stale-hooks\n      --max-age duration   Maximum age before a hooked bead is considered stale (default 1h0m0s)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon stale-hooks Find and unhook stale hooked beads Find beads stuck in 'hooked' status and unhook them if the agent is gone.\n\nBeads can get stuck in 'hooked' status when agents die or abandon work.\nThis command finds hooked beads older than the threshold (default: 1 hour),\nchecks if the assignee agent is still alive, and unhooks them if not.\n\nExamples:\n  gt deacon stale-hooks                 # Find and unhook stale beads\n  gt deacon stale-hooks --dry-run       # Preview what would be unhooked\n  gt deacon stale-hooks --max-age=30m   # Use 30 minute threshold\n\n```\ngt deacon stale-hooks [flags]\n``` --dry-run            Preview what would be unhooked without making changes\n  -h, --help               help for stale-hooks\n      --max-age duration   Maximum age before a hooked bead is considered stale (default 1h0m0s)"
    },
    {
      "cmd": "gt deacon start",
      "short": "Start the Deacon session",
      "synopsis": "Start the Deacon tmux session.\n\nCreates a new detached tmux session for the Deacon and launches Claude.\nThe session runs in the workspace root directory.\n\n```\ngt deacon start [flags]\n```",
      "usage": "gt deacon start [flags]",
      "options": "--agent string   Agent alias to run the Deacon with (overrides town default)\n  -h, --help           help for start",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon start Start the Deacon session Start the Deacon tmux session.\n\nCreates a new detached tmux session for the Deacon and launches Claude.\nThe session runs in the workspace root directory.\n\n```\ngt deacon start [flags]\n``` --agent string   Agent alias to run the Deacon with (overrides town default)\n  -h, --help           help for start"
    },
    {
      "cmd": "gt deacon status",
      "short": "Check Deacon session status",
      "synopsis": "Check if the Deacon tmux session is currently running.\n\n```\ngt deacon status [flags]\n```",
      "usage": "gt deacon status [flags]",
      "options": "-h, --help   help for status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon status Check Deacon session status Check if the Deacon tmux session is currently running.\n\n```\ngt deacon status [flags]\n``` -h, --help   help for status"
    },
    {
      "cmd": "gt deacon stop",
      "short": "Stop the Deacon session",
      "synopsis": "Stop the Deacon tmux session.\n\nAttempts graceful shutdown first (Ctrl-C), then kills the tmux session.\n\n```\ngt deacon stop [flags]\n```",
      "usage": "gt deacon stop [flags]",
      "options": "-h, --help   help for stop",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon stop Stop the Deacon session Stop the Deacon tmux session.\n\nAttempts graceful shutdown first (Ctrl-C), then kills the tmux session.\n\n```\ngt deacon stop [flags]\n``` -h, --help   help for stop"
    },
    {
      "cmd": "gt deacon trigger-pending",
      "short": "Trigger pending polecat spawns (bootstrap mode)",
      "synopsis": "Check inbox for POLECAT_STARTED messages and trigger ready polecats.\n\n\u26a0\ufe0f  BOOTSTRAP MODE ONLY - Uses regex detection (ZFC violation acceptable).\n\nThis command uses WaitForRuntimeReady (regex) to detect when the runtime is ready.\nThis is appropriate for daemon bootstrap when no AI is available.\n\nIn steady-state, the Deacon should use AI-based observation instead:\n  gt deacon pending     # View pending spawns with captured output\n  gt peek <session>     # Observe session output (AI analyzes)\n  gt nudge <session>    # Trigger when AI determines ready\n\nThis command is typically called by the daemon during cold startup.\n\n```\ngt deacon trigger-pending [flags]\n```",
      "usage": "gt deacon trigger-pending [flags]",
      "options": "-h, --help               help for trigger-pending\n      --timeout duration   Timeout for checking if Claude is ready (default 2s)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon trigger-pending Trigger pending polecat spawns (bootstrap mode) Check inbox for POLECAT_STARTED messages and trigger ready polecats.\n\n\u26a0\ufe0f  BOOTSTRAP MODE ONLY - Uses regex detection (ZFC violation acceptable).\n\nThis command uses WaitForRuntimeReady (regex) to detect when the runtime is ready.\nThis is appropriate for daemon bootstrap when no AI is available.\n\nIn steady-state, the Deacon should use AI-based observation instead:\n  gt deacon pending     # View pending spawns with captured output\n  gt peek <session>     # Observe session output (AI analyzes)\n  gt nudge <session>    # Trigger when AI determines ready\n\nThis command is typically called by the daemon during cold startup.\n\n```\ngt deacon trigger-pending [flags]\n``` -h, --help               help for trigger-pending\n      --timeout duration   Timeout for checking if Claude is ready (default 2s)"
    },
    {
      "cmd": "gt deacon zombie-scan",
      "short": "Find and clean zombie Claude processes not in active tmux sessions",
      "synopsis": "Find and clean zombie Claude processes not in active tmux sessions.\n\nUnlike cleanup-orphans (which uses TTY detection), zombie-scan uses tmux\nverification: it checks if each Claude process is in an active tmux session\nby comparing against actual pane PIDs.\n\nA process is a zombie if:\n- It's a Claude/codex process\n- It's NOT the pane PID of any active tmux session\n- It's NOT a child of any pane PID\n- It's older than 60 seconds\n\nThis catches \"ghost\" processes that have a TTY (from a dead tmux session)\nbut are no longer part of any active Gas Town session.\n\nExamples:\n  gt deacon zombie-scan           # Find and kill zombies\n  gt deacon zombie-scan --dry-run # Just list zombies, don't kill\n\n```\ngt deacon zombie-scan [flags]\n```",
      "usage": "gt deacon zombie-scan [flags]",
      "options": "--dry-run   List zombies without killing them\n  -h, --help      help for zombie-scan",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt deacon zombie-scan Find and clean zombie Claude processes not in active tmux sessions Find and clean zombie Claude processes not in active tmux sessions.\n\nUnlike cleanup-orphans (which uses TTY detection), zombie-scan uses tmux\nverification: it checks if each Claude process is in an active tmux session\nby comparing against actual pane PIDs.\n\nA process is a zombie if:\n- It's a Claude/codex process\n- It's NOT the pane PID of any active tmux session\n- It's NOT a child of any pane PID\n- It's older than 60 seconds\n\nThis catches \"ghost\" processes that have a TTY (from a dead tmux session)\nbut are no longer part of any active Gas Town session.\n\nExamples:\n  gt deacon zombie-scan           # Find and kill zombies\n  gt deacon zombie-scan --dry-run # Just list zombies, don't kill\n\n```\ngt deacon zombie-scan [flags]\n``` --dry-run   List zombies without killing them\n  -h, --help      help for zombie-scan"
    },
    {
      "cmd": "gt disable",
      "short": "Disable Gas Town system-wide",
      "synopsis": "Disable Gas Town for all agentic coding tools.\n\nWhen disabled:\n  - Shell hooks become no-ops\n  - Claude Code SessionStart hooks skip 'gt prime'\n  - Tools work 100% vanilla (no Gas Town behavior)\n\nThe workspace (~/gt) is preserved. Use 'gt enable' to re-enable.\n\nFlags:\n  --clean  Also remove shell integration from ~/.zshrc/~/.bashrc\n\nEnvironment overrides still work:\n  GASTOWN_ENABLED=1   - Enable for current session only\n\n```\ngt disable [flags]\n```",
      "usage": "gt disable [flags]",
      "options": "--clean   Remove shell integration from RC files\n  -h, --help    help for disable",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt disable Disable Gas Town system-wide Disable Gas Town for all agentic coding tools.\n\nWhen disabled:\n  - Shell hooks become no-ops\n  - Claude Code SessionStart hooks skip 'gt prime'\n  - Tools work 100% vanilla (no Gas Town behavior)\n\nThe workspace (~/gt) is preserved. Use 'gt enable' to re-enable.\n\nFlags:\n  --clean  Also remove shell integration from ~/.zshrc/~/.bashrc\n\nEnvironment overrides still work:\n  GASTOWN_ENABLED=1   - Enable for current session only\n\n```\ngt disable [flags]\n``` --clean   Remove shell integration from RC files\n  -h, --help    help for disable"
    },
    {
      "cmd": "gt dnd",
      "short": "Toggle Do Not Disturb mode for notifications",
      "synopsis": "Control notification level for the current agent.\n\nDo Not Disturb (DND) mode mutes non-critical notifications,\nallowing you to focus on work without interruption.\n\nSubcommands:\n  on      Enable DND mode (mute notifications)\n  off     Disable DND mode (resume normal notifications)\n  status  Show current notification level\n\nWithout arguments, toggles DND mode.\n\nRelated: gt notify - for fine-grained notification level control\n\n```\ngt dnd [on|off|status] [flags]\n```",
      "usage": "gt dnd [on|off|status] [flags]",
      "options": "-h, --help   help for dnd",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dnd Toggle Do Not Disturb mode for notifications Control notification level for the current agent.\n\nDo Not Disturb (DND) mode mutes non-critical notifications,\nallowing you to focus on work without interruption.\n\nSubcommands:\n  on      Enable DND mode (mute notifications)\n  off     Disable DND mode (resume normal notifications)\n  status  Show current notification level\n\nWithout arguments, toggles DND mode.\n\nRelated: gt notify - for fine-grained notification level control\n\n```\ngt dnd [on|off|status] [flags]\n``` -h, --help   help for dnd"
    },
    {
      "cmd": "gt doctor",
      "short": "Run health checks on the workspace",
      "synopsis": "Run diagnostic checks on the Gas Town workspace.\n\nDoctor checks for common configuration issues, missing files,\nand other problems that could affect workspace operation.\n\nWorkspace checks:\n  - town-config-exists       Check mayor/town.json exists\n  - town-config-valid        Check mayor/town.json is valid\n  - rigs-registry-exists     Check mayor/rigs.json exists (fixable)\n  - rigs-registry-valid      Check registered rigs exist (fixable)\n  - mayor-exists             Check mayor/ directory structure\n\nTown root protection:\n  - town-git                 Verify town root is under version control\n  - town-root-branch         Verify town root is on main branch (fixable)\n  - pre-checkout-hook        Verify pre-checkout hook prevents branch switches (fixable)\n\nInfrastructure checks:\n  - stale-binary             Check if gt binary is up to date with repo\n  - daemon                   Check if daemon is running (fixable)\n  - repo-fingerprint         Check database has valid repo fingerprint (fixable)\n  - boot-health              Check Boot watchdog health (vet mode)\n\nCleanup checks (fixable):\n  - orphan-sessions          Detect orphaned tmux sessions\n  - orphan-processes         Detect orphaned Claude processes\n  - wisp-gc                  Detect and clean abandoned wisps (>1h)\n\nClone divergence checks:\n  - persistent-role-branches Detect crew/witness/refinery not on main\n  - clone-divergence         Detect clones significantly behind origin/main\n\nCrew workspace checks:\n  - crew-state               Validate crew worker state.json files (fixable)\n  - crew-worktrees           Detect stale cross-rig worktrees (fixable)\n\nRig checks (with --rig flag):\n  - rig-is-git-repo          Verify rig is a valid git repository\n  - git-exclude-configured   Check .git/info/exclude has Gas Town dirs (fixable)\n  - witness-exists           Verify witness/ structure exists (fixable)\n  - refinery-exists          Verify refinery/ structure exists (fixable)\n  - mayor-clone-exists       Verify mayor/rig/ clone exists (fixable)\n  - polecat-clones-valid     Verify polecat directories are valid clones\n  - beads-config-valid       Verify beads configuration (fixable)\n\nRouting checks (fixable):\n  - routes-config            Check beads routing configuration\n  - prefix-mismatch          Detect rigs.json vs routes.jsonl prefix mismatches (fixable)\n  - database-prefix          Detect database vs routes.jsonl prefix mismatches (fixable)\n\nSession hook checks:\n  - session-hooks            Check settings.json use session-start.sh\n  - claude-settings          Check Claude settings.json match templates (fixable)\n\nPatrol checks:\n  - patrol-molecules-exist   Verify patrol molecules exist\n  - patrol-hooks-wired       Verify daemon triggers patrols\n  - patrol-not-stuck         Detect stale wisps (>1h)\n  - patrol-plugins-accessible Verify plugin directories\n  - patrol-roles-have-prompts Verify role prompts exist\n\nUse --fix to attempt automatic fixes for issues that support it.\nUse --rig to check a specific rig instead of the entire workspace.\nUse --slow to highlight slow checks (default threshold: 1s, e.g. --slow=500ms).\n\n```\ngt doctor [flags]\n```",
      "usage": "gt doctor [flags]",
      "options": "--fix                  Attempt to automatically fix issues\n  -h, --help                 help for doctor\n      --restart-sessions     Restart patrol sessions when fixing stale settings (use with --fix)\n      --rig string           Check specific rig only\n      --slow string[=\"1s\"]   Highlight slow checks (optional threshold, default 1s)\n  -v, --verbose              Show detailed output",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt doctor Run health checks on the workspace Run diagnostic checks on the Gas Town workspace.\n\nDoctor checks for common configuration issues, missing files,\nand other problems that could affect workspace operation.\n\nWorkspace checks:\n  - town-config-exists       Check mayor/town.json exists\n  - town-config-valid        Check mayor/town.json is valid\n  - rigs-registry-exists     Check mayor/rigs.json exists (fixable)\n  - rigs-registry-valid      Check registered rigs exist (fixable)\n  - mayor-exists             Check mayor/ directory structure\n\nTown root protection:\n  - town-git                 Verify town root is under version control\n  - town-root-branch         Verify town root is on main branch (fixable)\n  - pre-checkout-hook        Verify pre-checkout hook prevents branch switches (fixable)\n\nInfrastructure checks:\n  - stale-binary             Check if gt binary is up to date with repo\n  - daemon                   Check if daemon is running (fixable)\n  - repo-fingerprint         Check database has valid repo fingerprint (fixable)\n  - boot-health              Check Boot watchdog health (vet mode)\n\nCleanup checks (fixable):\n  - orphan-sessions          Detect orphaned tmux sessions\n  - orphan-processes         Detect orphaned Claude processes\n  - wisp-gc                  Detect and clean abandoned wisps (>1h)\n\nClone divergence checks:\n  - persistent-role-branches Detect crew/witness/refinery not on main\n  - clone-divergence         Detect clones significantly behind origin/main\n\nCrew workspace checks:\n  - crew-state               Validate crew worker state.json files (fixable)\n  - crew-worktrees           Detect stale cross-rig worktrees (fixable)\n\nRig checks (with --rig flag):\n  - rig-is-git-repo          Verify rig is a valid git repository\n  - git-exclude-configured   Check .git/info/exclude has Gas Town dirs (fixable)\n  - witness-exists           Verify witness/ structure exists (fixable)\n  - refinery-exists          Verify refinery/ structure exists (fixable)\n  - mayor-clone-exists       Verify mayor/rig/ clone exists (fixable)\n  - polecat-clones-valid     Verify polecat directories are valid clones\n  - beads-config-valid       Verify beads configuration (fixable)\n\nRouting checks (fixable):\n  - routes-config            Check beads routing configuration\n  - prefix-mismatch          Detect rigs.json vs routes.jsonl prefix mismatches (fixable)\n  - database-prefix          Detect database vs routes.jsonl prefix mismatches (fixable)\n\nSession hook checks:\n  - session-hooks            Check settings.json use session-start.sh\n  - claude-settings          Check Claude settings.json match templates (fixable)\n\nPatrol checks:\n  - patrol-molecules-exist   Verify patrol molecules exist\n  - patrol-hooks-wired       Verify daemon triggers patrols\n  - patrol-not-stuck         Detect stale wisps (>1h)\n  - patrol-plugins-accessible Verify plugin directories\n  - patrol-roles-have-prompts Verify role prompts exist\n\nUse --fix to attempt automatic fixes for issues that support it.\nUse --rig to check a specific rig instead of the entire workspace.\nUse --slow to highlight slow checks (default threshold: 1s, e.g. --slow=500ms).\n\n```\ngt doctor [flags]\n``` --fix                  Attempt to automatically fix issues\n  -h, --help                 help for doctor\n      --restart-sessions     Restart patrol sessions when fixing stale settings (use with --fix)\n      --rig string           Check specific rig only\n      --slow string[=\"1s\"]   Highlight slow checks (optional threshold, default 1s)\n  -v, --verbose              Show detailed output"
    },
    {
      "cmd": "gt dog",
      "short": "Manage dogs (cross-rig infrastructure workers)",
      "synopsis": "Manage dogs - reusable workers for infrastructure and cleanup.\n\nCATS VS DOGS:\n  Polecats (cats) build features. One rig. Ephemeral (one task, then nuked).\n  Dogs clean up messes. Cross-rig. Reusable (multiple tasks, eventually recycled).\n\nDogs are managed by the Deacon for town-level work:\n  - Infrastructure tasks (rebuilding, syncing, migrations)\n  - Cleanup operations (orphan branches, stale files)\n  - Cross-rig work that spans multiple projects\n\nEach dog has worktrees into every configured rig, enabling cross-project\noperations. Dogs return to idle state after completing work (unlike cats).\n\nThe kennel is at ~/gt/deacon/dogs/. The Deacon dispatches work to dogs.",
      "usage": "-h, --help   help for dog",
      "options": "-h, --help   help for dog",
      "subcommands": [
        {
          "cmd": "gt dog add",
          "desc": "Create a new dog in the kennel"
        },
        {
          "cmd": "gt dog call",
          "desc": "Wake idle dog(s) for work"
        },
        {
          "cmd": "gt dog clear",
          "desc": "Reset a stuck dog to idle state"
        },
        {
          "cmd": "gt dog dispatch",
          "desc": "Dispatch plugin execution to a dog"
        },
        {
          "cmd": "gt dog done",
          "desc": "Mark dog as done and return to idle"
        },
        {
          "cmd": "gt dog list",
          "desc": "List all dogs in the kennel"
        },
        {
          "cmd": "gt dog remove",
          "desc": "Remove dogs from the kennel"
        },
        {
          "cmd": "gt dog status",
          "desc": "Show detailed dog status"
        }
      ],
      "is_parent": true,
      "search_text": "gt dog Manage dogs (cross-rig infrastructure workers) Manage dogs - reusable workers for infrastructure and cleanup.\n\nCATS VS DOGS:\n  Polecats (cats) build features. One rig. Ephemeral (one task, then nuked).\n  Dogs clean up messes. Cross-rig. Reusable (multiple tasks, eventually recycled).\n\nDogs are managed by the Deacon for town-level work:\n  - Infrastructure tasks (rebuilding, syncing, migrations)\n  - Cleanup operations (orphan branches, stale files)\n  - Cross-rig work that spans multiple projects\n\nEach dog has worktrees into every configured rig, enabling cross-project\noperations. Dogs return to idle state after completing work (unlike cats).\n\nThe kennel is at ~/gt/deacon/dogs/. The Deacon dispatches work to dogs. -h, --help   help for dog"
    },
    {
      "cmd": "gt dog add",
      "short": "Create a new dog in the kennel",
      "synopsis": "Create a new dog in the kennel with multi-rig worktrees.\n\nEach dog gets a worktree per configured rig (e.g., gastown, beads).\nThe dog starts in idle state, ready to receive work from the Deacon.\n\nExample:\n  gt dog add alpha\n  gt dog add bravo\n\n```\ngt dog add <name> [flags]\n```",
      "usage": "gt dog add <name> [flags]",
      "options": "-h, --help   help for add",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dog add Create a new dog in the kennel Create a new dog in the kennel with multi-rig worktrees.\n\nEach dog gets a worktree per configured rig (e.g., gastown, beads).\nThe dog starts in idle state, ready to receive work from the Deacon.\n\nExample:\n  gt dog add alpha\n  gt dog add bravo\n\n```\ngt dog add <name> [flags]\n``` -h, --help   help for add"
    },
    {
      "cmd": "gt dog call",
      "short": "Wake idle dog(s) for work",
      "synopsis": "Wake an idle dog to prepare for work.\n\nWith a name, wakes the specific dog.\nWith --all, wakes all idle dogs.\nWithout arguments, wakes one idle dog (if available).\n\nThis updates the dog's last-active timestamp and can trigger\nsession creation for the dog's worktrees.\n\nExamples:\n  gt dog call alpha\n  gt dog call --all\n  gt dog call\n\n```\ngt dog call [name] [flags]\n```",
      "usage": "gt dog call [name] [flags]",
      "options": "--all    Wake all idle dogs\n  -h, --help   help for call",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dog call Wake idle dog(s) for work Wake an idle dog to prepare for work.\n\nWith a name, wakes the specific dog.\nWith --all, wakes all idle dogs.\nWithout arguments, wakes one idle dog (if available).\n\nThis updates the dog's last-active timestamp and can trigger\nsession creation for the dog's worktrees.\n\nExamples:\n  gt dog call alpha\n  gt dog call --all\n  gt dog call\n\n```\ngt dog call [name] [flags]\n``` --all    Wake all idle dogs\n  -h, --help   help for call"
    },
    {
      "cmd": "gt dog clear",
      "short": "Reset a stuck dog to idle state",
      "synopsis": "Reset a stuck dog to idle state.\n\nUse this when a dog is stuck in \"working\" state but its session has died.\nThe Deacon uses this during patrol to clear dogs that have timed out.\n\nBy default, refuses to clear a dog if its tmux session still exists.\nUse --force to clear even if the session is alive.\n\nExamples:\n  gt dog clear alpha           # Clear if session is dead\n  gt dog clear alpha --force   # Force clear even if session exists\n\n```\ngt dog clear <name> [flags]\n```",
      "usage": "gt dog clear <name> [flags]",
      "options": "-f, --force   Force clear even if session exists\n  -h, --help    help for clear",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dog clear Reset a stuck dog to idle state Reset a stuck dog to idle state.\n\nUse this when a dog is stuck in \"working\" state but its session has died.\nThe Deacon uses this during patrol to clear dogs that have timed out.\n\nBy default, refuses to clear a dog if its tmux session still exists.\nUse --force to clear even if the session is alive.\n\nExamples:\n  gt dog clear alpha           # Clear if session is dead\n  gt dog clear alpha --force   # Force clear even if session exists\n\n```\ngt dog clear <name> [flags]\n``` -f, --force   Force clear even if session exists\n  -h, --help    help for clear"
    },
    {
      "cmd": "gt dog dispatch",
      "short": "Dispatch plugin execution to a dog",
      "synopsis": "Dispatch a plugin for execution by a dog worker.\n\nThis is the formalized command for sending plugin work to dogs. The Deacon\nuses this during patrol cycles to dispatch plugins with open gates.\n\nThe command:\n1. Finds the plugin definition (plugin.md)\n2. Assigns work to an idle dog (marks as working)\n3. Sends mail with plugin instructions to the dog\n4. Returns immediately (non-blocking)\n\nThe dog discovers the work via its mail inbox and executes the plugin\ninstructions. On completion, the dog sends DOG_DONE mail to deacon/.\n\nExamples:\n  gt dog dispatch --plugin rebuild-gt\n  gt dog dispatch --plugin rebuild-gt --rig gastown\n  gt dog dispatch --plugin rebuild-gt --dog alpha\n  gt dog dispatch --plugin rebuild-gt --create\n  gt dog dispatch --plugin rebuild-gt --dry-run\n  gt dog dispatch --plugin rebuild-gt --json\n\n```\ngt dog dispatch --plugin <name> [flags]\n```",
      "usage": "gt dog dispatch --plugin <name> [flags]",
      "options": "--create          Create a dog if none idle\n      --dog string      Dispatch to specific dog (default: any idle)\n  -n, --dry-run         Show what would be done without doing it\n  -h, --help            help for dispatch\n      --json            Output as JSON\n      --plugin string   Plugin name to dispatch (required)\n      --rig string      Limit plugin search to specific rig",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dog dispatch Dispatch plugin execution to a dog Dispatch a plugin for execution by a dog worker.\n\nThis is the formalized command for sending plugin work to dogs. The Deacon\nuses this during patrol cycles to dispatch plugins with open gates.\n\nThe command:\n1. Finds the plugin definition (plugin.md)\n2. Assigns work to an idle dog (marks as working)\n3. Sends mail with plugin instructions to the dog\n4. Returns immediately (non-blocking)\n\nThe dog discovers the work via its mail inbox and executes the plugin\ninstructions. On completion, the dog sends DOG_DONE mail to deacon/.\n\nExamples:\n  gt dog dispatch --plugin rebuild-gt\n  gt dog dispatch --plugin rebuild-gt --rig gastown\n  gt dog dispatch --plugin rebuild-gt --dog alpha\n  gt dog dispatch --plugin rebuild-gt --create\n  gt dog dispatch --plugin rebuild-gt --dry-run\n  gt dog dispatch --plugin rebuild-gt --json\n\n```\ngt dog dispatch --plugin <name> [flags]\n``` --create          Create a dog if none idle\n      --dog string      Dispatch to specific dog (default: any idle)\n  -n, --dry-run         Show what would be done without doing it\n  -h, --help            help for dispatch\n      --json            Output as JSON\n      --plugin string   Plugin name to dispatch (required)\n      --rig string      Limit plugin search to specific rig"
    },
    {
      "cmd": "gt dog done",
      "short": "Mark dog as done and return to idle",
      "synopsis": "Mark a dog as done with its current work and return to idle state.\n\nDogs should call this when they complete their work assignment.\nThis clears the work field and sets state to idle, making the dog\navailable for new work.\n\nWithout a name argument, auto-detects the current dog from the working\ndirectory (must be run from within a dog's worktree).\n\nExamples:\n  gt dog done         # Auto-detect from cwd\n  gt dog done alpha   # Explicit name\n\n```\ngt dog done [name] [flags]\n```",
      "usage": "gt dog done [name] [flags]",
      "options": "-h, --help   help for done",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dog done Mark dog as done and return to idle Mark a dog as done with its current work and return to idle state.\n\nDogs should call this when they complete their work assignment.\nThis clears the work field and sets state to idle, making the dog\navailable for new work.\n\nWithout a name argument, auto-detects the current dog from the working\ndirectory (must be run from within a dog's worktree).\n\nExamples:\n  gt dog done         # Auto-detect from cwd\n  gt dog done alpha   # Explicit name\n\n```\ngt dog done [name] [flags]\n``` -h, --help   help for done"
    },
    {
      "cmd": "gt dog list",
      "short": "List all dogs in the kennel",
      "synopsis": "List all dogs in the kennel with their status.\n\nShows each dog's state (idle/working), current work assignment,\nand last active timestamp.\n\nExamples:\n  gt dog list\n  gt dog list --json\n\n```\ngt dog list [flags]\n```",
      "usage": "gt dog list [flags]",
      "options": "-h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dog list List all dogs in the kennel List all dogs in the kennel with their status.\n\nShows each dog's state (idle/working), current work assignment,\nand last active timestamp.\n\nExamples:\n  gt dog list\n  gt dog list --json\n\n```\ngt dog list [flags]\n``` -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt dog remove",
      "short": "Remove dogs from the kennel",
      "synopsis": "Remove one or more dogs from the kennel.\n\nRemoves all worktrees and the dog directory.\nUse --force to remove even if dog is in working state.\n\nExamples:\n  gt dog remove alpha\n  gt dog remove alpha bravo\n  gt dog remove --all\n  gt dog remove alpha --force\n\n```\ngt dog remove <name>... | --all [flags]\n```",
      "usage": "gt dog remove <name>... | --all [flags]",
      "options": "--all     Remove all dogs\n  -f, --force   Force removal even if working\n  -h, --help    help for remove",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dog remove Remove dogs from the kennel Remove one or more dogs from the kennel.\n\nRemoves all worktrees and the dog directory.\nUse --force to remove even if dog is in working state.\n\nExamples:\n  gt dog remove alpha\n  gt dog remove alpha bravo\n  gt dog remove --all\n  gt dog remove alpha --force\n\n```\ngt dog remove <name>... | --all [flags]\n``` --all     Remove all dogs\n  -f, --force   Force removal even if working\n  -h, --help    help for remove"
    },
    {
      "cmd": "gt dog status",
      "short": "Show detailed dog status",
      "synopsis": "Show detailed status for a specific dog or summary for all dogs.\n\nWith a name, shows detailed info including:\n  - State (idle/working)\n  - Current work assignment\n  - Worktree paths per rig\n  - Last active timestamp\n\nWithout a name, shows pack summary:\n  - Total dogs\n  - Idle/working counts\n  - Pack health\n\nExamples:\n  gt dog status alpha\n  gt dog status\n  gt dog status --json\n\n```\ngt dog status [name] [flags]\n```",
      "usage": "gt dog status [name] [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dog status Show detailed dog status Show detailed status for a specific dog or summary for all dogs.\n\nWith a name, shows detailed info including:\n  - State (idle/working)\n  - Current work assignment\n  - Worktree paths per rig\n  - Last active timestamp\n\nWithout a name, shows pack summary:\n  - Total dogs\n  - Idle/working counts\n  - Pack health\n\nExamples:\n  gt dog status alpha\n  gt dog status\n  gt dog status --json\n\n```\ngt dog status [name] [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt dolt",
      "short": "Manage the Dolt SQL server",
      "synopsis": "Manage the Dolt SQL server for Gas Town beads.\n\nThe Dolt server provides multi-client access to all rig databases,\navoiding the single-writer limitation of embedded Dolt mode.\n\nServer configuration:\n  - Port: 3307 (avoids conflict with MySQL on 3306)\n  - User: root (default Dolt user, no password for localhost)\n  - Data directory: .dolt-data/ (contains all rig databases)\n\nEach rig (hq, gastown, beads) has its own database subdirectory.\n\n```\ngt dolt [flags]\n```",
      "usage": "gt dolt [flags]",
      "options": "-h, --help   help for dolt",
      "subcommands": [
        {
          "cmd": "gt dolt init-rig",
          "desc": "Initialize a new rig database"
        },
        {
          "cmd": "gt dolt list",
          "desc": "List available rig databases"
        },
        {
          "cmd": "gt dolt logs",
          "desc": "View Dolt server logs"
        },
        {
          "cmd": "gt dolt migrate",
          "desc": "Migrate existing dolt databases to centralized data directory"
        },
        {
          "cmd": "gt dolt sql",
          "desc": "Open Dolt SQL shell"
        },
        {
          "cmd": "gt dolt start",
          "desc": "Start the Dolt server"
        },
        {
          "cmd": "gt dolt status",
          "desc": "Show Dolt server status"
        },
        {
          "cmd": "gt dolt stop",
          "desc": "Stop the Dolt server"
        }
      ],
      "is_parent": true,
      "search_text": "gt dolt Manage the Dolt SQL server Manage the Dolt SQL server for Gas Town beads.\n\nThe Dolt server provides multi-client access to all rig databases,\navoiding the single-writer limitation of embedded Dolt mode.\n\nServer configuration:\n  - Port: 3307 (avoids conflict with MySQL on 3306)\n  - User: root (default Dolt user, no password for localhost)\n  - Data directory: .dolt-data/ (contains all rig databases)\n\nEach rig (hq, gastown, beads) has its own database subdirectory.\n\n```\ngt dolt [flags]\n``` -h, --help   help for dolt"
    },
    {
      "cmd": "gt dolt init-rig",
      "short": "Initialize a new rig database",
      "synopsis": "Initialize a new rig database in the Dolt data directory.\n\nEach rig (e.g., gastown, beads) gets its own database that will be\nserved by the Dolt server. The rig name becomes the database name\nwhen connecting via MySQL protocol.\n\nExample:\n  gt dolt init-rig gastown\n  gt dolt init-rig beads\n\n```\ngt dolt init-rig <name> [flags]\n```",
      "usage": "gt dolt init-rig <name> [flags]",
      "options": "-h, --help   help for init-rig",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dolt init-rig Initialize a new rig database Initialize a new rig database in the Dolt data directory.\n\nEach rig (e.g., gastown, beads) gets its own database that will be\nserved by the Dolt server. The rig name becomes the database name\nwhen connecting via MySQL protocol.\n\nExample:\n  gt dolt init-rig gastown\n  gt dolt init-rig beads\n\n```\ngt dolt init-rig <name> [flags]\n``` -h, --help   help for init-rig"
    },
    {
      "cmd": "gt dolt list",
      "short": "List available rig databases",
      "synopsis": "List all rig databases in the Dolt data directory.\n\n```\ngt dolt list [flags]\n```",
      "usage": "gt dolt list [flags]",
      "options": "-h, --help   help for list",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dolt list List available rig databases List all rig databases in the Dolt data directory.\n\n```\ngt dolt list [flags]\n``` -h, --help   help for list"
    },
    {
      "cmd": "gt dolt logs",
      "short": "View Dolt server logs",
      "synopsis": "View the Dolt server log file.\n\n```\ngt dolt logs [flags]\n```",
      "usage": "gt dolt logs [flags]",
      "options": "-f, --follow      Follow log output\n  -h, --help        help for logs\n  -n, --lines int   Number of lines to show (default 50)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dolt logs View Dolt server logs View the Dolt server log file.\n\n```\ngt dolt logs [flags]\n``` -f, --follow      Follow log output\n  -h, --help        help for logs\n  -n, --lines int   Number of lines to show (default 50)"
    },
    {
      "cmd": "gt dolt migrate",
      "short": "Migrate existing dolt databases to centralized data directory",
      "synopsis": "Migrate existing dolt databases from .beads/dolt/ locations to the\ncentralized .dolt-data/ directory structure.\n\nThis command will:\n1. Detect existing dolt databases in .beads/dolt/ directories\n2. Move them to .dolt-data/<rigname>/\n3. Remove the old empty directories\n\nAfter migration, start the server with 'gt dolt start'.\n\n```\ngt dolt migrate [flags]\n```",
      "usage": "gt dolt migrate [flags]",
      "options": "-h, --help   help for migrate",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dolt migrate Migrate existing dolt databases to centralized data directory Migrate existing dolt databases from .beads/dolt/ locations to the\ncentralized .dolt-data/ directory structure.\n\nThis command will:\n1. Detect existing dolt databases in .beads/dolt/ directories\n2. Move them to .dolt-data/<rigname>/\n3. Remove the old empty directories\n\nAfter migration, start the server with 'gt dolt start'.\n\n```\ngt dolt migrate [flags]\n``` -h, --help   help for migrate"
    },
    {
      "cmd": "gt dolt sql",
      "short": "Open Dolt SQL shell",
      "synopsis": "Open an interactive SQL shell to the Dolt database.\n\nWorks in both embedded mode (no server) and server mode.\nFor multi-client access, start the server first with 'gt dolt start'.\n\n```\ngt dolt sql [flags]\n```",
      "usage": "gt dolt sql [flags]",
      "options": "-h, --help   help for sql",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dolt sql Open Dolt SQL shell Open an interactive SQL shell to the Dolt database.\n\nWorks in both embedded mode (no server) and server mode.\nFor multi-client access, start the server first with 'gt dolt start'.\n\n```\ngt dolt sql [flags]\n``` -h, --help   help for sql"
    },
    {
      "cmd": "gt dolt start",
      "short": "Start the Dolt server",
      "synopsis": "Start the Dolt SQL server in the background.\n\nThe server will run until stopped with 'gt dolt stop'.\n\n```\ngt dolt start [flags]\n```",
      "usage": "gt dolt start [flags]",
      "options": "-h, --help   help for start",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dolt start Start the Dolt server Start the Dolt SQL server in the background.\n\nThe server will run until stopped with 'gt dolt stop'.\n\n```\ngt dolt start [flags]\n``` -h, --help   help for start"
    },
    {
      "cmd": "gt dolt status",
      "short": "Show Dolt server status",
      "synopsis": "Show the current status of the Dolt SQL server.\n\n```\ngt dolt status [flags]\n```",
      "usage": "gt dolt status [flags]",
      "options": "-h, --help   help for status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dolt status Show Dolt server status Show the current status of the Dolt SQL server.\n\n```\ngt dolt status [flags]\n``` -h, --help   help for status"
    },
    {
      "cmd": "gt dolt stop",
      "short": "Stop the Dolt server",
      "synopsis": "Stop the running Dolt SQL server.\n\n```\ngt dolt stop [flags]\n```",
      "usage": "gt dolt stop [flags]",
      "options": "-h, --help   help for stop",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt dolt stop Stop the Dolt server Stop the running Dolt SQL server.\n\n```\ngt dolt stop [flags]\n``` -h, --help   help for stop"
    },
    {
      "cmd": "gt done",
      "short": "Signal work ready for merge queue",
      "synopsis": "Signal that your work is complete and ready for the merge queue.\n\nThis is a convenience command for polecats that:\n1. Submits the current branch to the merge queue\n2. Auto-detects issue ID from branch name\n3. Notifies the Witness with the exit outcome\n4. Exits the Claude session (polecats don't stay alive after completion)\n\nExit statuses:\n  COMPLETED      - Work done, MR submitted (default)\n  ESCALATED      - Hit blocker, needs human intervention\n  DEFERRED       - Work paused, issue still open\n  PHASE_COMPLETE - Phase done, awaiting gate (use --phase-complete)\n\nPhase handoff workflow:\n  When a molecule has gate steps (async waits), use --phase-complete to signal\n  that the current phase is complete but work continues after the gate closes.\n  The Witness will recycle this polecat and dispatch a new one when the gate\n  resolves.\n\nExamples:\n  gt done                              # Submit branch, notify COMPLETED, exit session\n  gt done --issue gt-abc               # Explicit issue ID\n  gt done --status ESCALATED           # Signal blocker, skip MR\n  gt done --status DEFERRED            # Pause work, skip MR\n  gt done --phase-complete --gate g-x  # Phase done, waiting on gate g-x\n\n```\ngt done [flags]\n```",
      "usage": "gt done [flags]",
      "options": "--cleanup-status string   Git cleanup status: clean, uncommitted, unpushed, stash, unknown (ZFC: agent-observed)\n      --gate string             Gate bead ID to wait on (with --phase-complete)\n  -h, --help                    help for done\n      --issue string            Source issue ID (default: parse from branch name)\n      --phase-complete          Signal phase complete - await gate before continuing\n  -p, --priority int            Override priority (0-4, default: inherit from issue) (default -1)\n      --status string           Exit status: COMPLETED, ESCALATED, or DEFERRED (default \"COMPLETED\")",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt done Signal work ready for merge queue Signal that your work is complete and ready for the merge queue.\n\nThis is a convenience command for polecats that:\n1. Submits the current branch to the merge queue\n2. Auto-detects issue ID from branch name\n3. Notifies the Witness with the exit outcome\n4. Exits the Claude session (polecats don't stay alive after completion)\n\nExit statuses:\n  COMPLETED      - Work done, MR submitted (default)\n  ESCALATED      - Hit blocker, needs human intervention\n  DEFERRED       - Work paused, issue still open\n  PHASE_COMPLETE - Phase done, awaiting gate (use --phase-complete)\n\nPhase handoff workflow:\n  When a molecule has gate steps (async waits), use --phase-complete to signal\n  that the current phase is complete but work continues after the gate closes.\n  The Witness will recycle this polecat and dispatch a new one when the gate\n  resolves.\n\nExamples:\n  gt done                              # Submit branch, notify COMPLETED, exit session\n  gt done --issue gt-abc               # Explicit issue ID\n  gt done --status ESCALATED           # Signal blocker, skip MR\n  gt done --status DEFERRED            # Pause work, skip MR\n  gt done --phase-complete --gate g-x  # Phase done, waiting on gate g-x\n\n```\ngt done [flags]\n``` --cleanup-status string   Git cleanup status: clean, uncommitted, unpushed, stash, unknown (ZFC: agent-observed)\n      --gate string             Gate bead ID to wait on (with --phase-complete)\n  -h, --help                    help for done\n      --issue string            Source issue ID (default: parse from branch name)\n      --phase-complete          Signal phase complete - await gate before continuing\n  -p, --priority int            Override priority (0-4, default: inherit from issue) (default -1)\n      --status string           Exit status: COMPLETED, ESCALATED, or DEFERRED (default \"COMPLETED\")"
    },
    {
      "cmd": "gt down",
      "short": "Stop all Gas Town services",
      "synopsis": "Stop Gas Town services (reversible pause).\n\nShutdown levels (progressively more aggressive):\n  gt down                    Stop infrastructure (default)\n  gt down --polecats         Also stop all polecat sessions\n  gt down --all              Also stop bd daemons/activity\n  gt down --nuke             Also kill the tmux server (DESTRUCTIVE)\n\nInfrastructure agents stopped:\n  \u2022 Refineries - Per-rig work processors\n  \u2022 Witnesses  - Per-rig polecat managers\n  \u2022 Mayor      - Global work coordinator\n  \u2022 Boot       - Deacon's watchdog\n  \u2022 Deacon     - Health orchestrator\n  \u2022 Daemon     - Go background process\n\nThis is a \"pause\" operation - use 'gt start' to bring everything back up.\nFor permanent cleanup (removing worktrees), use 'gt shutdown' instead.\n\nUse cases:\n  \u2022 Taking a break (stop token consumption)\n  \u2022 Clean shutdown before system maintenance\n  \u2022 Resetting the town to a clean state\n\n```\ngt down [flags]\n```",
      "usage": "gt down [flags]",
      "options": "-a, --all        Stop bd daemons/activity and verify shutdown\n      --dry-run    Preview what would be stopped without taking action\n  -f, --force      Force kill without graceful shutdown\n  -h, --help       help for down\n      --nuke       Kill entire tmux server (DESTRUCTIVE - kills non-GT sessions!)\n  -p, --polecats   Also stop all polecat sessions\n  -q, --quiet      Only show errors",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt down Stop all Gas Town services Stop Gas Town services (reversible pause).\n\nShutdown levels (progressively more aggressive):\n  gt down                    Stop infrastructure (default)\n  gt down --polecats         Also stop all polecat sessions\n  gt down --all              Also stop bd daemons/activity\n  gt down --nuke             Also kill the tmux server (DESTRUCTIVE)\n\nInfrastructure agents stopped:\n  \u2022 Refineries - Per-rig work processors\n  \u2022 Witnesses  - Per-rig polecat managers\n  \u2022 Mayor      - Global work coordinator\n  \u2022 Boot       - Deacon's watchdog\n  \u2022 Deacon     - Health orchestrator\n  \u2022 Daemon     - Go background process\n\nThis is a \"pause\" operation - use 'gt start' to bring everything back up.\nFor permanent cleanup (removing worktrees), use 'gt shutdown' instead.\n\nUse cases:\n  \u2022 Taking a break (stop token consumption)\n  \u2022 Clean shutdown before system maintenance\n  \u2022 Resetting the town to a clean state\n\n```\ngt down [flags]\n``` -a, --all        Stop bd daemons/activity and verify shutdown\n      --dry-run    Preview what would be stopped without taking action\n  -f, --force      Force kill without graceful shutdown\n  -h, --help       help for down\n      --nuke       Kill entire tmux server (DESTRUCTIVE - kills non-GT sessions!)\n  -p, --polecats   Also stop all polecat sessions\n  -q, --quiet      Only show errors"
    },
    {
      "cmd": "gt enable",
      "short": "Enable Gas Town system-wide",
      "synopsis": "Enable Gas Town for all agentic coding tools.\n\nWhen enabled:\n  - Shell hooks set GT_TOWN_ROOT and GT_RIG environment variables\n  - Claude Code SessionStart hooks run 'gt prime' for context\n  - Git repos are auto-registered as rigs (configurable)\n\nUse 'gt disable' to turn off. Use 'gt status --global' to check state.\n\nEnvironment overrides:\n  GASTOWN_DISABLED=1  - Disable for current session only\n  GASTOWN_ENABLED=1   - Enable for current session only\n\n```\ngt enable [flags]\n```",
      "usage": "gt enable [flags]",
      "options": "-h, --help   help for enable",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt enable Enable Gas Town system-wide Enable Gas Town for all agentic coding tools.\n\nWhen enabled:\n  - Shell hooks set GT_TOWN_ROOT and GT_RIG environment variables\n  - Claude Code SessionStart hooks run 'gt prime' for context\n  - Git repos are auto-registered as rigs (configurable)\n\nUse 'gt disable' to turn off. Use 'gt status --global' to check state.\n\nEnvironment overrides:\n  GASTOWN_DISABLED=1  - Disable for current session only\n  GASTOWN_ENABLED=1   - Enable for current session only\n\n```\ngt enable [flags]\n``` -h, --help   help for enable"
    },
    {
      "cmd": "gt escalate",
      "short": "Escalation system for critical issues",
      "synopsis": "Create and manage escalations for critical issues.\n\nThe escalation system provides severity-based routing for issues that need\nhuman or mayor attention. Escalations are tracked as beads with gt:escalation label.\n\nSEVERITY LEVELS:\n  critical  (P0) Immediate attention required\n  high      (P1) Urgent, needs attention soon\n  medium    (P2) Standard escalation (default)\n  low       (P3) Informational, can wait\n\nWORKFLOW:\n  1. Agent encounters blocking issue\n  2. Runs: gt escalate \"Description\" --severity high --reason \"details\"\n  3. Escalation is routed based on settings/escalation.json\n  4. Recipient acknowledges with: gt escalate ack <id>\n  5. After resolution: gt escalate close <id> --reason \"fixed\"\n\nCONFIGURATION:\n  Routing is configured in ~/gt/settings/escalation.json:\n  - routes: Map severity to action lists (bead, mail:mayor, email:human, sms:human)\n  - contacts: Human email/SMS for external notifications\n  - stale_threshold: When unacked escalations are re-escalated (default: 4h)\n  - max_reescalations: How many times to bump severity (default: 2)\n\nExamples:\n  gt escalate \"Build failing\" --severity critical --reason \"CI blocked\"\n  gt escalate \"Need API credentials\" --severity high --source \"plugin:rebuild-gt\"\n  gt escalate \"Code review requested\" --reason \"PR #123 ready\"\n  gt escalate list                          # Show open escalations\n  gt escalate ack hq-abc123                 # Acknowledge\n  gt escalate close hq-abc123 --reason \"Fixed in commit abc\"\n  gt escalate stale                         # Re-escalate stale escalations\n\n```\ngt escalate [description] [flags]\n```",
      "usage": "gt escalate [description] [flags]",
      "options": "-n, --dry-run           Show what would be done without executing\n  -h, --help              help for escalate\n      --json              Output as JSON\n  -r, --reason string     Detailed reason for escalation\n      --related string    Related bead ID (task, bug, etc.)\n  -s, --severity string   Severity level: critical, high, medium, low (default \"medium\")\n      --source string     Source identifier (e.g., plugin:rebuild-gt, patrol:deacon)",
      "subcommands": [
        {
          "cmd": "gt escalate ack",
          "desc": "Acknowledge an escalation"
        },
        {
          "cmd": "gt escalate close",
          "desc": "Close a resolved escalation"
        },
        {
          "cmd": "gt escalate list",
          "desc": "List open escalations"
        },
        {
          "cmd": "gt escalate show",
          "desc": "Show details of an escalation"
        },
        {
          "cmd": "gt escalate stale",
          "desc": "Re-escalate stale unacknowledged escalations"
        }
      ],
      "is_parent": true,
      "search_text": "gt escalate Escalation system for critical issues Create and manage escalations for critical issues.\n\nThe escalation system provides severity-based routing for issues that need\nhuman or mayor attention. Escalations are tracked as beads with gt:escalation label.\n\nSEVERITY LEVELS:\n  critical  (P0) Immediate attention required\n  high      (P1) Urgent, needs attention soon\n  medium    (P2) Standard escalation (default)\n  low       (P3) Informational, can wait\n\nWORKFLOW:\n  1. Agent encounters blocking issue\n  2. Runs: gt escalate \"Description\" --severity high --reason \"details\"\n  3. Escalation is routed based on settings/escalation.json\n  4. Recipient acknowledges with: gt escalate ack <id>\n  5. After resolution: gt escalate close <id> --reason \"fixed\"\n\nCONFIGURATION:\n  Routing is configured in ~/gt/settings/escalation.json:\n  - routes: Map severity to action lists (bead, mail:mayor, email:human, sms:human)\n  - contacts: Human email/SMS for external notifications\n  - stale_threshold: When unacked escalations are re-escalated (default: 4h)\n  - max_reescalations: How many times to bump severity (default: 2)\n\nExamples:\n  gt escalate \"Build failing\" --severity critical --reason \"CI blocked\"\n  gt escalate \"Need API credentials\" --severity high --source \"plugin:rebuild-gt\"\n  gt escalate \"Code review requested\" --reason \"PR #123 ready\"\n  gt escalate list                          # Show open escalations\n  gt escalate ack hq-abc123                 # Acknowledge\n  gt escalate close hq-abc123 --reason \"Fixed in commit abc\"\n  gt escalate stale                         # Re-escalate stale escalations\n\n```\ngt escalate [description] [flags]\n``` -n, --dry-run           Show what would be done without executing\n  -h, --help              help for escalate\n      --json              Output as JSON\n  -r, --reason string     Detailed reason for escalation\n      --related string    Related bead ID (task, bug, etc.)\n  -s, --severity string   Severity level: critical, high, medium, low (default \"medium\")\n      --source string     Source identifier (e.g., plugin:rebuild-gt, patrol:deacon)"
    },
    {
      "cmd": "gt escalate ack",
      "short": "Acknowledge an escalation",
      "synopsis": "Acknowledge an escalation to indicate you're working on it.\n\nAdds an \"acked\" label and records who acknowledged and when.\nThis stops the stale escalation warnings.\n\nExamples:\n  gt escalate ack hq-abc123\n\n```\ngt escalate ack <escalation-id> [flags]\n```",
      "usage": "gt escalate ack <escalation-id> [flags]",
      "options": "-h, --help   help for ack",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt escalate ack Acknowledge an escalation Acknowledge an escalation to indicate you're working on it.\n\nAdds an \"acked\" label and records who acknowledged and when.\nThis stops the stale escalation warnings.\n\nExamples:\n  gt escalate ack hq-abc123\n\n```\ngt escalate ack <escalation-id> [flags]\n``` -h, --help   help for ack"
    },
    {
      "cmd": "gt escalate close",
      "short": "Close a resolved escalation",
      "synopsis": "Close an escalation after the issue is resolved.\n\nRecords who closed it and the resolution reason.\n\nExamples:\n  gt escalate close hq-abc123 --reason \"Fixed in commit abc\"\n  gt escalate close hq-abc123 --reason \"Not reproducible\"\n\n```\ngt escalate close <escalation-id> [flags]\n```",
      "usage": "gt escalate close <escalation-id> [flags]",
      "options": "-h, --help            help for close\n      --reason string   Resolution reason",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt escalate close Close a resolved escalation Close an escalation after the issue is resolved.\n\nRecords who closed it and the resolution reason.\n\nExamples:\n  gt escalate close hq-abc123 --reason \"Fixed in commit abc\"\n  gt escalate close hq-abc123 --reason \"Not reproducible\"\n\n```\ngt escalate close <escalation-id> [flags]\n``` -h, --help            help for close\n      --reason string   Resolution reason"
    },
    {
      "cmd": "gt escalate list",
      "short": "List open escalations",
      "synopsis": "List all open escalations.\n\nShows escalations that haven't been closed yet. Use --all to include\nclosed escalations.\n\nExamples:\n  gt escalate list              # Open escalations only\n  gt escalate list --all        # Include closed\n  gt escalate list --json       # JSON output\n\n```\ngt escalate list [flags]\n```",
      "usage": "gt escalate list [flags]",
      "options": "--all    Include closed escalations\n  -h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt escalate list List open escalations List all open escalations.\n\nShows escalations that haven't been closed yet. Use --all to include\nclosed escalations.\n\nExamples:\n  gt escalate list              # Open escalations only\n  gt escalate list --all        # Include closed\n  gt escalate list --json       # JSON output\n\n```\ngt escalate list [flags]\n``` --all    Include closed escalations\n  -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt escalate show",
      "short": "Show details of an escalation",
      "synopsis": "Display detailed information about an escalation.\n\nExamples:\n  gt escalate show hq-abc123\n  gt escalate show hq-abc123 --json\n\n```\ngt escalate show <escalation-id> [flags]\n```",
      "usage": "gt escalate show <escalation-id> [flags]",
      "options": "-h, --help   help for show\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt escalate show Show details of an escalation Display detailed information about an escalation.\n\nExamples:\n  gt escalate show hq-abc123\n  gt escalate show hq-abc123 --json\n\n```\ngt escalate show <escalation-id> [flags]\n``` -h, --help   help for show\n      --json   Output as JSON"
    },
    {
      "cmd": "gt escalate stale",
      "short": "Re-escalate stale unacknowledged escalations",
      "synopsis": "Find and re-escalate escalations that haven't been acknowledged within the threshold.\n\nWhen run without --dry-run, this command:\n1. Finds escalations older than the stale threshold (default: 4h)\n2. Bumps their severity: low\u2192medium\u2192high\u2192critical\n3. Re-routes them according to the new severity level\n4. Sends mail to the new routing targets\n\nRespects max_reescalations from config (default: 2) to prevent infinite escalation.\n\nThe threshold is configured in settings/escalation.json.\n\nExamples:\n  gt escalate stale              # Re-escalate stale escalations\n  gt escalate stale --dry-run    # Show what would be done\n  gt escalate stale --json       # JSON output of results\n\n```\ngt escalate stale [flags]\n```",
      "usage": "gt escalate stale [flags]",
      "options": "-n, --dry-run   Show what would be re-escalated without acting\n  -h, --help      help for stale\n      --json      Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt escalate stale Re-escalate stale unacknowledged escalations Find and re-escalate escalations that haven't been acknowledged within the threshold.\n\nWhen run without --dry-run, this command:\n1. Finds escalations older than the stale threshold (default: 4h)\n2. Bumps their severity: low\u2192medium\u2192high\u2192critical\n3. Re-routes them according to the new severity level\n4. Sends mail to the new routing targets\n\nRespects max_reescalations from config (default: 2) to prevent infinite escalation.\n\nThe threshold is configured in settings/escalation.json.\n\nExamples:\n  gt escalate stale              # Re-escalate stale escalations\n  gt escalate stale --dry-run    # Show what would be done\n  gt escalate stale --json       # JSON output of results\n\n```\ngt escalate stale [flags]\n``` -n, --dry-run   Show what would be re-escalated without acting\n  -h, --help      help for stale\n      --json      Output as JSON"
    },
    {
      "cmd": "gt feed",
      "short": "Show real-time activity feed from beads and gt events",
      "synopsis": "Display a real-time feed of issue changes and agent activity.\n\nBy default, launches an interactive TUI dashboard with:\n  - Agent tree (top): Shows all agents organized by role with latest activity\n  - Convoy panel (middle): Shows in-progress and recently landed convoys\n  - Event stream (bottom): Chronological feed you can scroll through\n  - Vim-style navigation: j/k to scroll, tab to switch panels, 1/2/3 for panels, q to quit\n\nThe feed combines multiple event sources:\n  - Beads activity: Issue creates, updates, completions (from bd activity)\n  - GT events: Agent activity like patrol, sling, handoff (from .events.jsonl)\n  - Convoy status: In-progress and recently-landed convoys (refreshes every 10s)\n\nUse --plain for simple text output (wraps bd activity only).\n\nTmux Integration:\n  Use --window to open the feed in a dedicated tmux window named 'feed'.\n  This creates a persistent window you can cycle to with C-b n/p.\n\nEvent symbols:\n  +  created/bonded    - New issue or molecule created\n  \u2192  in_progress       - Work started on an issue\n  \u2713  completed         - Issue closed or step completed\n  \u2717  failed            - Step or issue failed\n  \u2298  deleted           - Issue removed\n  \ud83e\udd89  patrol_started   - Witness began patrol cycle\n  \u26a1  polecat_nudged   - Worker was nudged\n  \ud83c\udfaf  sling            - Work was slung to worker\n  \ud83e\udd1d  handoff          - Session handed off\n\nMQ (Merge Queue) event symbols:\n  \u2699  merge_started   - Refinery began processing an MR\n  \u2713  merged          - MR successfully merged (green)\n  \u2717  merge_failed    - Merge failed (conflict, tests, etc.) (red)\n  \u2298  merge_skipped   - MR skipped (already merged, etc.)\n\nExamples:\n  gt feed                       # Launch TUI dashboard\n  gt feed --plain               # Plain text output (bd activity)\n  gt feed --window              # Open in dedicated tmux window\n  gt feed --since 1h            # Events from last hour\n  gt feed --rig greenplace         # Use gastown rig's beads\n\n```\ngt feed [flags]\n```",
      "usage": "gt feed [flags]",
      "options": "-f, --follow         Stream events in real-time (default when no other flags)\n  -h, --help           help for feed\n  -n, --limit int      Maximum number of events to show (default 100)\n      --mol string     Filter by molecule/issue ID prefix\n      --no-follow      Show events once and exit\n      --plain          Use plain text output (bd activity) instead of TUI\n      --rig string     Run from specific rig's beads directory\n      --since string   Show events since duration (e.g., 5m, 1h, 30s)\n      --type string    Filter by event type (create, update, delete, comment)\n  -w, --window         Open in dedicated tmux window (creates 'feed' window)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt feed Show real-time activity feed from beads and gt events Display a real-time feed of issue changes and agent activity.\n\nBy default, launches an interactive TUI dashboard with:\n  - Agent tree (top): Shows all agents organized by role with latest activity\n  - Convoy panel (middle): Shows in-progress and recently landed convoys\n  - Event stream (bottom): Chronological feed you can scroll through\n  - Vim-style navigation: j/k to scroll, tab to switch panels, 1/2/3 for panels, q to quit\n\nThe feed combines multiple event sources:\n  - Beads activity: Issue creates, updates, completions (from bd activity)\n  - GT events: Agent activity like patrol, sling, handoff (from .events.jsonl)\n  - Convoy status: In-progress and recently-landed convoys (refreshes every 10s)\n\nUse --plain for simple text output (wraps bd activity only).\n\nTmux Integration:\n  Use --window to open the feed in a dedicated tmux window named 'feed'.\n  This creates a persistent window you can cycle to with C-b n/p.\n\nEvent symbols:\n  +  created/bonded    - New issue or molecule created\n  \u2192  in_progress       - Work started on an issue\n  \u2713  completed         - Issue closed or step completed\n  \u2717  failed            - Step or issue failed\n  \u2298  deleted           - Issue removed\n  \ud83e\udd89  patrol_started   - Witness began patrol cycle\n  \u26a1  polecat_nudged   - Worker was nudged\n  \ud83c\udfaf  sling            - Work was slung to worker\n  \ud83e\udd1d  handoff          - Session handed off\n\nMQ (Merge Queue) event symbols:\n  \u2699  merge_started   - Refinery began processing an MR\n  \u2713  merged          - MR successfully merged (green)\n  \u2717  merge_failed    - Merge failed (conflict, tests, etc.) (red)\n  \u2298  merge_skipped   - MR skipped (already merged, etc.)\n\nExamples:\n  gt feed                       # Launch TUI dashboard\n  gt feed --plain               # Plain text output (bd activity)\n  gt feed --window              # Open in dedicated tmux window\n  gt feed --since 1h            # Events from last hour\n  gt feed --rig greenplace         # Use gastown rig's beads\n\n```\ngt feed [flags]\n``` -f, --follow         Stream events in real-time (default when no other flags)\n  -h, --help           help for feed\n  -n, --limit int      Maximum number of events to show (default 100)\n      --mol string     Filter by molecule/issue ID prefix\n      --no-follow      Show events once and exit\n      --plain          Use plain text output (bd activity) instead of TUI\n      --rig string     Run from specific rig's beads directory\n      --since string   Show events since duration (e.g., 5m, 1h, 30s)\n      --type string    Filter by event type (create, update, delete, comment)\n  -w, --window         Open in dedicated tmux window (creates 'feed' window)"
    },
    {
      "cmd": "gt formula",
      "short": "Manage workflow formulas",
      "synopsis": "Manage workflow formulas - reusable molecule templates.\n\nFormulas are TOML/JSON files that define workflows with steps, variables,\nand composition rules. They can be \"poured\" to create molecules or \"wisped\"\nfor ephemeral patrol cycles.\n\nCommands:\n  list    List available formulas from all search paths\n  show    Display formula details (steps, variables, composition)\n  run     Execute a formula (pour and dispatch)\n  create  Create a new formula template\n\nSearch paths (in order):\n  1. .beads/formulas/ (project)\n  2. ~/.beads/formulas/ (user)\n  3. $GT_ROOT/.beads/formulas/ (orchestrator)\n\nExamples:\n  gt formula list                    # List all formulas\n  gt formula show shiny              # Show formula details\n  gt formula run shiny --pr=123      # Run formula on PR #123\n  gt formula create my-workflow      # Create new formula template\n\n```\ngt formula [flags]\n```",
      "usage": "gt formula [flags]",
      "options": "-h, --help   help for formula",
      "subcommands": [
        {
          "cmd": "gt formula create",
          "desc": "Create a new formula template"
        },
        {
          "cmd": "gt formula list",
          "desc": "List available formulas"
        },
        {
          "cmd": "gt formula run",
          "desc": "Execute a formula"
        },
        {
          "cmd": "gt formula show",
          "desc": "Display formula details"
        }
      ],
      "is_parent": true,
      "search_text": "gt formula Manage workflow formulas Manage workflow formulas - reusable molecule templates.\n\nFormulas are TOML/JSON files that define workflows with steps, variables,\nand composition rules. They can be \"poured\" to create molecules or \"wisped\"\nfor ephemeral patrol cycles.\n\nCommands:\n  list    List available formulas from all search paths\n  show    Display formula details (steps, variables, composition)\n  run     Execute a formula (pour and dispatch)\n  create  Create a new formula template\n\nSearch paths (in order):\n  1. .beads/formulas/ (project)\n  2. ~/.beads/formulas/ (user)\n  3. $GT_ROOT/.beads/formulas/ (orchestrator)\n\nExamples:\n  gt formula list                    # List all formulas\n  gt formula show shiny              # Show formula details\n  gt formula run shiny --pr=123      # Run formula on PR #123\n  gt formula create my-workflow      # Create new formula template\n\n```\ngt formula [flags]\n``` -h, --help   help for formula"
    },
    {
      "cmd": "gt formula create",
      "short": "Create a new formula template",
      "synopsis": "Create a new formula template file.\n\nCreates a starter formula file in .beads/formulas/ with the given name.\nThe template includes common sections that you can customize.\n\nFormula types:\n  task      Single-step task formula (default)\n  workflow  Multi-step workflow with dependencies\n  patrol    Repeating patrol cycle (for wisps)\n\nExamples:\n  gt formula create my-task                  # Create task formula\n  gt formula create my-workflow --type=workflow\n  gt formula create nightly-check --type=patrol\n\n```\ngt formula create <name> [flags]\n```",
      "usage": "gt formula create <name> [flags]",
      "options": "-h, --help          help for create\n      --type string   Formula type: task, workflow, or patrol (default \"task\")",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt formula create Create a new formula template Create a new formula template file.\n\nCreates a starter formula file in .beads/formulas/ with the given name.\nThe template includes common sections that you can customize.\n\nFormula types:\n  task      Single-step task formula (default)\n  workflow  Multi-step workflow with dependencies\n  patrol    Repeating patrol cycle (for wisps)\n\nExamples:\n  gt formula create my-task                  # Create task formula\n  gt formula create my-workflow --type=workflow\n  gt formula create nightly-check --type=patrol\n\n```\ngt formula create <name> [flags]\n``` -h, --help          help for create\n      --type string   Formula type: task, workflow, or patrol (default \"task\")"
    },
    {
      "cmd": "gt formula list",
      "short": "List available formulas",
      "synopsis": "List available formulas from all search paths.\n\nSearches for formula files (.formula.toml, .formula.json) in:\n  1. .beads/formulas/ (project)\n  2. ~/.beads/formulas/ (user)\n  3. $GT_ROOT/.beads/formulas/ (orchestrator)\n\nExamples:\n  gt formula list            # List all formulas\n  gt formula list --json     # JSON output\n\n```\ngt formula list [flags]\n```",
      "usage": "gt formula list [flags]",
      "options": "-h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt formula list List available formulas List available formulas from all search paths.\n\nSearches for formula files (.formula.toml, .formula.json) in:\n  1. .beads/formulas/ (project)\n  2. ~/.beads/formulas/ (user)\n  3. $GT_ROOT/.beads/formulas/ (orchestrator)\n\nExamples:\n  gt formula list            # List all formulas\n  gt formula list --json     # JSON output\n\n```\ngt formula list [flags]\n``` -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt formula run",
      "short": "Execute a formula",
      "synopsis": "Execute a formula by pouring it and dispatching work.\n\nThis command:\n  1. Looks up the formula by name (or uses default from rig config)\n  2. Pours it to create a molecule (or uses existing proto)\n  3. Dispatches the molecule to available workers\n\nFor PR-based workflows, use --pr to specify the GitHub PR number.\n\nIf no formula name is provided, uses the default formula configured in\nthe rig's settings/config.json under workflow.default_formula.\n\nOptions:\n  --pr=N      Run formula on GitHub PR #N\n  --rig=NAME  Target specific rig (default: current or gastown)\n  --dry-run   Show what would happen without executing\n\nExamples:\n  gt formula run shiny                    # Run formula in current rig\n  gt formula run                          # Run default formula from rig config\n  gt formula run shiny --pr=123           # Run on PR #123\n  gt formula run security-audit --rig=beads  # Run in specific rig\n  gt formula run release --dry-run        # Preview execution\n\n```\ngt formula run [name] [flags]\n```",
      "usage": "gt formula run [name] [flags]",
      "options": "--dry-run      Preview execution without running\n  -h, --help         help for run\n      --pr int       GitHub PR number to run formula on\n      --rig string   Target rig (default: current or gastown)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt formula run Execute a formula Execute a formula by pouring it and dispatching work.\n\nThis command:\n  1. Looks up the formula by name (or uses default from rig config)\n  2. Pours it to create a molecule (or uses existing proto)\n  3. Dispatches the molecule to available workers\n\nFor PR-based workflows, use --pr to specify the GitHub PR number.\n\nIf no formula name is provided, uses the default formula configured in\nthe rig's settings/config.json under workflow.default_formula.\n\nOptions:\n  --pr=N      Run formula on GitHub PR #N\n  --rig=NAME  Target specific rig (default: current or gastown)\n  --dry-run   Show what would happen without executing\n\nExamples:\n  gt formula run shiny                    # Run formula in current rig\n  gt formula run                          # Run default formula from rig config\n  gt formula run shiny --pr=123           # Run on PR #123\n  gt formula run security-audit --rig=beads  # Run in specific rig\n  gt formula run release --dry-run        # Preview execution\n\n```\ngt formula run [name] [flags]\n``` --dry-run      Preview execution without running\n  -h, --help         help for run\n      --pr int       GitHub PR number to run formula on\n      --rig string   Target rig (default: current or gastown)"
    },
    {
      "cmd": "gt formula show",
      "short": "Display formula details",
      "synopsis": "Display detailed information about a formula.\n\nShows:\n  - Formula metadata (name, type, description)\n  - Variables with defaults and constraints\n  - Steps with dependencies\n  - Composition rules (extends, aspects)\n\nExamples:\n  gt formula show shiny\n  gt formula show rule-of-five --json\n\n```\ngt formula show <name> [flags]\n```",
      "usage": "gt formula show <name> [flags]",
      "options": "-h, --help   help for show\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt formula show Display formula details Display detailed information about a formula.\n\nShows:\n  - Formula metadata (name, type, description)\n  - Variables with defaults and constraints\n  - Steps with dependencies\n  - Composition rules (extends, aspects)\n\nExamples:\n  gt formula show shiny\n  gt formula show rule-of-five --json\n\n```\ngt formula show <name> [flags]\n``` -h, --help   help for show\n      --json   Output as JSON"
    },
    {
      "cmd": "gt gate",
      "short": "Gate coordination commands",
      "synopsis": "Gate commands for async coordination.\n\nMost gate commands are in beads:\n  bd gate create   - Create a gate (timer, gh:run, human, mail)\n  bd gate show     - Show gate details\n  bd gate list     - List open gates\n  bd gate close    - Close a gate\n  bd gate approve  - Approve a human gate\n  bd gate eval     - Evaluate and close elapsed gates\n\nThe gt gate command provides Gas Town integration:\n  gt gate wake     - Send wake mail to gate waiters after close",
      "usage": "-h, --help   help for gate",
      "options": "-h, --help   help for gate",
      "subcommands": [
        {
          "cmd": "gt gate wake",
          "desc": "Send wake mail to gate waiters"
        }
      ],
      "is_parent": true,
      "search_text": "gt gate Gate coordination commands Gate commands for async coordination.\n\nMost gate commands are in beads:\n  bd gate create   - Create a gate (timer, gh:run, human, mail)\n  bd gate show     - Show gate details\n  bd gate list     - List open gates\n  bd gate close    - Close a gate\n  bd gate approve  - Approve a human gate\n  bd gate eval     - Evaluate and close elapsed gates\n\nThe gt gate command provides Gas Town integration:\n  gt gate wake     - Send wake mail to gate waiters after close -h, --help   help for gate"
    },
    {
      "cmd": "gt gate wake",
      "short": "Send wake mail to gate waiters",
      "synopsis": "Send wake mail to all waiters on a gate.\n\nThis command should be called after a gate closes to notify waiting agents.\nTypically called by Deacon after 'bd gate eval' or after manual gate close.\n\nThe wake mail includes:\n  - Gate ID and close reason\n  - Instructions to run 'gt resume'\n\nExamples:\n  # After manual gate close\n  bd gate close gt-xxx --reason \"Approved\"\n  gt gate wake gt-xxx\n\n  # In Deacon patrol after gate eval\n  for gate in $(bd gate eval --json | jq -r '.closed[]'); do\n    gt gate wake $gate\n  done\n\n```\ngt gate wake <gate-id> [flags]\n```",
      "usage": "gt gate wake <gate-id> [flags]",
      "options": "-n, --dry-run   Show what would be done\n  -h, --help      help for wake\n      --json      Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt gate wake Send wake mail to gate waiters Send wake mail to all waiters on a gate.\n\nThis command should be called after a gate closes to notify waiting agents.\nTypically called by Deacon after 'bd gate eval' or after manual gate close.\n\nThe wake mail includes:\n  - Gate ID and close reason\n  - Instructions to run 'gt resume'\n\nExamples:\n  # After manual gate close\n  bd gate close gt-xxx --reason \"Approved\"\n  gt gate wake gt-xxx\n\n  # In Deacon patrol after gate eval\n  for gate in $(bd gate eval --json | jq -r '.closed[]'); do\n    gt gate wake $gate\n  done\n\n```\ngt gate wake <gate-id> [flags]\n``` -n, --dry-run   Show what would be done\n  -h, --help      help for wake\n      --json      Output as JSON"
    },
    {
      "cmd": "gt git-init",
      "short": "Initialize git repository for a Gas Town HQ",
      "synopsis": "Initialize or configure git for an existing Gas Town HQ.\n\nThis command:\n  1. Creates a comprehensive .gitignore for Gas Town\n  2. Initializes a git repository if not already present\n  3. Optionally creates a GitHub repository (private by default)\n\nThe .gitignore excludes:\n  - Polecat worktrees and rig clones (recreated with 'gt sling' or 'gt rig add')\n  - Runtime state files (state.json, *.lock)\n  - OS and editor files\n\nAnd tracks:\n  - CLAUDE.md and role contexts\n  - .beads/ configuration and issues\n  - Rig configs and hop/ directory\n\nExamples:\n  gt git-init                             # Init git with .gitignore\n  gt git-init --github=user/repo          # Create private GitHub repo (default)\n  gt git-init --github=user/repo --public # Create public GitHub repo\n\n```\ngt git-init [flags]\n```",
      "usage": "gt git-init [flags]",
      "options": "--github string   Create GitHub repo (format: owner/repo, private by default)\n  -h, --help            help for git-init\n      --public          Make GitHub repo public (repos are private by default)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt git-init Initialize git repository for a Gas Town HQ Initialize or configure git for an existing Gas Town HQ.\n\nThis command:\n  1. Creates a comprehensive .gitignore for Gas Town\n  2. Initializes a git repository if not already present\n  3. Optionally creates a GitHub repository (private by default)\n\nThe .gitignore excludes:\n  - Polecat worktrees and rig clones (recreated with 'gt sling' or 'gt rig add')\n  - Runtime state files (state.json, *.lock)\n  - OS and editor files\n\nAnd tracks:\n  - CLAUDE.md and role contexts\n  - .beads/ configuration and issues\n  - Rig configs and hop/ directory\n\nExamples:\n  gt git-init                             # Init git with .gitignore\n  gt git-init --github=user/repo          # Create private GitHub repo (default)\n  gt git-init --github=user/repo --public # Create public GitHub repo\n\n```\ngt git-init [flags]\n``` --github string   Create GitHub repo (format: owner/repo, private by default)\n  -h, --help            help for git-init\n      --public          Make GitHub repo public (repos are private by default)"
    },
    {
      "cmd": "gt handoff",
      "short": "Hand off to a fresh session, work continues from hook",
      "synopsis": "End watch. Hand off to a fresh agent session.\n\nThis is the canonical way to end any agent session. It handles all roles:\n\n  - Mayor, Crew, Witness, Refinery, Deacon: Respawns with fresh Claude instance\n  - Polecats: Calls 'gt done --status DEFERRED' (Witness handles lifecycle)\n\nWhen run without arguments, hands off the current session.\nWhen given a bead ID (gt-xxx, hq-xxx), hooks that work first, then restarts.\nWhen given a role name, hands off that role's session (and switches to it).\n\nExamples:\n  gt handoff                          # Hand off current session\n  gt handoff gt-abc                   # Hook bead, then restart\n  gt handoff gt-abc -s \"Fix it\"       # Hook with context, then restart\n  gt handoff -s \"Context\" -m \"Notes\"  # Hand off with custom message\n  gt handoff -c                       # Collect state into handoff message\n  gt handoff crew                     # Hand off crew session\n  gt handoff mayor                    # Hand off mayor session\n\nThe --collect (-c) flag gathers current state (hooked work, inbox, ready beads,\nin-progress items) and includes it in the handoff mail. This provides context\nfor the next session without manual summarization.\n\nAny molecule on the hook will be auto-continued by the new session.\nThe SessionStart hook runs 'gt prime' to restore context.\n\n```\ngt handoff [bead-or-role] [flags]\n```",
      "usage": "gt handoff [bead-or-role] [flags]",
      "options": "-c, --collect          Auto-collect state (status, inbox, beads) into handoff message\n  -n, --dry-run          Show what would be done without executing\n  -h, --help             help for handoff\n  -m, --message string   Message body for handoff mail (optional)\n  -s, --subject string   Subject for handoff mail (optional)\n  -w, --watch            Switch to new session (for remote handoff) (default true)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt handoff Hand off to a fresh session, work continues from hook End watch. Hand off to a fresh agent session.\n\nThis is the canonical way to end any agent session. It handles all roles:\n\n  - Mayor, Crew, Witness, Refinery, Deacon: Respawns with fresh Claude instance\n  - Polecats: Calls 'gt done --status DEFERRED' (Witness handles lifecycle)\n\nWhen run without arguments, hands off the current session.\nWhen given a bead ID (gt-xxx, hq-xxx), hooks that work first, then restarts.\nWhen given a role name, hands off that role's session (and switches to it).\n\nExamples:\n  gt handoff                          # Hand off current session\n  gt handoff gt-abc                   # Hook bead, then restart\n  gt handoff gt-abc -s \"Fix it\"       # Hook with context, then restart\n  gt handoff -s \"Context\" -m \"Notes\"  # Hand off with custom message\n  gt handoff -c                       # Collect state into handoff message\n  gt handoff crew                     # Hand off crew session\n  gt handoff mayor                    # Hand off mayor session\n\nThe --collect (-c) flag gathers current state (hooked work, inbox, ready beads,\nin-progress items) and includes it in the handoff mail. This provides context\nfor the next session without manual summarization.\n\nAny molecule on the hook will be auto-continued by the new session.\nThe SessionStart hook runs 'gt prime' to restore context.\n\n```\ngt handoff [bead-or-role] [flags]\n``` -c, --collect          Auto-collect state (status, inbox, beads) into handoff message\n  -n, --dry-run          Show what would be done without executing\n  -h, --help             help for handoff\n  -m, --message string   Message body for handoff mail (optional)\n  -s, --subject string   Subject for handoff mail (optional)\n  -w, --watch            Switch to new session (for remote handoff) (default true)"
    },
    {
      "cmd": "gt hook",
      "short": "Show or attach work on your hook",
      "synopsis": "Show what's on your hook, or attach new work.\n\nWith no arguments, shows your current hook status (alias for 'gt mol status').\nWith a bead ID, attaches that work to your hook.\n\nThe hook is the \"durability primitive\" - work on your hook survives session\nrestarts, context compaction, and handoffs. When you restart (via gt handoff),\nyour SessionStart hook finds the attached work and you continue from where\nyou left off.\n\nExamples:\n  gt hook                           # Show what's on my hook\n  gt hook status                    # Same as above\n  gt hook gt-abc                    # Attach issue gt-abc to your hook\n  gt hook gt-abc -s \"Fix the bug\"   # With subject for handoff mail\n\nRelated commands:\n  gt sling <bead>    # Hook + start now (keep context)\n  gt handoff <bead>  # Hook + restart (fresh context)\n  gt unsling         # Remove work from hook\n\n```\ngt hook [bead-id] [flags]\n```",
      "usage": "gt hook [bead-id] [flags]",
      "options": "--clear            Clear your hook (alias for 'gt unhook')\n  -n, --dry-run          Show what would be done\n  -f, --force            Replace existing incomplete hooked bead\n  -h, --help             help for hook\n      --json             Output as JSON (for status)\n  -m, --message string   Message for handoff mail (optional)\n  -s, --subject string   Subject for handoff mail (optional)",
      "subcommands": [
        {
          "cmd": "gt hook show",
          "desc": "Show what's on an agent's hook (compact)"
        },
        {
          "cmd": "gt hook status",
          "desc": "Show what's on your hook"
        }
      ],
      "is_parent": true,
      "search_text": "gt hook Show or attach work on your hook Show what's on your hook, or attach new work.\n\nWith no arguments, shows your current hook status (alias for 'gt mol status').\nWith a bead ID, attaches that work to your hook.\n\nThe hook is the \"durability primitive\" - work on your hook survives session\nrestarts, context compaction, and handoffs. When you restart (via gt handoff),\nyour SessionStart hook finds the attached work and you continue from where\nyou left off.\n\nExamples:\n  gt hook                           # Show what's on my hook\n  gt hook status                    # Same as above\n  gt hook gt-abc                    # Attach issue gt-abc to your hook\n  gt hook gt-abc -s \"Fix the bug\"   # With subject for handoff mail\n\nRelated commands:\n  gt sling <bead>    # Hook + start now (keep context)\n  gt handoff <bead>  # Hook + restart (fresh context)\n  gt unsling         # Remove work from hook\n\n```\ngt hook [bead-id] [flags]\n``` --clear            Clear your hook (alias for 'gt unhook')\n  -n, --dry-run          Show what would be done\n  -f, --force            Replace existing incomplete hooked bead\n  -h, --help             help for hook\n      --json             Output as JSON (for status)\n  -m, --message string   Message for handoff mail (optional)\n  -s, --subject string   Subject for handoff mail (optional)"
    },
    {
      "cmd": "gt hook show",
      "short": "Show what's on an agent's hook (compact)",
      "synopsis": "Show what's on any agent's hook in compact one-line format.\n\nWith no argument, shows your own hook status (auto-detected from context).\n\nUse cases:\n- Mayor checking what polecats are working on\n- Witness checking polecat status\n- Debugging coordination issues\n- Quick status overview\n\nExamples:\n  gt hook show                         # What's on MY hook? (auto-detect)\n  gt hook show gastown/polecats/nux    # What's nux working on?\n  gt hook show gastown/witness         # What's the witness hooked to?\n  gt hook show mayor                   # What's the mayor working on?\n\nOutput format (one line):\n  gastown/polecats/nux: gt-abc123 'Fix the widget bug' [in_progress]\n\n```\ngt hook show [agent] [flags]\n```",
      "usage": "gt hook show [agent] [flags]",
      "options": "-h, --help   help for show\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt hook show Show what's on an agent's hook (compact) Show what's on any agent's hook in compact one-line format.\n\nWith no argument, shows your own hook status (auto-detected from context).\n\nUse cases:\n- Mayor checking what polecats are working on\n- Witness checking polecat status\n- Debugging coordination issues\n- Quick status overview\n\nExamples:\n  gt hook show                         # What's on MY hook? (auto-detect)\n  gt hook show gastown/polecats/nux    # What's nux working on?\n  gt hook show gastown/witness         # What's the witness hooked to?\n  gt hook show mayor                   # What's the mayor working on?\n\nOutput format (one line):\n  gastown/polecats/nux: gt-abc123 'Fix the widget bug' [in_progress]\n\n```\ngt hook show [agent] [flags]\n``` -h, --help   help for show\n      --json   Output as JSON"
    },
    {
      "cmd": "gt hook status",
      "short": "Show what's on your hook",
      "synopsis": "Show what's slung on your hook.\n\nThis is an alias for 'gt mol status'. Shows what work is currently\nattached to your hook, along with progress information.\n\nExamples:\n  gt hook status                    # Show my hook\n  gt hook status greenplace/nux     # Show nux's hook\n\n```\ngt hook status [target] [flags]\n```",
      "usage": "gt hook status [target] [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt hook status Show what's on your hook Show what's slung on your hook.\n\nThis is an alias for 'gt mol status'. Shows what work is currently\nattached to your hook, along with progress information.\n\nExamples:\n  gt hook status                    # Show my hook\n  gt hook status greenplace/nux     # Show nux's hook\n\n```\ngt hook status [target] [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt hooks",
      "short": "List all Claude Code hooks in the workspace",
      "synopsis": "List all Claude Code hooks configured in the workspace.\n\nScans for .claude/settings.json files and displays hooks by type.\n\nHook types:\n  SessionStart     - Runs when Claude session starts\n  PreCompact       - Runs before context compaction\n  UserPromptSubmit - Runs before user prompt is submitted\n  PreToolUse       - Runs before tool execution\n  PostToolUse      - Runs after tool execution\n  Stop             - Runs when Claude session stops\n\nExamples:\n  gt hooks              # List all hooks in workspace\n  gt hooks --verbose    # Show hook commands\n  gt hooks --json       # Output as JSON\n\n```\ngt hooks [flags]\n```",
      "usage": "gt hooks [flags]",
      "options": "-h, --help      help for hooks\n      --json      Output as JSON\n  -v, --verbose   Show hook commands",
      "subcommands": [
        {
          "cmd": "gt hooks install",
          "desc": "Install a hook from the registry"
        },
        {
          "cmd": "gt hooks list",
          "desc": "List available hooks from the registry"
        }
      ],
      "is_parent": true,
      "search_text": "gt hooks List all Claude Code hooks in the workspace List all Claude Code hooks configured in the workspace.\n\nScans for .claude/settings.json files and displays hooks by type.\n\nHook types:\n  SessionStart     - Runs when Claude session starts\n  PreCompact       - Runs before context compaction\n  UserPromptSubmit - Runs before user prompt is submitted\n  PreToolUse       - Runs before tool execution\n  PostToolUse      - Runs after tool execution\n  Stop             - Runs when Claude session stops\n\nExamples:\n  gt hooks              # List all hooks in workspace\n  gt hooks --verbose    # Show hook commands\n  gt hooks --json       # Output as JSON\n\n```\ngt hooks [flags]\n``` -h, --help      help for hooks\n      --json      Output as JSON\n  -v, --verbose   Show hook commands"
    },
    {
      "cmd": "gt hooks install",
      "short": "Install a hook from the registry",
      "synopsis": "Install a hook from the registry to worktrees.\n\nBy default, installs to the current worktree. Use --role to install\nto all worktrees of a specific role in the current rig.\n\nExamples:\n  gt hooks install pr-workflow-guard              # Install to current worktree\n  gt hooks install pr-workflow-guard --role crew  # Install to all crew in current rig\n  gt hooks install session-prime --role crew --all-rigs  # Install to all crew everywhere\n  gt hooks install pr-workflow-guard --dry-run    # Preview what would be installed\n\n```\ngt hooks install <hook-name> [flags]\n```",
      "usage": "gt hooks install <hook-name> [flags]",
      "options": "--all-rigs      Install across all rigs (requires --role)\n      --dry-run       Preview changes without writing files\n  -h, --help          help for install\n      --role string   Install to all worktrees of this role (crew, polecat, witness, refinery)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt hooks install Install a hook from the registry Install a hook from the registry to worktrees.\n\nBy default, installs to the current worktree. Use --role to install\nto all worktrees of a specific role in the current rig.\n\nExamples:\n  gt hooks install pr-workflow-guard              # Install to current worktree\n  gt hooks install pr-workflow-guard --role crew  # Install to all crew in current rig\n  gt hooks install session-prime --role crew --all-rigs  # Install to all crew everywhere\n  gt hooks install pr-workflow-guard --dry-run    # Preview what would be installed\n\n```\ngt hooks install <hook-name> [flags]\n``` --all-rigs      Install across all rigs (requires --role)\n      --dry-run       Preview changes without writing files\n  -h, --help          help for install\n      --role string   Install to all worktrees of this role (crew, polecat, witness, refinery)"
    },
    {
      "cmd": "gt hooks list",
      "short": "List available hooks from the registry",
      "synopsis": "List all hooks defined in the hook registry.\n\nThe registry is at ~/gt/hooks/registry.toml and defines hooks that can be\ninstalled for different roles (crew, polecat, witness, etc.).\n\nExamples:\n  gt hooks list           # Show enabled hooks\n  gt hooks list --all     # Show all hooks including disabled\n\n```\ngt hooks list [flags]\n```",
      "usage": "gt hooks list [flags]",
      "options": "-a, --all       Show all hooks including disabled\n  -h, --help      help for list\n  -v, --verbose   Show hook commands and matchers",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt hooks list List available hooks from the registry List all hooks defined in the hook registry.\n\nThe registry is at ~/gt/hooks/registry.toml and defines hooks that can be\ninstalled for different roles (crew, polecat, witness, etc.).\n\nExamples:\n  gt hooks list           # Show enabled hooks\n  gt hooks list --all     # Show all hooks including disabled\n\n```\ngt hooks list [flags]\n``` -a, --all       Show all hooks including disabled\n  -h, --help      help for list\n  -v, --verbose   Show hook commands and matchers"
    },
    {
      "cmd": "gt info",
      "short": "Show Gas Town information and what's new",
      "synopsis": "Display information about the current Gas Town installation.\n\nThis command shows:\n  - Version information\n  - What's new in recent versions (with --whats-new flag)\n\nExamples:\n  gt info\n  gt info --whats-new\n  gt info --whats-new --json\n\n```\ngt info [flags]\n```",
      "usage": "gt info [flags]",
      "options": "-h, --help        help for info\n      --json        Output in JSON format\n      --whats-new   Show agent-relevant changes from recent versions",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt info Show Gas Town information and what's new Display information about the current Gas Town installation.\n\nThis command shows:\n  - Version information\n  - What's new in recent versions (with --whats-new flag)\n\nExamples:\n  gt info\n  gt info --whats-new\n  gt info --whats-new --json\n\n```\ngt info [flags]\n``` -h, --help        help for info\n      --json        Output in JSON format\n      --whats-new   Show agent-relevant changes from recent versions"
    },
    {
      "cmd": "gt init",
      "short": "Initialize current directory as a Gas Town rig",
      "synopsis": "Initialize the current directory for use as a Gas Town rig.\n\nThis creates the standard agent directories (polecats/, witness/, refinery/,\nmayor/) and updates .git/info/exclude to ignore them.\n\nThe current directory must be a git repository. Use --force to reinitialize\nan existing rig structure.\n\n```\ngt init [flags]\n```",
      "usage": "gt init [flags]",
      "options": "-f, --force   Reinitialize existing structure\n  -h, --help    help for init",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt init Initialize current directory as a Gas Town rig Initialize the current directory for use as a Gas Town rig.\n\nThis creates the standard agent directories (polecats/, witness/, refinery/,\nmayor/) and updates .git/info/exclude to ignore them.\n\nThe current directory must be a git repository. Use --force to reinitialize\nan existing rig structure.\n\n```\ngt init [flags]\n``` -f, --force   Reinitialize existing structure\n  -h, --help    help for init"
    },
    {
      "cmd": "gt install",
      "short": "Create a new Gas Town HQ (workspace)",
      "synopsis": "Create a new Gas Town HQ at the specified path.\n\nThe HQ (headquarters) is the top-level directory where Gas Town is installed -\nthe root of your workspace where all rigs and agents live. It contains:\n  - CLAUDE.md            Mayor role context (Mayor runs from HQ root)\n  - mayor/               Mayor config, state, and rig registry\n  - .beads/              Town-level beads DB (hq-* prefix for mayor mail)\n\nIf path is omitted, uses the current directory.\n\nSee docs/hq.md for advanced HQ configurations including beads\nredirects, multi-system setups, and HQ templates.\n\nExamples:\n  gt install ~/gt                              # Create HQ at ~/gt\n  gt install . --name my-workspace             # Initialize current dir\n  gt install ~/gt --no-beads                   # Skip .beads/ initialization\n  gt install ~/gt --git                        # Also init git with .gitignore\n  gt install ~/gt --github=user/repo           # Create private GitHub repo (default)\n  gt install ~/gt --github=user/repo --public  # Create public GitHub repo\n  gt install ~/gt --shell                      # Install shell integration (sets GT_TOWN_ROOT/GT_RIG)\n\n```\ngt install [path] [flags]\n```",
      "usage": "gt install [path] [flags]",
      "options": "-f, --force                Overwrite existing HQ\n      --git                  Initialize git with .gitignore\n      --github string        Create GitHub repo (format: owner/repo, private by default)\n  -h, --help                 help for install\n  -n, --name string          Town name (defaults to directory name)\n      --no-beads             Skip town beads initialization\n      --owner string         Owner email for entity identity (defaults to git config user.email)\n      --public               Make GitHub repo public (use with --github)\n      --public-name string   Public display name (defaults to town name)\n      --shell                Install shell integration (sets GT_TOWN_ROOT/GT_RIG env vars)\n      --wrappers             Install gt-codex/gt-opencode wrapper scripts to ~/bin/",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt install Create a new Gas Town HQ (workspace) Create a new Gas Town HQ at the specified path.\n\nThe HQ (headquarters) is the top-level directory where Gas Town is installed -\nthe root of your workspace where all rigs and agents live. It contains:\n  - CLAUDE.md            Mayor role context (Mayor runs from HQ root)\n  - mayor/               Mayor config, state, and rig registry\n  - .beads/              Town-level beads DB (hq-* prefix for mayor mail)\n\nIf path is omitted, uses the current directory.\n\nSee docs/hq.md for advanced HQ configurations including beads\nredirects, multi-system setups, and HQ templates.\n\nExamples:\n  gt install ~/gt                              # Create HQ at ~/gt\n  gt install . --name my-workspace             # Initialize current dir\n  gt install ~/gt --no-beads                   # Skip .beads/ initialization\n  gt install ~/gt --git                        # Also init git with .gitignore\n  gt install ~/gt --github=user/repo           # Create private GitHub repo (default)\n  gt install ~/gt --github=user/repo --public  # Create public GitHub repo\n  gt install ~/gt --shell                      # Install shell integration (sets GT_TOWN_ROOT/GT_RIG)\n\n```\ngt install [path] [flags]\n``` -f, --force                Overwrite existing HQ\n      --git                  Initialize git with .gitignore\n      --github string        Create GitHub repo (format: owner/repo, private by default)\n  -h, --help                 help for install\n  -n, --name string          Town name (defaults to directory name)\n      --no-beads             Skip town beads initialization\n      --owner string         Owner email for entity identity (defaults to git config user.email)\n      --public               Make GitHub repo public (use with --github)\n      --public-name string   Public display name (defaults to town name)\n      --shell                Install shell integration (sets GT_TOWN_ROOT/GT_RIG env vars)\n      --wrappers             Install gt-codex/gt-opencode wrapper scripts to ~/bin/"
    },
    {
      "cmd": "gt issue",
      "short": "Manage current issue for status line display",
      "synopsis": "",
      "usage": "-h, --help   help for issue",
      "options": "-h, --help   help for issue",
      "subcommands": [
        {
          "cmd": "gt issue clear",
          "desc": "Clear the current issue from status line"
        },
        {
          "cmd": "gt issue set",
          "desc": "Set the current issue (shown in tmux status line)"
        },
        {
          "cmd": "gt issue show",
          "desc": "Show the current issue"
        }
      ],
      "is_parent": true,
      "search_text": "gt issue Manage current issue for status line display  -h, --help   help for issue"
    },
    {
      "cmd": "gt issue clear",
      "short": "Clear the current issue from status line",
      "synopsis": "",
      "usage": "gt issue clear [flags]",
      "options": "-h, --help   help for clear",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt issue clear Clear the current issue from status line  -h, --help   help for clear"
    },
    {
      "cmd": "gt issue set",
      "short": "Set the current issue (shown in tmux status line)",
      "synopsis": "",
      "usage": "gt issue set <issue-id> [flags]",
      "options": "-h, --help   help for set",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt issue set Set the current issue (shown in tmux status line)  -h, --help   help for set"
    },
    {
      "cmd": "gt issue show",
      "short": "Show the current issue",
      "synopsis": "",
      "usage": "gt issue show [flags]",
      "options": "-h, --help   help for show",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt issue show Show the current issue  -h, --help   help for show"
    },
    {
      "cmd": "gt krc",
      "short": "Key Record Chronicle - manage ephemeral data TTLs",
      "synopsis": "Key Record Chronicle (KRC) manages TTL-based lifecycle for Level 0 ephemeral data.\n\nPer DOLT-STORAGE-DESIGN-V3.md, Level 0 includes patrol heartbeats, status checks,\nand other operational data that decays in forensic value over days.\n\nKRC provides:\n  - Configurable TTLs per event type\n  - Auto-pruning of expired events\n  - Statistics on ephemeral data lifecycle\n\nExamples:\n  gt krc stats              # Show event statistics\n  gt krc prune              # Remove expired events\n  gt krc prune --dry-run    # Preview what would be pruned\n  gt krc config             # Show TTL configuration\n  gt krc config set patrol_* 12h   # Set TTL for patrol events\n\n```\ngt krc [flags]\n```",
      "usage": "gt krc [flags]",
      "options": "-h, --help   help for krc",
      "subcommands": [
        {
          "cmd": "gt krc config",
          "desc": "View or modify TTL configuration"
        },
        {
          "cmd": "gt krc prune",
          "desc": "Remove expired events"
        },
        {
          "cmd": "gt krc stats",
          "desc": "Show statistics about ephemeral data"
        }
      ],
      "is_parent": true,
      "search_text": "gt krc Key Record Chronicle - manage ephemeral data TTLs Key Record Chronicle (KRC) manages TTL-based lifecycle for Level 0 ephemeral data.\n\nPer DOLT-STORAGE-DESIGN-V3.md, Level 0 includes patrol heartbeats, status checks,\nand other operational data that decays in forensic value over days.\n\nKRC provides:\n  - Configurable TTLs per event type\n  - Auto-pruning of expired events\n  - Statistics on ephemeral data lifecycle\n\nExamples:\n  gt krc stats              # Show event statistics\n  gt krc prune              # Remove expired events\n  gt krc prune --dry-run    # Preview what would be pruned\n  gt krc config             # Show TTL configuration\n  gt krc config set patrol_* 12h   # Set TTL for patrol events\n\n```\ngt krc [flags]\n``` -h, --help   help for krc"
    },
    {
      "cmd": "gt krc config",
      "short": "View or modify TTL configuration",
      "synopsis": "View or modify the KRC TTL configuration.\n\nWithout arguments, shows the current configuration.\n\nSubcommands:\n  set <pattern> <ttl>   Set TTL for event type pattern\n  reset                 Reset to default configuration\n\nExamples:\n  gt krc config                     # Show current config\n  gt krc config set patrol_* 12h    # Set patrol TTL to 12 hours\n  gt krc config set default 3d      # Set default TTL to 3 days\n  gt krc config reset               # Reset to defaults\n\n```\ngt krc config [subcommand] [flags]\n```",
      "usage": "gt krc config [subcommand] [flags]",
      "options": "-h, --help   help for config",
      "subcommands": [
        {
          "cmd": "gt krc config reset",
          "desc": "Reset TTL configuration to defaults"
        },
        {
          "cmd": "gt krc config set",
          "desc": "Set TTL for an event type pattern"
        }
      ],
      "is_parent": true,
      "search_text": "gt krc config View or modify TTL configuration View or modify the KRC TTL configuration.\n\nWithout arguments, shows the current configuration.\n\nSubcommands:\n  set <pattern> <ttl>   Set TTL for event type pattern\n  reset                 Reset to default configuration\n\nExamples:\n  gt krc config                     # Show current config\n  gt krc config set patrol_* 12h    # Set patrol TTL to 12 hours\n  gt krc config set default 3d      # Set default TTL to 3 days\n  gt krc config reset               # Reset to defaults\n\n```\ngt krc config [subcommand] [flags]\n``` -h, --help   help for config"
    },
    {
      "cmd": "gt krc config reset",
      "short": "Reset TTL configuration to defaults",
      "synopsis": "",
      "usage": "gt krc config reset [flags]",
      "options": "-h, --help   help for reset",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt krc config reset Reset TTL configuration to defaults  -h, --help   help for reset"
    },
    {
      "cmd": "gt krc config set",
      "short": "Set TTL for an event type pattern",
      "synopsis": "Set the TTL for events matching the given pattern.\n\nPatterns support glob-style matching with * (e.g., \"patrol_*\" matches all patrol events).\nUse \"default\" as the pattern to set the default TTL.\n\nTTL format: 1h, 12h, 1d, 7d, 30d, etc.\n\n```\ngt krc config set <pattern> <ttl> [flags]\n```",
      "usage": "gt krc config set <pattern> <ttl> [flags]",
      "options": "-h, --help   help for set",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt krc config set Set TTL for an event type pattern Set the TTL for events matching the given pattern.\n\nPatterns support glob-style matching with * (e.g., \"patrol_*\" matches all patrol events).\nUse \"default\" as the pattern to set the default TTL.\n\nTTL format: 1h, 12h, 1d, 7d, 30d, etc.\n\n```\ngt krc config set <pattern> <ttl> [flags]\n``` -h, --help   help for set"
    },
    {
      "cmd": "gt krc prune",
      "short": "Remove expired events",
      "synopsis": "Prune events that have exceeded their TTL.\n\nEvents are removed from both .events.jsonl and .feed.jsonl.\nThe operation is atomic (uses temp files and rename).\n\nUse --dry-run to preview what would be pruned without making changes.\n\n```\ngt krc prune [flags]\n```",
      "usage": "gt krc prune [flags]",
      "options": "--dry-run   Preview changes without modifying files\n  -h, --help      help for prune",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt krc prune Remove expired events Prune events that have exceeded their TTL.\n\nEvents are removed from both .events.jsonl and .feed.jsonl.\nThe operation is atomic (uses temp files and rename).\n\nUse --dry-run to preview what would be pruned without making changes.\n\n```\ngt krc prune [flags]\n``` --dry-run   Preview changes without modifying files\n  -h, --help      help for prune"
    },
    {
      "cmd": "gt krc stats",
      "short": "Show statistics about ephemeral data",
      "synopsis": "Display statistics about events and their TTL status.\n\nShows:\n  - File sizes and event counts\n  - Events by type and age\n  - TTL configuration and expiration status\n\n```\ngt krc stats [flags]\n```",
      "usage": "gt krc stats [flags]",
      "options": "-h, --help   help for stats\n      --json   Output in JSON format",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt krc stats Show statistics about ephemeral data Display statistics about events and their TTL status.\n\nShows:\n  - File sizes and event counts\n  - Events by type and age\n  - TTL configuration and expiration status\n\n```\ngt krc stats [flags]\n``` -h, --help   help for stats\n      --json   Output in JSON format"
    },
    {
      "cmd": "gt log",
      "short": "View town activity log",
      "synopsis": "View the centralized log of Gas Town agent lifecycle events.\n\nEvents logged include:\n  spawn   - new agent created\n  wake    - agent resumed\n  nudge   - message injected into agent\n  handoff - agent handed off to fresh session\n  done    - agent finished work\n  crash   - agent exited unexpectedly\n  kill    - agent killed intentionally\n\nExamples:\n  gt log                     # Show last 20 events\n  gt log -n 50               # Show last 50 events\n  gt log --type spawn        # Show only spawn events\n  gt log --agent greenplace/    # Show events for gastown rig\n  gt log --since 1h          # Show events from last hour\n  gt log -f                  # Follow log (like tail -f)\n\n```\ngt log [flags]\n```",
      "usage": "gt log [flags]",
      "options": "-a, --agent string   Filter by agent prefix (e.g., gastown/, greenplace/crew/max)\n  -f, --follow         Follow log output (like tail -f)\n  -h, --help           help for log\n      --since string   Show events since duration (e.g., 1h, 30m, 24h)\n  -n, --tail int       Number of events to show (default 20)\n  -t, --type string    Filter by event type (spawn,wake,nudge,handoff,done,crash,kill)",
      "subcommands": [
        {
          "cmd": "gt log crash",
          "desc": "Record a crash event (called by tmux pane-died hook)"
        }
      ],
      "is_parent": true,
      "search_text": "gt log View town activity log View the centralized log of Gas Town agent lifecycle events.\n\nEvents logged include:\n  spawn   - new agent created\n  wake    - agent resumed\n  nudge   - message injected into agent\n  handoff - agent handed off to fresh session\n  done    - agent finished work\n  crash   - agent exited unexpectedly\n  kill    - agent killed intentionally\n\nExamples:\n  gt log                     # Show last 20 events\n  gt log -n 50               # Show last 50 events\n  gt log --type spawn        # Show only spawn events\n  gt log --agent greenplace/    # Show events for gastown rig\n  gt log --since 1h          # Show events from last hour\n  gt log -f                  # Follow log (like tail -f)\n\n```\ngt log [flags]\n``` -a, --agent string   Filter by agent prefix (e.g., gastown/, greenplace/crew/max)\n  -f, --follow         Follow log output (like tail -f)\n  -h, --help           help for log\n      --since string   Show events since duration (e.g., 1h, 30m, 24h)\n  -n, --tail int       Number of events to show (default 20)\n  -t, --type string    Filter by event type (spawn,wake,nudge,handoff,done,crash,kill)"
    },
    {
      "cmd": "gt log crash",
      "short": "Record a crash event (called by tmux pane-died hook)",
      "synopsis": "Record a crash event to the town log.\n\nThis command is called automatically by tmux when a pane exits unexpectedly.\nIt's not typically run manually.\n\nThe exit code determines if this was a crash or expected exit:\n  - Exit code 0: Expected exit (logged as 'done' if no other done was recorded)\n  - Exit code non-zero: Crash (logged as 'crash')\n\nExamples:\n  gt log crash --agent greenplace/Toast --session gt-greenplace-Toast --exit-code 1\n\n```\ngt log crash [flags]\n```",
      "usage": "gt log crash [flags]",
      "options": "--agent string     Agent ID (e.g., greenplace/Toast)\n      --exit-code int    Exit code from pane (default -1)\n  -h, --help             help for crash\n      --session string   Tmux session name",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt log crash Record a crash event (called by tmux pane-died hook) Record a crash event to the town log.\n\nThis command is called automatically by tmux when a pane exits unexpectedly.\nIt's not typically run manually.\n\nThe exit code determines if this was a crash or expected exit:\n  - Exit code 0: Expected exit (logged as 'done' if no other done was recorded)\n  - Exit code non-zero: Crash (logged as 'crash')\n\nExamples:\n  gt log crash --agent greenplace/Toast --session gt-greenplace-Toast --exit-code 1\n\n```\ngt log crash [flags]\n``` --agent string     Agent ID (e.g., greenplace/Toast)\n      --exit-code int    Exit code from pane (default -1)\n  -h, --help             help for crash\n      --session string   Tmux session name"
    },
    {
      "cmd": "gt mail",
      "short": "Agent messaging system",
      "synopsis": "Send and receive messages between agents.\n\nThe mail system allows Mayor, polecats, and the Refinery to communicate.\nMessages are stored in beads as issues with type=message.\n\nMAIL ROUTING:\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502                    Town (.beads/)                   \u2502\n  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n  \u2502  \u2502                 Mayor Inbox                 \u2502   \u2502\n  \u2502  \u2502  \u2514\u2500\u2500 mayor/                                 \u2502   \u2502\n  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n  \u2502                                                     \u2502\n  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n  \u2502  \u2502           gastown/ (rig mailboxes)          \u2502   \u2502\n  \u2502  \u2502  \u251c\u2500\u2500 witness      \u2190 greenplace/witness         \u2502   \u2502\n  \u2502  \u2502  \u251c\u2500\u2500 refinery     \u2190 greenplace/refinery        \u2502   \u2502\n  \u2502  \u2502  \u251c\u2500\u2500 Toast        \u2190 greenplace/Toast           \u2502   \u2502\n  \u2502  \u2502  \u2514\u2500\u2500 crew/max     \u2190 greenplace/crew/max        \u2502   \u2502\n  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nADDRESS FORMATS:\n  mayor/              \u2192 Mayor inbox\n  <rig>/witness       \u2192 Rig's Witness\n  <rig>/refinery      \u2192 Rig's Refinery\n  <rig>/<polecat>     \u2192 Polecat (e.g., greenplace/Toast)\n  <rig>/crew/<name>   \u2192 Crew worker (e.g., greenplace/crew/max)\n  --human             \u2192 Special: human overseer\n\nCOMMANDS:\n  inbox     View your inbox\n  send      Send a message\n  read      Read a specific message\n  mark      Mark messages read/unread\n\n```\ngt mail [flags]\n```",
      "usage": "gt mail [flags]",
      "options": "-h, --help   help for mail",
      "subcommands": [
        {
          "cmd": "gt mail announces",
          "desc": "List or read announce channels"
        },
        {
          "cmd": "gt mail archive",
          "desc": "Archive messages"
        },
        {
          "cmd": "gt mail channel",
          "desc": "Manage and view beads-native channels"
        },
        {
          "cmd": "gt mail check",
          "desc": "Check for new mail (for hooks)"
        },
        {
          "cmd": "gt mail claim",
          "desc": "Claim a message from a queue"
        },
        {
          "cmd": "gt mail clear",
          "desc": "Clear all messages from an inbox"
        },
        {
          "cmd": "gt mail delete",
          "desc": "Delete messages"
        },
        {
          "cmd": "gt mail group",
          "desc": "Manage mail groups"
        },
        {
          "cmd": "gt mail hook",
          "desc": "Attach mail to your hook (alias for 'gt hook attach')"
        },
        {
          "cmd": "gt mail inbox",
          "desc": "Check inbox"
        },
        {
          "cmd": "gt mail mark-read",
          "desc": "Mark messages as read without archiving"
        },
        {
          "cmd": "gt mail mark-unread",
          "desc": "Mark messages as unread"
        },
        {
          "cmd": "gt mail peek",
          "desc": "Show preview of first unread message"
        },
        {
          "cmd": "gt mail queue",
          "desc": "Manage mail queues"
        },
        {
          "cmd": "gt mail read",
          "desc": "Read a message"
        },
        {
          "cmd": "gt mail release",
          "desc": "Release a claimed queue message"
        },
        {
          "cmd": "gt mail reply",
          "desc": "Reply to a message"
        },
        {
          "cmd": "gt mail search",
          "desc": "Search messages by content"
        },
        {
          "cmd": "gt mail send",
          "desc": "Send a message"
        },
        {
          "cmd": "gt mail thread",
          "desc": "View a message thread"
        }
      ],
      "is_parent": true,
      "search_text": "gt mail Agent messaging system Send and receive messages between agents.\n\nThe mail system allows Mayor, polecats, and the Refinery to communicate.\nMessages are stored in beads as issues with type=message.\n\nMAIL ROUTING:\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502                    Town (.beads/)                   \u2502\n  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n  \u2502  \u2502                 Mayor Inbox                 \u2502   \u2502\n  \u2502  \u2502  \u2514\u2500\u2500 mayor/                                 \u2502   \u2502\n  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n  \u2502                                                     \u2502\n  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n  \u2502  \u2502           gastown/ (rig mailboxes)          \u2502   \u2502\n  \u2502  \u2502  \u251c\u2500\u2500 witness      \u2190 greenplace/witness         \u2502   \u2502\n  \u2502  \u2502  \u251c\u2500\u2500 refinery     \u2190 greenplace/refinery        \u2502   \u2502\n  \u2502  \u2502  \u251c\u2500\u2500 Toast        \u2190 greenplace/Toast           \u2502   \u2502\n  \u2502  \u2502  \u2514\u2500\u2500 crew/max     \u2190 greenplace/crew/max        \u2502   \u2502\n  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nADDRESS FORMATS:\n  mayor/              \u2192 Mayor inbox\n  <rig>/witness       \u2192 Rig's Witness\n  <rig>/refinery      \u2192 Rig's Refinery\n  <rig>/<polecat>     \u2192 Polecat (e.g., greenplace/Toast)\n  <rig>/crew/<name>   \u2192 Crew worker (e.g., greenplace/crew/max)\n  --human             \u2192 Special: human overseer\n\nCOMMANDS:\n  inbox     View your inbox\n  send      Send a message\n  read      Read a specific message\n  mark      Mark messages read/unread\n\n```\ngt mail [flags]\n``` -h, --help   help for mail"
    },
    {
      "cmd": "gt mail announces",
      "short": "List or read announce channels",
      "synopsis": "List available announce channels or read messages from a channel.\n\nSYNTAX:\n  gt mail announces              # List all announce channels\n  gt mail announces <channel>    # Read messages from a channel\n\nAnnounce channels are bulletin boards defined in ~/gt/config/messaging.json.\nMessages are broadcast to readers and persist until retention limit is reached.\nUnlike regular mail, announce messages are NOT removed when read.\n\nBEHAVIOR for 'gt mail announces':\n- Loads messaging.json\n- Lists all announce channel names\n- Shows reader patterns and retain_count for each\n\nBEHAVIOR for 'gt mail announces <channel>':\n- Validates channel exists\n- Queries beads for messages with announce_channel=<channel>\n- Displays in reverse chronological order (newest first)\n- Does NOT mark as read or remove messages\n\nExamples:\n  gt mail announces              # List all channels\n  gt mail announces alerts       # Read messages from 'alerts' channel\n  gt mail announces --json       # List channels as JSON\n\n```\ngt mail announces [channel] [flags]\n```",
      "usage": "gt mail announces [channel] [flags]",
      "options": "-h, --help   help for announces\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail announces List or read announce channels List available announce channels or read messages from a channel.\n\nSYNTAX:\n  gt mail announces              # List all announce channels\n  gt mail announces <channel>    # Read messages from a channel\n\nAnnounce channels are bulletin boards defined in ~/gt/config/messaging.json.\nMessages are broadcast to readers and persist until retention limit is reached.\nUnlike regular mail, announce messages are NOT removed when read.\n\nBEHAVIOR for 'gt mail announces':\n- Loads messaging.json\n- Lists all announce channel names\n- Shows reader patterns and retain_count for each\n\nBEHAVIOR for 'gt mail announces <channel>':\n- Validates channel exists\n- Queries beads for messages with announce_channel=<channel>\n- Displays in reverse chronological order (newest first)\n- Does NOT mark as read or remove messages\n\nExamples:\n  gt mail announces              # List all channels\n  gt mail announces alerts       # Read messages from 'alerts' channel\n  gt mail announces --json       # List channels as JSON\n\n```\ngt mail announces [channel] [flags]\n``` -h, --help   help for announces\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail archive",
      "short": "Archive messages",
      "synopsis": "Archive one or more messages.\n\nRemoves the messages from your inbox by closing them in beads.\n\nUse --stale to archive messages sent before your current session started.\n\nExamples:\n\tgt mail archive hq-abc123\n\tgt mail archive hq-abc123 hq-def456 hq-ghi789\n\tgt mail archive --stale\n\tgt mail archive --stale --dry-run\n\n```\ngt mail archive [message-id...] [flags]\n```",
      "usage": "gt mail archive [message-id...] [flags]",
      "options": "-n, --dry-run   Show what would be archived without archiving\n  -h, --help      help for archive\n      --stale     Archive messages sent before session start",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail archive Archive messages Archive one or more messages.\n\nRemoves the messages from your inbox by closing them in beads.\n\nUse --stale to archive messages sent before your current session started.\n\nExamples:\n\tgt mail archive hq-abc123\n\tgt mail archive hq-abc123 hq-def456 hq-ghi789\n\tgt mail archive --stale\n\tgt mail archive --stale --dry-run\n\n```\ngt mail archive [message-id...] [flags]\n``` -n, --dry-run   Show what would be archived without archiving\n  -h, --help      help for archive\n      --stale     Archive messages sent before session start"
    },
    {
      "cmd": "gt mail channel",
      "short": "Manage and view beads-native channels",
      "synopsis": "View and manage beads-native broadcast channels.\n\nWithout arguments, lists all channels.\nWith a channel name, shows messages from that channel.\n\nChannels are pub/sub streams where messages are broadcast to subscribers.\nMessages are retained according to the channel's retention policy.\n\nExamples:\n  gt mail channel              # List all channels\n  gt mail channel alerts       # View messages from 'alerts' channel\n  gt mail channel list         # Alias for listing channels\n  gt mail channel show alerts  # Same as: gt mail channel alerts\n  gt mail channel create alerts --retain-count=100\n  gt mail channel delete alerts\n\n```\ngt mail channel [name] [flags]\n```",
      "usage": "gt mail channel [name] [flags]",
      "options": "-h, --help   help for channel\n      --json   Output as JSON",
      "subcommands": [
        {
          "cmd": "gt mail channel create",
          "desc": "Create a new channel"
        },
        {
          "cmd": "gt mail channel delete",
          "desc": "Delete a channel"
        },
        {
          "cmd": "gt mail channel list",
          "desc": "List all channels"
        },
        {
          "cmd": "gt mail channel show",
          "desc": "Show channel messages"
        },
        {
          "cmd": "gt mail channel subscribe",
          "desc": "Subscribe to a channel"
        },
        {
          "cmd": "gt mail channel subscribers",
          "desc": "List channel subscribers"
        },
        {
          "cmd": "gt mail channel unsubscribe",
          "desc": "Unsubscribe from a channel"
        }
      ],
      "is_parent": true,
      "search_text": "gt mail channel Manage and view beads-native channels View and manage beads-native broadcast channels.\n\nWithout arguments, lists all channels.\nWith a channel name, shows messages from that channel.\n\nChannels are pub/sub streams where messages are broadcast to subscribers.\nMessages are retained according to the channel's retention policy.\n\nExamples:\n  gt mail channel              # List all channels\n  gt mail channel alerts       # View messages from 'alerts' channel\n  gt mail channel list         # Alias for listing channels\n  gt mail channel show alerts  # Same as: gt mail channel alerts\n  gt mail channel create alerts --retain-count=100\n  gt mail channel delete alerts\n\n```\ngt mail channel [name] [flags]\n``` -h, --help   help for channel\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail channel create",
      "short": "Create a new channel",
      "synopsis": "Create a new broadcast channel.\n\nRetention policy:\n  --retain-count=N  Keep only last N messages (0 = unlimited)\n  --retain-hours=N  Delete messages older than N hours (0 = forever)\n\n```\ngt mail channel create <name> [flags]\n```",
      "usage": "gt mail channel create <name> [flags]",
      "options": "-h, --help               help for create\n      --retain-count int   Number of messages to retain (0 = unlimited)\n      --retain-hours int   Hours to retain messages (0 = forever)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail channel create Create a new channel Create a new broadcast channel.\n\nRetention policy:\n  --retain-count=N  Keep only last N messages (0 = unlimited)\n  --retain-hours=N  Delete messages older than N hours (0 = forever)\n\n```\ngt mail channel create <name> [flags]\n``` -h, --help               help for create\n      --retain-count int   Number of messages to retain (0 = unlimited)\n      --retain-hours int   Hours to retain messages (0 = forever)"
    },
    {
      "cmd": "gt mail channel delete",
      "short": "Delete a channel",
      "synopsis": "",
      "usage": "gt mail channel delete <name> [flags]",
      "options": "-h, --help   help for delete",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail channel delete Delete a channel  -h, --help   help for delete"
    },
    {
      "cmd": "gt mail channel list",
      "short": "List all channels",
      "synopsis": "",
      "usage": "gt mail channel list [flags]",
      "options": "-h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail channel list List all channels  -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail channel show",
      "short": "Show channel messages",
      "synopsis": "",
      "usage": "gt mail channel show <name> [flags]",
      "options": "-h, --help   help for show\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail channel show Show channel messages  -h, --help   help for show\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail channel subscribe",
      "short": "Subscribe to a channel",
      "synopsis": "Subscribe the current identity (BD_ACTOR) to a channel.\n\nSubscribers receive messages broadcast to the channel.\n\n```\ngt mail channel subscribe <name> [flags]\n```",
      "usage": "gt mail channel subscribe <name> [flags]",
      "options": "-h, --help   help for subscribe",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail channel subscribe Subscribe to a channel Subscribe the current identity (BD_ACTOR) to a channel.\n\nSubscribers receive messages broadcast to the channel.\n\n```\ngt mail channel subscribe <name> [flags]\n``` -h, --help   help for subscribe"
    },
    {
      "cmd": "gt mail channel subscribers",
      "short": "List channel subscribers",
      "synopsis": "List all subscribers to a channel.\n\n```\ngt mail channel subscribers <name> [flags]\n```",
      "usage": "gt mail channel subscribers <name> [flags]",
      "options": "-h, --help   help for subscribers\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail channel subscribers List channel subscribers List all subscribers to a channel.\n\n```\ngt mail channel subscribers <name> [flags]\n``` -h, --help   help for subscribers\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail channel unsubscribe",
      "short": "Unsubscribe from a channel",
      "synopsis": "Unsubscribe the current identity (BD_ACTOR) from a channel.\n\n```\ngt mail channel unsubscribe <name> [flags]\n```",
      "usage": "gt mail channel unsubscribe <name> [flags]",
      "options": "-h, --help   help for unsubscribe",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail channel unsubscribe Unsubscribe from a channel Unsubscribe the current identity (BD_ACTOR) from a channel.\n\n```\ngt mail channel unsubscribe <name> [flags]\n``` -h, --help   help for unsubscribe"
    },
    {
      "cmd": "gt mail check",
      "short": "Check for new mail (for hooks)",
      "synopsis": "Check for new mail - useful for Claude Code hooks.\n\nExit codes (normal mode):\n  0 - New mail available\n  1 - No new mail\n\nExit codes (--inject mode):\n  0 - Always (hooks should never block)\n  Output: system-reminder if mail exists, silent if no mail\n\nUse --identity for polecats to explicitly specify their identity.\n\nExamples:\n  gt mail check                           # Simple check (auto-detect identity)\n  gt mail check --inject                  # For hooks\n  gt mail check --identity greenplace/Toast  # Explicit polecat identity\n\n```\ngt mail check [flags]\n```",
      "usage": "gt mail check [flags]",
      "options": "--address string    Alias for --identity\n  -h, --help              help for check\n      --identity string   Explicit identity for inbox (e.g., greenplace/Toast)\n      --inject            Output format for Claude Code hooks\n      --json              Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail check Check for new mail (for hooks) Check for new mail - useful for Claude Code hooks.\n\nExit codes (normal mode):\n  0 - New mail available\n  1 - No new mail\n\nExit codes (--inject mode):\n  0 - Always (hooks should never block)\n  Output: system-reminder if mail exists, silent if no mail\n\nUse --identity for polecats to explicitly specify their identity.\n\nExamples:\n  gt mail check                           # Simple check (auto-detect identity)\n  gt mail check --inject                  # For hooks\n  gt mail check --identity greenplace/Toast  # Explicit polecat identity\n\n```\ngt mail check [flags]\n``` --address string    Alias for --identity\n  -h, --help              help for check\n      --identity string   Explicit identity for inbox (e.g., greenplace/Toast)\n      --inject            Output format for Claude Code hooks\n      --json              Output as JSON"
    },
    {
      "cmd": "gt mail claim",
      "short": "Claim a message from a queue",
      "synopsis": "Claim the oldest unclaimed message from a work queue.\n\nSYNTAX:\n  gt mail claim [queue-name]\n\nBEHAVIOR:\n1. If queue specified, claim from that queue\n2. If no queue specified, claim from any eligible queue\n3. Add claimed-by and claimed-at labels to the message\n4. Print claimed message details\n\nELIGIBILITY:\nThe caller must match the queue's claim_pattern (stored in the queue bead).\nPattern examples: \"*\" (anyone), \"gastown/polecats/*\" (specific rig crew).\n\nExamples:\n  gt mail claim work-requests   # Claim from specific queue\n  gt mail claim                 # Claim from any eligible queue\n\n```\ngt mail claim [queue-name] [flags]\n```",
      "usage": "gt mail claim [queue-name] [flags]",
      "options": "-h, --help   help for claim",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail claim Claim a message from a queue Claim the oldest unclaimed message from a work queue.\n\nSYNTAX:\n  gt mail claim [queue-name]\n\nBEHAVIOR:\n1. If queue specified, claim from that queue\n2. If no queue specified, claim from any eligible queue\n3. Add claimed-by and claimed-at labels to the message\n4. Print claimed message details\n\nELIGIBILITY:\nThe caller must match the queue's claim_pattern (stored in the queue bead).\nPattern examples: \"*\" (anyone), \"gastown/polecats/*\" (specific rig crew).\n\nExamples:\n  gt mail claim work-requests   # Claim from specific queue\n  gt mail claim                 # Claim from any eligible queue\n\n```\ngt mail claim [queue-name] [flags]\n``` -h, --help   help for claim"
    },
    {
      "cmd": "gt mail clear",
      "short": "Clear all messages from an inbox",
      "synopsis": "Clear (delete) all messages from an inbox.\n\nSYNTAX:\n  gt mail clear              # Clear your own inbox\n  gt mail clear <target>     # Clear another agent's inbox\n\nBEHAVIOR:\n1. List all messages in the target inbox\n2. Delete each message\n3. Print count of deleted messages\n\nUse case: Town quiescence - reset all inboxes across workers efficiently.\n\nExamples:\n  gt mail clear                      # Clear your inbox\n  gt mail clear gastown/polecats/joe # Clear joe's inbox\n  gt mail clear mayor/               # Clear mayor's inbox\n\n```\ngt mail clear [target] [flags]\n```",
      "usage": "gt mail clear [target] [flags]",
      "options": "--all    Clear all messages (default behavior)\n  -h, --help   help for clear",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail clear Clear all messages from an inbox Clear (delete) all messages from an inbox.\n\nSYNTAX:\n  gt mail clear              # Clear your own inbox\n  gt mail clear <target>     # Clear another agent's inbox\n\nBEHAVIOR:\n1. List all messages in the target inbox\n2. Delete each message\n3. Print count of deleted messages\n\nUse case: Town quiescence - reset all inboxes across workers efficiently.\n\nExamples:\n  gt mail clear                      # Clear your inbox\n  gt mail clear gastown/polecats/joe # Clear joe's inbox\n  gt mail clear mayor/               # Clear mayor's inbox\n\n```\ngt mail clear [target] [flags]\n``` --all    Clear all messages (default behavior)\n  -h, --help   help for clear"
    },
    {
      "cmd": "gt mail delete",
      "short": "Delete messages",
      "synopsis": "Delete (acknowledge) one or more messages.\n\nThis closes the messages in beads.\n\nExamples:\n  gt mail delete hq-abc123\n  gt mail delete hq-abc123 hq-def456 hq-ghi789\n\n```\ngt mail delete <message-id> [message-id...] [flags]\n```",
      "usage": "gt mail delete <message-id> [message-id...] [flags]",
      "options": "-h, --help   help for delete",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail delete Delete messages Delete (acknowledge) one or more messages.\n\nThis closes the messages in beads.\n\nExamples:\n  gt mail delete hq-abc123\n  gt mail delete hq-abc123 hq-def456 hq-ghi789\n\n```\ngt mail delete <message-id> [message-id...] [flags]\n``` -h, --help   help for delete"
    },
    {
      "cmd": "gt mail group",
      "short": "Manage mail groups",
      "synopsis": "Create and manage mail distribution groups.\n\nGroups are named collections of addresses used for mail distribution.\nMembers can be:\n  - Direct addresses (gastown/crew/max)\n  - Patterns (*/witness, gastown/*)\n  - Other group names (nested groups)\n\nExamples:\n  gt mail group list                              # List all groups\n  gt mail group show ops-team                     # Show group members\n  gt mail group create ops-team gastown/witness gastown/crew/max\n  gt mail group add ops-team deacon/\n  gt mail group remove ops-team gastown/witness\n  gt mail group delete ops-team\n\n```\ngt mail group [flags]\n```",
      "usage": "gt mail group [flags]",
      "options": "-h, --help   help for group",
      "subcommands": [
        {
          "cmd": "gt mail group add",
          "desc": "Add member to group"
        },
        {
          "cmd": "gt mail group create",
          "desc": "Create a new group"
        },
        {
          "cmd": "gt mail group delete",
          "desc": "Delete a group"
        },
        {
          "cmd": "gt mail group list",
          "desc": "List all groups"
        },
        {
          "cmd": "gt mail group remove",
          "desc": "Remove member from group"
        },
        {
          "cmd": "gt mail group show",
          "desc": "Show group details"
        }
      ],
      "is_parent": true,
      "search_text": "gt mail group Manage mail groups Create and manage mail distribution groups.\n\nGroups are named collections of addresses used for mail distribution.\nMembers can be:\n  - Direct addresses (gastown/crew/max)\n  - Patterns (*/witness, gastown/*)\n  - Other group names (nested groups)\n\nExamples:\n  gt mail group list                              # List all groups\n  gt mail group show ops-team                     # Show group members\n  gt mail group create ops-team gastown/witness gastown/crew/max\n  gt mail group add ops-team deacon/\n  gt mail group remove ops-team gastown/witness\n  gt mail group delete ops-team\n\n```\ngt mail group [flags]\n``` -h, --help   help for group"
    },
    {
      "cmd": "gt mail group add",
      "short": "Add member to group",
      "synopsis": "Add a new member to an existing group.\n\n```\ngt mail group add <name> <member> [flags]\n```",
      "usage": "gt mail group add <name> <member> [flags]",
      "options": "-h, --help   help for add",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail group add Add member to group Add a new member to an existing group.\n\n```\ngt mail group add <name> <member> [flags]\n``` -h, --help   help for add"
    },
    {
      "cmd": "gt mail group create",
      "short": "Create a new group",
      "synopsis": "Create a new mail distribution group.\n\nMembers can be specified as positional arguments or with --member flags.\n\nExamples:\n  gt mail group create ops-team gastown/witness gastown/crew/max\n  gt mail group create ops-team --member gastown/witness --member gastown/crew/max\n\n```\ngt mail group create <name> [members...] [flags]\n```",
      "usage": "gt mail group create <name> [members...] [flags]",
      "options": "-h, --help                 help for create\n      --member stringArray   Member to add (repeatable)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail group create Create a new group Create a new mail distribution group.\n\nMembers can be specified as positional arguments or with --member flags.\n\nExamples:\n  gt mail group create ops-team gastown/witness gastown/crew/max\n  gt mail group create ops-team --member gastown/witness --member gastown/crew/max\n\n```\ngt mail group create <name> [members...] [flags]\n``` -h, --help                 help for create\n      --member stringArray   Member to add (repeatable)"
    },
    {
      "cmd": "gt mail group delete",
      "short": "Delete a group",
      "synopsis": "Permanently delete a mail distribution group.\n\n```\ngt mail group delete <name> [flags]\n```",
      "usage": "gt mail group delete <name> [flags]",
      "options": "-h, --help   help for delete",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail group delete Delete a group Permanently delete a mail distribution group.\n\n```\ngt mail group delete <name> [flags]\n``` -h, --help   help for delete"
    },
    {
      "cmd": "gt mail group list",
      "short": "List all groups",
      "synopsis": "List all mail distribution groups.\n\n```\ngt mail group list [flags]\n```",
      "usage": "gt mail group list [flags]",
      "options": "-h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail group list List all groups List all mail distribution groups.\n\n```\ngt mail group list [flags]\n``` -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail group remove",
      "short": "Remove member from group",
      "synopsis": "Remove a member from an existing group.\n\n```\ngt mail group remove <name> <member> [flags]\n```",
      "usage": "gt mail group remove <name> <member> [flags]",
      "options": "-h, --help   help for remove",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail group remove Remove member from group Remove a member from an existing group.\n\n```\ngt mail group remove <name> <member> [flags]\n``` -h, --help   help for remove"
    },
    {
      "cmd": "gt mail group show",
      "short": "Show group details",
      "synopsis": "Display the members and metadata for a group.\n\n```\ngt mail group show <name> [flags]\n```",
      "usage": "gt mail group show <name> [flags]",
      "options": "-h, --help   help for show\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail group show Show group details Display the members and metadata for a group.\n\n```\ngt mail group show <name> [flags]\n``` -h, --help   help for show\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail hook",
      "short": "Attach mail to your hook (alias for 'gt hook attach')",
      "synopsis": "Attach a mail message to your hook.\n\nThis is an alias for 'gt hook attach <mail-id>'. It attaches the specified\nmail message to your hook so you can work on it.\n\nThe hook is the \"durability primitive\" - work on your hook survives session\nrestarts, context compaction, and handoffs.\n\nExamples:\n  gt mail hook msg-abc123                    # Attach mail to your hook\n  gt mail hook msg-abc123 -s \"Fix the bug\"   # With subject for handoff\n  gt mail hook msg-abc123 --force            # Replace existing incomplete work\n\nRelated commands:\n  gt hook <bead>     # Attach any bead to your hook\n  gt hook status     # Show what's on your hook\n  gt unsling         # Remove work from hook\n\n```\ngt mail hook <mail-id> [flags]\n```",
      "usage": "gt mail hook <mail-id> [flags]",
      "options": "-n, --dry-run          Show what would be done\n  -f, --force            Replace existing incomplete hooked bead\n  -h, --help             help for hook\n  -m, --message string   Message for handoff mail (optional)\n  -s, --subject string   Subject for handoff mail (optional)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail hook Attach mail to your hook (alias for 'gt hook attach') Attach a mail message to your hook.\n\nThis is an alias for 'gt hook attach <mail-id>'. It attaches the specified\nmail message to your hook so you can work on it.\n\nThe hook is the \"durability primitive\" - work on your hook survives session\nrestarts, context compaction, and handoffs.\n\nExamples:\n  gt mail hook msg-abc123                    # Attach mail to your hook\n  gt mail hook msg-abc123 -s \"Fix the bug\"   # With subject for handoff\n  gt mail hook msg-abc123 --force            # Replace existing incomplete work\n\nRelated commands:\n  gt hook <bead>     # Attach any bead to your hook\n  gt hook status     # Show what's on your hook\n  gt unsling         # Remove work from hook\n\n```\ngt mail hook <mail-id> [flags]\n``` -n, --dry-run          Show what would be done\n  -f, --force            Replace existing incomplete hooked bead\n  -h, --help             help for hook\n  -m, --message string   Message for handoff mail (optional)\n  -s, --subject string   Subject for handoff mail (optional)"
    },
    {
      "cmd": "gt mail inbox",
      "short": "Check inbox",
      "synopsis": "Check messages in an inbox.\n\nIf no address is specified, shows the current context's inbox.\nUse --identity for polecats to explicitly specify their identity.\n\nBy default, shows all messages. Use --unread to filter to unread only,\nor --all to explicitly show all messages (read and unread).\n\nExamples:\n  gt mail inbox                       # Current context (auto-detected)\n  gt mail inbox --all                 # Explicitly show all messages\n  gt mail inbox --unread              # Show only unread messages\n  gt mail inbox mayor/                # Mayor's inbox\n  gt mail inbox greenplace/Toast         # Polecat's inbox\n  gt mail inbox --identity greenplace/Toast  # Explicit polecat identity\n\n```\ngt mail inbox [address] [flags]\n```",
      "usage": "gt mail inbox [address] [flags]",
      "options": "--address string    Alias for --identity\n  -a, --all               Show all messages (read and unread)\n  -h, --help              help for inbox\n      --identity string   Explicit identity for inbox (e.g., greenplace/Toast)\n      --json              Output as JSON\n  -u, --unread            Show only unread messages",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail inbox Check inbox Check messages in an inbox.\n\nIf no address is specified, shows the current context's inbox.\nUse --identity for polecats to explicitly specify their identity.\n\nBy default, shows all messages. Use --unread to filter to unread only,\nor --all to explicitly show all messages (read and unread).\n\nExamples:\n  gt mail inbox                       # Current context (auto-detected)\n  gt mail inbox --all                 # Explicitly show all messages\n  gt mail inbox --unread              # Show only unread messages\n  gt mail inbox mayor/                # Mayor's inbox\n  gt mail inbox greenplace/Toast         # Polecat's inbox\n  gt mail inbox --identity greenplace/Toast  # Explicit polecat identity\n\n```\ngt mail inbox [address] [flags]\n``` --address string    Alias for --identity\n  -a, --all               Show all messages (read and unread)\n  -h, --help              help for inbox\n      --identity string   Explicit identity for inbox (e.g., greenplace/Toast)\n      --json              Output as JSON\n  -u, --unread            Show only unread messages"
    },
    {
      "cmd": "gt mail mark-read",
      "short": "Mark messages as read without archiving",
      "synopsis": "Mark one or more messages as read without removing them from inbox.\n\nThis adds a 'read' label to the message, which is reflected in the inbox display.\nThe message remains in your inbox (unlike archive which closes/removes it).\n\nUse case: You've read a message but want to keep it visible in your inbox\nfor reference or follow-up.\n\nExamples:\n  gt mail mark-read hq-abc123\n  gt mail mark-read hq-abc123 hq-def456\n\n```\ngt mail mark-read <message-id> [message-id...] [flags]\n```",
      "usage": "gt mail mark-read <message-id> [message-id...] [flags]",
      "options": "-h, --help   help for mark-read",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail mark-read Mark messages as read without archiving Mark one or more messages as read without removing them from inbox.\n\nThis adds a 'read' label to the message, which is reflected in the inbox display.\nThe message remains in your inbox (unlike archive which closes/removes it).\n\nUse case: You've read a message but want to keep it visible in your inbox\nfor reference or follow-up.\n\nExamples:\n  gt mail mark-read hq-abc123\n  gt mail mark-read hq-abc123 hq-def456\n\n```\ngt mail mark-read <message-id> [message-id...] [flags]\n``` -h, --help   help for mark-read"
    },
    {
      "cmd": "gt mail mark-unread",
      "short": "Mark messages as unread",
      "synopsis": "Mark one or more messages as unread.\n\nThis removes the 'read' label from the message.\n\nExamples:\n  gt mail mark-unread hq-abc123\n  gt mail mark-unread hq-abc123 hq-def456\n\n```\ngt mail mark-unread <message-id> [message-id...] [flags]\n```",
      "usage": "gt mail mark-unread <message-id> [message-id...] [flags]",
      "options": "-h, --help   help for mark-unread",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail mark-unread Mark messages as unread Mark one or more messages as unread.\n\nThis removes the 'read' label from the message.\n\nExamples:\n  gt mail mark-unread hq-abc123\n  gt mail mark-unread hq-abc123 hq-def456\n\n```\ngt mail mark-unread <message-id> [message-id...] [flags]\n``` -h, --help   help for mark-unread"
    },
    {
      "cmd": "gt mail peek",
      "short": "Show preview of first unread message",
      "synopsis": "Display a compact preview of the first unread message.\n\nUseful for status bar popups - shows subject, sender, and body preview.\nExits silently with code 1 if no unread messages.\n\n```\ngt mail peek [flags]\n```",
      "usage": "gt mail peek [flags]",
      "options": "-h, --help   help for peek",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail peek Show preview of first unread message Display a compact preview of the first unread message.\n\nUseful for status bar popups - shows subject, sender, and body preview.\nExits silently with code 1 if no unread messages.\n\n```\ngt mail peek [flags]\n``` -h, --help   help for peek"
    },
    {
      "cmd": "gt mail queue",
      "short": "Manage mail queues",
      "synopsis": "Manage beads-native mail queues.\n\nQueues provide a way to distribute work to eligible workers.\nMessages sent to a queue can be claimed by workers matching the claim pattern.\n\nCOMMANDS:\n  create    Create a new queue\n  show      Show queue details\n  list      List all queues\n  delete    Delete a queue\n\nExamples:\n  gt mail queue create work --claimers 'gastown/polecats/*'\n  gt mail queue show work\n  gt mail queue list\n  gt mail queue delete work\n\n```\ngt mail queue [flags]\n```",
      "usage": "gt mail queue [flags]",
      "options": "-h, --help   help for queue",
      "subcommands": [
        {
          "cmd": "gt mail queue create",
          "desc": "Create a new queue"
        },
        {
          "cmd": "gt mail queue delete",
          "desc": "Delete a queue"
        },
        {
          "cmd": "gt mail queue list",
          "desc": "List all queues"
        },
        {
          "cmd": "gt mail queue show",
          "desc": "Show queue details"
        }
      ],
      "is_parent": true,
      "search_text": "gt mail queue Manage mail queues Manage beads-native mail queues.\n\nQueues provide a way to distribute work to eligible workers.\nMessages sent to a queue can be claimed by workers matching the claim pattern.\n\nCOMMANDS:\n  create    Create a new queue\n  show      Show queue details\n  list      List all queues\n  delete    Delete a queue\n\nExamples:\n  gt mail queue create work --claimers 'gastown/polecats/*'\n  gt mail queue show work\n  gt mail queue list\n  gt mail queue delete work\n\n```\ngt mail queue [flags]\n``` -h, --help   help for queue"
    },
    {
      "cmd": "gt mail queue create",
      "short": "Create a new queue",
      "synopsis": "Create a new beads-native mail queue.\n\nThe --claimers flag specifies a pattern for who can claim messages from this queue.\nPatterns support wildcards: 'gastown/polecats/*' matches any polecat in gastown rig.\n\nExamples:\n  gt mail queue create work --claimers 'gastown/polecats/*'\n  gt mail queue create dispatch --claimers 'gastown/crew/*'\n  gt mail queue create urgent --claimers '*'\n\n```\ngt mail queue create <name> [flags]\n```",
      "usage": "gt mail queue create <name> [flags]",
      "options": "--claimers string   Pattern for who can claim from this queue (required)\n  -h, --help              help for create",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail queue create Create a new queue Create a new beads-native mail queue.\n\nThe --claimers flag specifies a pattern for who can claim messages from this queue.\nPatterns support wildcards: 'gastown/polecats/*' matches any polecat in gastown rig.\n\nExamples:\n  gt mail queue create work --claimers 'gastown/polecats/*'\n  gt mail queue create dispatch --claimers 'gastown/crew/*'\n  gt mail queue create urgent --claimers '*'\n\n```\ngt mail queue create <name> [flags]\n``` --claimers string   Pattern for who can claim from this queue (required)\n  -h, --help              help for create"
    },
    {
      "cmd": "gt mail queue delete",
      "short": "Delete a queue",
      "synopsis": "Delete a mail queue.\n\nThis permanently removes the queue bead. Messages in the queue are not affected.\n\nExamples:\n  gt mail queue delete work\n\n```\ngt mail queue delete <name> [flags]\n```",
      "usage": "gt mail queue delete <name> [flags]",
      "options": "-h, --help   help for delete",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail queue delete Delete a queue Delete a mail queue.\n\nThis permanently removes the queue bead. Messages in the queue are not affected.\n\nExamples:\n  gt mail queue delete work\n\n```\ngt mail queue delete <name> [flags]\n``` -h, --help   help for delete"
    },
    {
      "cmd": "gt mail queue list",
      "short": "List all queues",
      "synopsis": "List all beads-native mail queues.\n\nShows queue names, claim patterns, and status.\n\nExamples:\n  gt mail queue list\n  gt mail queue list --json\n\n```\ngt mail queue list [flags]\n```",
      "usage": "gt mail queue list [flags]",
      "options": "-h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail queue list List all queues List all beads-native mail queues.\n\nShows queue names, claim patterns, and status.\n\nExamples:\n  gt mail queue list\n  gt mail queue list --json\n\n```\ngt mail queue list [flags]\n``` -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail queue show",
      "short": "Show queue details",
      "synopsis": "Show details about a mail queue.\n\nDisplays the queue's claim pattern, status, and message counts.\n\nExamples:\n  gt mail queue show work\n  gt mail queue show dispatch --json\n\n```\ngt mail queue show <name> [flags]\n```",
      "usage": "gt mail queue show <name> [flags]",
      "options": "-h, --help   help for show\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail queue show Show queue details Show details about a mail queue.\n\nDisplays the queue's claim pattern, status, and message counts.\n\nExamples:\n  gt mail queue show work\n  gt mail queue show dispatch --json\n\n```\ngt mail queue show <name> [flags]\n``` -h, --help   help for show\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail read",
      "short": "Read a message",
      "synopsis": "Read a specific message (does not mark as read).\n\nYou can specify a message by its ID or by its numeric index from the inbox.\nThe index corresponds to the number shown in 'gt mail inbox' (1-based).\n\nExamples:\n  gt mail read hq-abc123    # Read by message ID\n  gt mail read 3            # Read the 3rd message in inbox\n\nUse 'gt mail mark-read' to mark messages as read.\n\n```\ngt mail read <message-id|index> [flags]\n```",
      "usage": "gt mail read <message-id|index> [flags]",
      "options": "-h, --help   help for read\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail read Read a message Read a specific message (does not mark as read).\n\nYou can specify a message by its ID or by its numeric index from the inbox.\nThe index corresponds to the number shown in 'gt mail inbox' (1-based).\n\nExamples:\n  gt mail read hq-abc123    # Read by message ID\n  gt mail read 3            # Read the 3rd message in inbox\n\nUse 'gt mail mark-read' to mark messages as read.\n\n```\ngt mail read <message-id|index> [flags]\n``` -h, --help   help for read\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mail release",
      "short": "Release a claimed queue message",
      "synopsis": "Release a previously claimed message back to its queue.\n\nSYNTAX:\n  gt mail release <message-id>\n\nBEHAVIOR:\n1. Find the message by ID\n2. Verify caller is the one who claimed it (claimed-by label matches)\n3. Remove claimed-by and claimed-at labels\n4. Message returns to queue for others to claim\n\nERROR CASES:\n- Message not found\n- Message is not a queue message\n- Message not claimed\n- Caller did not claim this message\n\nExamples:\n  gt mail release hq-abc123    # Release a claimed message\n\n```\ngt mail release <message-id> [flags]\n```",
      "usage": "gt mail release <message-id> [flags]",
      "options": "-h, --help   help for release",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail release Release a claimed queue message Release a previously claimed message back to its queue.\n\nSYNTAX:\n  gt mail release <message-id>\n\nBEHAVIOR:\n1. Find the message by ID\n2. Verify caller is the one who claimed it (claimed-by label matches)\n3. Remove claimed-by and claimed-at labels\n4. Message returns to queue for others to claim\n\nERROR CASES:\n- Message not found\n- Message is not a queue message\n- Message not claimed\n- Caller did not claim this message\n\nExamples:\n  gt mail release hq-abc123    # Release a claimed message\n\n```\ngt mail release <message-id> [flags]\n``` -h, --help   help for release"
    },
    {
      "cmd": "gt mail reply",
      "short": "Reply to a message",
      "synopsis": "Reply to a specific message.\n\nThis is a convenience command that automatically:\n- Sets the reply-to field to the original message\n- Prefixes the subject with \"Re: \" (if not already present)\n- Sends to the original sender\n\nThe message body can be provided as a positional argument or via -m flag.\n\nExamples:\n  gt mail reply msg-abc123 \"Thanks, working on it now\"\n  gt mail reply msg-abc123 -m \"Thanks, working on it now\"\n  gt mail reply msg-abc123 -s \"Custom subject\" -m \"Reply body\"\n\n```\ngt mail reply <message-id> [message] [flags]\n```",
      "usage": "gt mail reply <message-id> [message] [flags]",
      "options": "--body string      Reply message body (alias for --message)\n  -h, --help             help for reply\n  -m, --message string   Reply message body\n  -s, --subject string   Override reply subject (default: Re: <original>)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail reply Reply to a message Reply to a specific message.\n\nThis is a convenience command that automatically:\n- Sets the reply-to field to the original message\n- Prefixes the subject with \"Re: \" (if not already present)\n- Sends to the original sender\n\nThe message body can be provided as a positional argument or via -m flag.\n\nExamples:\n  gt mail reply msg-abc123 \"Thanks, working on it now\"\n  gt mail reply msg-abc123 -m \"Thanks, working on it now\"\n  gt mail reply msg-abc123 -s \"Custom subject\" -m \"Reply body\"\n\n```\ngt mail reply <message-id> [message] [flags]\n``` --body string      Reply message body (alias for --message)\n  -h, --help             help for reply\n  -m, --message string   Reply message body\n  -s, --subject string   Override reply subject (default: Re: <original>)"
    },
    {
      "cmd": "gt mail search",
      "short": "Search messages by content",
      "synopsis": "Search inbox for messages matching a pattern.\n\nSYNTAX:\n  gt mail search <query> [flags]\n\nThe query is a regular expression pattern. Search is case-insensitive by default.\n\nFLAGS:\n  --from <sender>   Filter by sender address (substring match)\n  --subject         Only search subject lines\n  --body            Only search message body\n  --archive         Include archived (closed) messages\n  --json            Output as JSON\n\nBy default, searches both subject and body text.\n\nExamples:\n  gt mail search \"urgent\"                    # Find messages with \"urgent\"\n  gt mail search \"status.*check\" --subject   # Regex in subjects only\n  gt mail search \"error\" --from witness      # From witness, containing \"error\"\n  gt mail search \"handoff\" --archive         # Include archived messages\n  gt mail search \"\" --from mayor/            # All messages from mayor\n\n```\ngt mail search <query> [flags]\n```",
      "usage": "gt mail search <query> [flags]",
      "options": "--archive       Include archived messages\n      --body          Only search message body\n      --from string   Filter by sender address\n  -h, --help          help for search\n      --json          Output as JSON\n      --subject       Only search subject lines",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail search Search messages by content Search inbox for messages matching a pattern.\n\nSYNTAX:\n  gt mail search <query> [flags]\n\nThe query is a regular expression pattern. Search is case-insensitive by default.\n\nFLAGS:\n  --from <sender>   Filter by sender address (substring match)\n  --subject         Only search subject lines\n  --body            Only search message body\n  --archive         Include archived (closed) messages\n  --json            Output as JSON\n\nBy default, searches both subject and body text.\n\nExamples:\n  gt mail search \"urgent\"                    # Find messages with \"urgent\"\n  gt mail search \"status.*check\" --subject   # Regex in subjects only\n  gt mail search \"error\" --from witness      # From witness, containing \"error\"\n  gt mail search \"handoff\" --archive         # Include archived messages\n  gt mail search \"\" --from mayor/            # All messages from mayor\n\n```\ngt mail search <query> [flags]\n``` --archive       Include archived messages\n      --body          Only search message body\n      --from string   Filter by sender address\n  -h, --help          help for search\n      --json          Output as JSON\n      --subject       Only search subject lines"
    },
    {
      "cmd": "gt mail send",
      "short": "Send a message",
      "synopsis": "Send a message to an agent.\n\nAddresses:\n  mayor/           - Send to Mayor\n  <rig>/refinery   - Send to a rig's Refinery\n  <rig>/<polecat>  - Send to a specific polecat\n  <rig>/           - Broadcast to a rig\n  list:<name>      - Send to a mailing list (fans out to all members)\n\nMailing lists are defined in ~/gt/config/messaging.json and allow\nsending to multiple recipients at once. Each recipient gets their\nown copy of the message.\n\nMessage types:\n  task          - Required processing\n  scavenge      - Optional first-come work\n  notification  - Informational (default)\n  reply         - Response to message\n\nPriority levels:\n  0 - urgent/critical\n  1 - high\n  2 - normal (default)\n  3 - low\n  4 - backlog\n\nUse --urgent as shortcut for --priority 0.\n\nExamples:\n  gt mail send greenplace/Toast -s \"Status check\" -m \"How's that bug fix going?\"\n  gt mail send mayor/ -s \"Work complete\" -m \"Finished gt-abc\"\n  gt mail send gastown/ -s \"All hands\" -m \"Swarm starting\" --notify\n  gt mail send greenplace/Toast -s \"Task\" -m \"Fix bug\" --type task --priority 1\n  gt mail send greenplace/Toast -s \"Urgent\" -m \"Help!\" --urgent\n  gt mail send mayor/ -s \"Re: Status\" -m \"Done\" --reply-to msg-abc123\n  gt mail send --self -s \"Handoff\" -m \"Context for next session\"\n  gt mail send greenplace/Toast -s \"Update\" -m \"Progress report\" --cc overseer\n  gt mail send list:oncall -s \"Alert\" -m \"System down\"\n\n```\ngt mail send <address> [flags]\n```",
      "usage": "gt mail send <address> [flags]",
      "options": "--body string       Alias for --message\n      --cc stringArray    CC recipients (can be used multiple times)\n  -h, --help              help for send\n  -m, --message string    Message body\n  -n, --notify            Send tmux notification to recipient\n      --permanent         Send as permanent (not ephemeral, synced to remote)\n      --pinned            Pin message (for handoff context that persists)\n      --priority int      Message priority (0=urgent, 1=high, 2=normal, 3=low, 4=backlog) (default 2)\n      --reply-to string   Message ID this is replying to\n      --self              Send to self (auto-detect from cwd)\n  -s, --subject string    Message subject (required)\n      --type string       Message type (task, scavenge, notification, reply) (default \"notification\")\n      --urgent            Set priority=0 (urgent)\n      --wisp              Send as wisp (ephemeral, default) (default true)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail send Send a message Send a message to an agent.\n\nAddresses:\n  mayor/           - Send to Mayor\n  <rig>/refinery   - Send to a rig's Refinery\n  <rig>/<polecat>  - Send to a specific polecat\n  <rig>/           - Broadcast to a rig\n  list:<name>      - Send to a mailing list (fans out to all members)\n\nMailing lists are defined in ~/gt/config/messaging.json and allow\nsending to multiple recipients at once. Each recipient gets their\nown copy of the message.\n\nMessage types:\n  task          - Required processing\n  scavenge      - Optional first-come work\n  notification  - Informational (default)\n  reply         - Response to message\n\nPriority levels:\n  0 - urgent/critical\n  1 - high\n  2 - normal (default)\n  3 - low\n  4 - backlog\n\nUse --urgent as shortcut for --priority 0.\n\nExamples:\n  gt mail send greenplace/Toast -s \"Status check\" -m \"How's that bug fix going?\"\n  gt mail send mayor/ -s \"Work complete\" -m \"Finished gt-abc\"\n  gt mail send gastown/ -s \"All hands\" -m \"Swarm starting\" --notify\n  gt mail send greenplace/Toast -s \"Task\" -m \"Fix bug\" --type task --priority 1\n  gt mail send greenplace/Toast -s \"Urgent\" -m \"Help!\" --urgent\n  gt mail send mayor/ -s \"Re: Status\" -m \"Done\" --reply-to msg-abc123\n  gt mail send --self -s \"Handoff\" -m \"Context for next session\"\n  gt mail send greenplace/Toast -s \"Update\" -m \"Progress report\" --cc overseer\n  gt mail send list:oncall -s \"Alert\" -m \"System down\"\n\n```\ngt mail send <address> [flags]\n``` --body string       Alias for --message\n      --cc stringArray    CC recipients (can be used multiple times)\n  -h, --help              help for send\n  -m, --message string    Message body\n  -n, --notify            Send tmux notification to recipient\n      --permanent         Send as permanent (not ephemeral, synced to remote)\n      --pinned            Pin message (for handoff context that persists)\n      --priority int      Message priority (0=urgent, 1=high, 2=normal, 3=low, 4=backlog) (default 2)\n      --reply-to string   Message ID this is replying to\n      --self              Send to self (auto-detect from cwd)\n  -s, --subject string    Message subject (required)\n      --type string       Message type (task, scavenge, notification, reply) (default \"notification\")\n      --urgent            Set priority=0 (urgent)\n      --wisp              Send as wisp (ephemeral, default) (default true)"
    },
    {
      "cmd": "gt mail thread",
      "short": "View a message thread",
      "synopsis": "View all messages in a conversation thread.\n\nShows messages in chronological order (oldest first).\n\nExamples:\n  gt mail thread thread-abc123\n\n```\ngt mail thread <thread-id> [flags]\n```",
      "usage": "gt mail thread <thread-id> [flags]",
      "options": "-h, --help   help for thread\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mail thread View a message thread View all messages in a conversation thread.\n\nShows messages in chronological order (oldest first).\n\nExamples:\n  gt mail thread thread-abc123\n\n```\ngt mail thread <thread-id> [flags]\n``` -h, --help   help for thread\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mayor",
      "short": "Manage the Mayor (Chief of Staff for cross-rig coordination)",
      "synopsis": "Manage the Mayor - the Overseer's Chief of Staff.\n\nThe Mayor is the global coordinator for Gas Town:\n  - Receives escalations from Witnesses and Deacon\n  - Coordinates work across multiple rigs\n  - Handles human communication when needed\n  - Routes strategic decisions and cross-project issues\n\nThe Mayor is the primary interface between the human Overseer and the\nautomated agents. When in doubt, escalate to the Mayor.\n\nRole shortcuts: \"mayor\" in mail/nudge addresses resolves to this agent.\n\n```\ngt mayor [flags]\n```",
      "usage": "gt mayor [flags]",
      "options": "-h, --help   help for mayor",
      "subcommands": [
        {
          "cmd": "gt mayor attach",
          "desc": "Attach to the Mayor session"
        },
        {
          "cmd": "gt mayor restart",
          "desc": "Restart the Mayor session"
        },
        {
          "cmd": "gt mayor start",
          "desc": "Start the Mayor session"
        },
        {
          "cmd": "gt mayor status",
          "desc": "Check Mayor session status"
        },
        {
          "cmd": "gt mayor stop",
          "desc": "Stop the Mayor session"
        }
      ],
      "is_parent": true,
      "search_text": "gt mayor Manage the Mayor (Chief of Staff for cross-rig coordination) Manage the Mayor - the Overseer's Chief of Staff.\n\nThe Mayor is the global coordinator for Gas Town:\n  - Receives escalations from Witnesses and Deacon\n  - Coordinates work across multiple rigs\n  - Handles human communication when needed\n  - Routes strategic decisions and cross-project issues\n\nThe Mayor is the primary interface between the human Overseer and the\nautomated agents. When in doubt, escalate to the Mayor.\n\nRole shortcuts: \"mayor\" in mail/nudge addresses resolves to this agent.\n\n```\ngt mayor [flags]\n``` -h, --help   help for mayor"
    },
    {
      "cmd": "gt mayor attach",
      "short": "Attach to the Mayor session",
      "synopsis": "Attach to the running Mayor tmux session.\n\nAttaches the current terminal to the Mayor's tmux session.\nDetach with Ctrl-B D.\n\n```\ngt mayor attach [flags]\n```",
      "usage": "gt mayor attach [flags]",
      "options": "--agent string   Agent alias to run the Mayor with (overrides town default)\n  -h, --help           help for attach",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mayor attach Attach to the Mayor session Attach to the running Mayor tmux session.\n\nAttaches the current terminal to the Mayor's tmux session.\nDetach with Ctrl-B D.\n\n```\ngt mayor attach [flags]\n``` --agent string   Agent alias to run the Mayor with (overrides town default)\n  -h, --help           help for attach"
    },
    {
      "cmd": "gt mayor restart",
      "short": "Restart the Mayor session",
      "synopsis": "Restart the Mayor tmux session.\n\nStops the current session (if running) and starts a fresh one.\n\n```\ngt mayor restart [flags]\n```",
      "usage": "gt mayor restart [flags]",
      "options": "--agent string   Agent alias to run the Mayor with (overrides town default)\n  -h, --help           help for restart",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mayor restart Restart the Mayor session Restart the Mayor tmux session.\n\nStops the current session (if running) and starts a fresh one.\n\n```\ngt mayor restart [flags]\n``` --agent string   Agent alias to run the Mayor with (overrides town default)\n  -h, --help           help for restart"
    },
    {
      "cmd": "gt mayor start",
      "short": "Start the Mayor session",
      "synopsis": "Start the Mayor tmux session.\n\nCreates a new detached tmux session for the Mayor and launches Claude.\nThe session runs in the workspace root directory.\n\n```\ngt mayor start [flags]\n```",
      "usage": "gt mayor start [flags]",
      "options": "--agent string   Agent alias to run the Mayor with (overrides town default)\n  -h, --help           help for start",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mayor start Start the Mayor session Start the Mayor tmux session.\n\nCreates a new detached tmux session for the Mayor and launches Claude.\nThe session runs in the workspace root directory.\n\n```\ngt mayor start [flags]\n``` --agent string   Agent alias to run the Mayor with (overrides town default)\n  -h, --help           help for start"
    },
    {
      "cmd": "gt mayor status",
      "short": "Check Mayor session status",
      "synopsis": "Check if the Mayor tmux session is currently running.\n\n```\ngt mayor status [flags]\n```",
      "usage": "gt mayor status [flags]",
      "options": "-h, --help   help for status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mayor status Check Mayor session status Check if the Mayor tmux session is currently running.\n\n```\ngt mayor status [flags]\n``` -h, --help   help for status"
    },
    {
      "cmd": "gt mayor stop",
      "short": "Stop the Mayor session",
      "synopsis": "Stop the Mayor tmux session.\n\nAttempts graceful shutdown first (Ctrl-C), then kills the tmux session.\n\n```\ngt mayor stop [flags]\n```",
      "usage": "gt mayor stop [flags]",
      "options": "-h, --help   help for stop",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mayor stop Stop the Mayor session Stop the Mayor tmux session.\n\nAttempts graceful shutdown first (Ctrl-C), then kills the tmux session.\n\n```\ngt mayor stop [flags]\n``` -h, --help   help for stop"
    },
    {
      "cmd": "gt mol",
      "short": "Agent molecule workflow commands",
      "synopsis": "Agent-specific molecule workflow operations.\n\nThese commands operate on YOUR hook and YOUR attached molecules.\nUse 'gt hook' to see what's on your hook (alias for 'gt mol status').\n\nVIEWING YOUR WORK:\n  gt hook              Show what's on your hook\n  gt mol current       Show what you should be working on\n  gt mol progress      Show execution progress\n\nWORKING ON STEPS:\n  gt mol step done     Complete current step (auto-continues)\n\nLIFECYCLE:\n  gt mol attach        Attach molecule to your hook\n  gt mol detach        Detach molecule from your hook\n  gt mol burn          Discard attached molecule (no record)\n  gt mol squash        Compress to digest (permanent record)\n\nTO DISPATCH WORK (with molecules):\n  gt sling mol-xxx target   # Pour formula + sling to agent\n  gt formulas               # List available formulas\n\n```\ngt mol [flags]\n```",
      "usage": "gt mol [flags]",
      "options": "-h, --help   help for mol",
      "subcommands": [
        {
          "cmd": "gt mol attach",
          "desc": "Attach a molecule to a pinned bead"
        },
        {
          "cmd": "gt mol attach-from-mail",
          "desc": "Attach a molecule from a mail message"
        },
        {
          "cmd": "gt mol attachment",
          "desc": "Show attachment status of a pinned bead"
        },
        {
          "cmd": "gt mol burn",
          "desc": "Burn current molecule without creating a digest"
        },
        {
          "cmd": "gt mol current",
          "desc": "Show what agent should be working on"
        },
        {
          "cmd": "gt mol dag",
          "desc": "Visualize molecule dependency DAG"
        },
        {
          "cmd": "gt mol detach",
          "desc": "Detach molecule from a pinned bead"
        },
        {
          "cmd": "gt mol progress",
          "desc": "Show progress through a molecule's steps"
        },
        {
          "cmd": "gt mol squash",
          "desc": "Compress molecule into a digest"
        },
        {
          "cmd": "gt mol status",
          "desc": "Show what's on an agent's hook"
        },
        {
          "cmd": "gt mol step",
          "desc": "Molecule step operations"
        }
      ],
      "is_parent": true,
      "search_text": "gt mol Agent molecule workflow commands Agent-specific molecule workflow operations.\n\nThese commands operate on YOUR hook and YOUR attached molecules.\nUse 'gt hook' to see what's on your hook (alias for 'gt mol status').\n\nVIEWING YOUR WORK:\n  gt hook              Show what's on your hook\n  gt mol current       Show what you should be working on\n  gt mol progress      Show execution progress\n\nWORKING ON STEPS:\n  gt mol step done     Complete current step (auto-continues)\n\nLIFECYCLE:\n  gt mol attach        Attach molecule to your hook\n  gt mol detach        Detach molecule from your hook\n  gt mol burn          Discard attached molecule (no record)\n  gt mol squash        Compress to digest (permanent record)\n\nTO DISPATCH WORK (with molecules):\n  gt sling mol-xxx target   # Pour formula + sling to agent\n  gt formulas               # List available formulas\n\n```\ngt mol [flags]\n``` -h, --help   help for mol"
    },
    {
      "cmd": "gt mol attach-from-mail",
      "short": "Attach a molecule from a mail message",
      "synopsis": "Attach a molecule to the current agent's hook from a mail message.\n\nThis command reads a mail message, extracts the molecule ID from the body,\nand attaches it to the agent's pinned bead (hook).\n\nThe mail body should contain an \"attached_molecule:\" field with the molecule ID.\n\nUsage: gt mol attach-from-mail <mail-id>\n\nBehavior:\n1. Read mail body for attached_molecule field\n2. Attach molecule to agent's hook\n3. Mark mail as read\n4. Return control for execution\n\nExample:\n  gt mol attach-from-mail msg-abc123\n\n```\ngt mol attach-from-mail <mail-id> [flags]\n```",
      "usage": "gt mol attach-from-mail <mail-id> [flags]",
      "options": "-h, --help   help for attach-from-mail",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol attach-from-mail Attach a molecule from a mail message Attach a molecule to the current agent's hook from a mail message.\n\nThis command reads a mail message, extracts the molecule ID from the body,\nand attaches it to the agent's pinned bead (hook).\n\nThe mail body should contain an \"attached_molecule:\" field with the molecule ID.\n\nUsage: gt mol attach-from-mail <mail-id>\n\nBehavior:\n1. Read mail body for attached_molecule field\n2. Attach molecule to agent's hook\n3. Mark mail as read\n4. Return control for execution\n\nExample:\n  gt mol attach-from-mail msg-abc123\n\n```\ngt mol attach-from-mail <mail-id> [flags]\n``` -h, --help   help for attach-from-mail"
    },
    {
      "cmd": "gt mol attach",
      "short": "Attach a molecule to a pinned bead",
      "synopsis": "Attach a molecule to a pinned/handoff bead.\n\nThis records which molecule an agent is currently working on. The attachment\nis stored in the pinned bead's description and visible via 'bd show'.\n\nWhen called with a single argument from an agent working directory, the\npinned bead ID is auto-detected from the current agent's hook.\n\nExamples:\n  gt molecule attach gt-abc mol-xyz  # Explicit pinned bead\n  gt molecule attach mol-xyz         # Auto-detect from cwd\n\n```\ngt mol attach [pinned-bead-id] <molecule-id> [flags]\n```",
      "usage": "gt mol attach [pinned-bead-id] <molecule-id> [flags]",
      "options": "-h, --help   help for attach",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol attach Attach a molecule to a pinned bead Attach a molecule to a pinned/handoff bead.\n\nThis records which molecule an agent is currently working on. The attachment\nis stored in the pinned bead's description and visible via 'bd show'.\n\nWhen called with a single argument from an agent working directory, the\npinned bead ID is auto-detected from the current agent's hook.\n\nExamples:\n  gt molecule attach gt-abc mol-xyz  # Explicit pinned bead\n  gt molecule attach mol-xyz         # Auto-detect from cwd\n\n```\ngt mol attach [pinned-bead-id] <molecule-id> [flags]\n``` -h, --help   help for attach"
    },
    {
      "cmd": "gt mol attachment",
      "short": "Show attachment status of a pinned bead",
      "synopsis": "Show which molecule is attached to a pinned bead.\n\nExample:\n  gt molecule attachment gt-abc\n\n```\ngt mol attachment <pinned-bead-id> [flags]\n```",
      "usage": "gt mol attachment <pinned-bead-id> [flags]",
      "options": "-h, --help   help for attachment\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol attachment Show attachment status of a pinned bead Show which molecule is attached to a pinned bead.\n\nExample:\n  gt molecule attachment gt-abc\n\n```\ngt mol attachment <pinned-bead-id> [flags]\n``` -h, --help   help for attachment\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mol burn",
      "short": "Burn current molecule without creating a digest",
      "synopsis": "Burn (destroy) the current molecule attachment.\n\nThis discards the molecule without creating a permanent record. Use this\nwhen abandoning work or when a molecule doesn't need an audit trail.\n\nIf no target is specified, burns the current agent's attached molecule.\n\nFor wisps, burning is the default completion action. For regular molecules,\nconsider using 'squash' instead to preserve an audit trail.\n\n```\ngt mol burn [target] [flags]\n```",
      "usage": "gt mol burn [target] [flags]",
      "options": "-h, --help   help for burn\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol burn Burn current molecule without creating a digest Burn (destroy) the current molecule attachment.\n\nThis discards the molecule without creating a permanent record. Use this\nwhen abandoning work or when a molecule doesn't need an audit trail.\n\nIf no target is specified, burns the current agent's attached molecule.\n\nFor wisps, burning is the default completion action. For regular molecules,\nconsider using 'squash' instead to preserve an audit trail.\n\n```\ngt mol burn [target] [flags]\n``` -h, --help   help for burn\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mol current",
      "short": "Show what agent should be working on",
      "synopsis": "Query what an agent is supposed to be working on via breadcrumb trail.\n\nLooks up the agent's handoff bead, checks for attached molecules, and\nidentifies the current/next step in the workflow.\n\nIf no identity is specified, uses the current agent based on working directory.\n\nOutput includes:\n- Identity and handoff bead info\n- Attached molecule (if any)\n- Progress through steps\n- Current step that should be worked on next\n\nExamples:\n  gt molecule current                 # Current agent's work\n  gt molecule current greenplace/furiosa\n  gt molecule current deacon\n  gt mol current greenplace/witness\n\n```\ngt mol current [identity] [flags]\n```",
      "usage": "gt mol current [identity] [flags]",
      "options": "-h, --help   help for current\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol current Show what agent should be working on Query what an agent is supposed to be working on via breadcrumb trail.\n\nLooks up the agent's handoff bead, checks for attached molecules, and\nidentifies the current/next step in the workflow.\n\nIf no identity is specified, uses the current agent based on working directory.\n\nOutput includes:\n- Identity and handoff bead info\n- Attached molecule (if any)\n- Progress through steps\n- Current step that should be worked on next\n\nExamples:\n  gt molecule current                 # Current agent's work\n  gt molecule current greenplace/furiosa\n  gt molecule current deacon\n  gt mol current greenplace/witness\n\n```\ngt mol current [identity] [flags]\n``` -h, --help   help for current\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mol dag",
      "short": "Visualize molecule dependency DAG",
      "synopsis": "Display the dependency DAG (Directed Acyclic Graph) for a molecule.\n\nShows the dependency structure with execution tiers and status:\n  \u2713 done        - Step completed\n  \u29d6 in_progress - Step being worked on\n  \u25cb ready       - Step ready to execute (all deps met)\n  \u25cc blocked     - Step waiting on dependencies\n\nExamples:\n  gt mol dag gs-wisp-abc     # Show DAG for molecule\n  gt mol dag gs-wisp-abc --json  # JSON output\n  gt mol dag gs-wisp-abc --tree  # Tree view (default)\n  gt mol dag gs-wisp-abc --tiers # Group by execution tier\n\n```\ngt mol dag <molecule-id> [flags]\n```",
      "usage": "gt mol dag <molecule-id> [flags]",
      "options": "-h, --help    help for dag\n      --json    Output as JSON\n      --tiers   Group output by execution tier\n      --tree    Show tree view (default) (default true)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol dag Visualize molecule dependency DAG Display the dependency DAG (Directed Acyclic Graph) for a molecule.\n\nShows the dependency structure with execution tiers and status:\n  \u2713 done        - Step completed\n  \u29d6 in_progress - Step being worked on\n  \u25cb ready       - Step ready to execute (all deps met)\n  \u25cc blocked     - Step waiting on dependencies\n\nExamples:\n  gt mol dag gs-wisp-abc     # Show DAG for molecule\n  gt mol dag gs-wisp-abc --json  # JSON output\n  gt mol dag gs-wisp-abc --tree  # Tree view (default)\n  gt mol dag gs-wisp-abc --tiers # Group by execution tier\n\n```\ngt mol dag <molecule-id> [flags]\n``` -h, --help    help for dag\n      --json    Output as JSON\n      --tiers   Group output by execution tier\n      --tree    Show tree view (default) (default true)"
    },
    {
      "cmd": "gt mol detach",
      "short": "Detach molecule from a pinned bead",
      "synopsis": "Remove molecule attachment from a pinned/handoff bead.\n\nThis clears the attached_molecule and attached_at fields from the bead.\n\nExample:\n  gt molecule detach gt-abc\n\n```\ngt mol detach <pinned-bead-id> [flags]\n```",
      "usage": "gt mol detach <pinned-bead-id> [flags]",
      "options": "-h, --help   help for detach",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol detach Detach molecule from a pinned bead Remove molecule attachment from a pinned/handoff bead.\n\nThis clears the attached_molecule and attached_at fields from the bead.\n\nExample:\n  gt molecule detach gt-abc\n\n```\ngt mol detach <pinned-bead-id> [flags]\n``` -h, --help   help for detach"
    },
    {
      "cmd": "gt mol progress",
      "short": "Show progress through a molecule's steps",
      "synopsis": "Show the execution progress of an instantiated molecule.\n\nGiven a root issue (the parent of molecule steps), displays:\n- Total steps and completion status\n- Which steps are done, in-progress, ready, or blocked\n- Overall progress percentage\n\nThis is useful for the Witness to monitor molecule execution.\n\nExample:\n  gt molecule progress gt-abc\n\n```\ngt mol progress <root-issue-id> [flags]\n```",
      "usage": "gt mol progress <root-issue-id> [flags]",
      "options": "-h, --help   help for progress\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol progress Show progress through a molecule's steps Show the execution progress of an instantiated molecule.\n\nGiven a root issue (the parent of molecule steps), displays:\n- Total steps and completion status\n- Which steps are done, in-progress, ready, or blocked\n- Overall progress percentage\n\nThis is useful for the Witness to monitor molecule execution.\n\nExample:\n  gt molecule progress gt-abc\n\n```\ngt mol progress <root-issue-id> [flags]\n``` -h, --help   help for progress\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mol squash",
      "short": "Compress molecule into a digest",
      "synopsis": "Squash the current molecule into a permanent digest.\n\nThis condenses a completed molecule's execution into a compact record.\nThe digest preserves:\n- What molecule was executed\n- When it ran\n- Summary of results\n\nUse this for patrol cycles and other operational work that should have\na permanent (but compact) record.\n\n```\ngt mol squash [target] [flags]\n```",
      "usage": "gt mol squash [target] [flags]",
      "options": "-h, --help   help for squash\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol squash Compress molecule into a digest Squash the current molecule into a permanent digest.\n\nThis condenses a completed molecule's execution into a compact record.\nThe digest preserves:\n- What molecule was executed\n- When it ran\n- Summary of results\n\nUse this for patrol cycles and other operational work that should have\na permanent (but compact) record.\n\n```\ngt mol squash [target] [flags]\n``` -h, --help   help for squash\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mol status",
      "short": "Show what's on an agent's hook",
      "synopsis": "Show what's slung on an agent's hook.\n\nIf no target is specified, shows the current agent's status based on\nthe working directory (polecat, crew member, witness, etc.).\n\nOutput includes:\n- What's slung (molecule name, associated issue)\n- Current phase and progress\n- Whether it's a wisp\n- Next action hint\n\nExamples:\n  gt mol status                       # Show current agent's hook\n  gt mol status greenplace/nux        # Show specific polecat's hook\n  gt mol status greenplace/witness    # Show witness's hook\n\n```\ngt mol status [target] [flags]\n```",
      "usage": "gt mol status [target] [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol status Show what's on an agent's hook Show what's slung on an agent's hook.\n\nIf no target is specified, shows the current agent's status based on\nthe working directory (polecat, crew member, witness, etc.).\n\nOutput includes:\n- What's slung (molecule name, associated issue)\n- Current phase and progress\n- Whether it's a wisp\n- Next action hint\n\nExamples:\n  gt mol status                       # Show current agent's hook\n  gt mol status greenplace/nux        # Show specific polecat's hook\n  gt mol status greenplace/witness    # Show witness's hook\n\n```\ngt mol status [target] [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mol step",
      "short": "Molecule step operations",
      "synopsis": "Commands for working with molecule steps.\n\nA molecule is a DAG of steps. Each step is a beads issue with the molecule root\nas its parent. Steps can have dependencies on other steps.\n\nWhen a polecat is working on a molecule, it processes one step at a time:\n1. Work on the current step\n2. When done: gt mol step done <step-id>\n3. System auto-continues to next ready step\n\nIMPORTANT: Always use 'gt mol step done' to complete steps. Do not manually\nclose steps with 'bd close' - that skips the auto-continuation logic.\n\n```\ngt mol step [flags]\n```",
      "usage": "gt mol step [flags]",
      "options": "-h, --help   help for step",
      "subcommands": [
        {
          "cmd": "gt mol step await-signal",
          "desc": "Wait for activity feed signal with timeout"
        },
        {
          "cmd": "gt mol step done",
          "desc": "Complete step and auto-continue to next"
        }
      ],
      "is_parent": true,
      "search_text": "gt mol step Molecule step operations Commands for working with molecule steps.\n\nA molecule is a DAG of steps. Each step is a beads issue with the molecule root\nas its parent. Steps can have dependencies on other steps.\n\nWhen a polecat is working on a molecule, it processes one step at a time:\n1. Work on the current step\n2. When done: gt mol step done <step-id>\n3. System auto-continues to next ready step\n\nIMPORTANT: Always use 'gt mol step done' to complete steps. Do not manually\nclose steps with 'bd close' - that skips the auto-continuation logic.\n\n```\ngt mol step [flags]\n``` -h, --help   help for step"
    },
    {
      "cmd": "gt mol step await-signal",
      "short": "Wait for activity feed signal with timeout",
      "synopsis": "Wait for any activity on the beads feed, with optional backoff.\n\nThis command is the primary wake mechanism for patrol agents. It subscribes\nto 'bd activity --follow' and returns immediately when any line of output\nis received (indicating beads activity).\n\nIf no activity occurs within the timeout, the command returns with exit code 0\nbut sets the AWAIT_SIGNAL_REASON environment variable to \"timeout\".\n\nThe timeout can be specified directly or via backoff configuration for\nexponential wait patterns.\n\nBACKOFF MODE:\nWhen backoff parameters are provided, the effective timeout is calculated as:\n  min(base * multiplier^idle_cycles, max)\n\nThe idle_cycles value is read from the agent bead's \"idle\" label, enabling\nexponential backoff that persists across invocations. When a signal is\nreceived, the caller should reset idle:0 on the agent bead.\n\nEXIT CODES:\n  0 - Signal received or timeout (check output for which)\n  1 - Error starting feed subscription\n\nEXAMPLES:\n  # Simple wait with 60s timeout\n  gt mol await-signal --timeout 60s\n\n  # Backoff mode with agent bead tracking:\n  gt mol await-signal --agent-bead gt-gastown-witness \\\n    --backoff-base 30s --backoff-mult 2 --backoff-max 5m\n\n  # On timeout, the agent bead's idle:N label is auto-incremented\n  # On signal, caller should reset: gt agent state gt-gastown-witness --set idle=0\n\n  # Quiet mode (no output, for scripting)\n  gt mol await-signal --timeout 30s --quiet\n\n```\ngt mol step await-signal [flags]\n```",
      "usage": "gt mol step await-signal [flags]",
      "options": "--agent-bead string     Agent bead ID for tracking idle cycles (reads/writes idle:N label)\n      --backoff-base string   Base interval for exponential backoff (e.g., 30s)\n      --backoff-max string    Maximum interval cap for backoff (e.g., 10m)\n      --backoff-mult int      Multiplier for exponential backoff (default: 2) (default 2)\n  -h, --help                  help for await-signal\n      --json                  Output as JSON\n      --quiet                 Suppress output (for scripting)\n      --timeout string        Maximum time to wait for signal (e.g., 30s, 5m) (default \"60s\")",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol step await-signal Wait for activity feed signal with timeout Wait for any activity on the beads feed, with optional backoff.\n\nThis command is the primary wake mechanism for patrol agents. It subscribes\nto 'bd activity --follow' and returns immediately when any line of output\nis received (indicating beads activity).\n\nIf no activity occurs within the timeout, the command returns with exit code 0\nbut sets the AWAIT_SIGNAL_REASON environment variable to \"timeout\".\n\nThe timeout can be specified directly or via backoff configuration for\nexponential wait patterns.\n\nBACKOFF MODE:\nWhen backoff parameters are provided, the effective timeout is calculated as:\n  min(base * multiplier^idle_cycles, max)\n\nThe idle_cycles value is read from the agent bead's \"idle\" label, enabling\nexponential backoff that persists across invocations. When a signal is\nreceived, the caller should reset idle:0 on the agent bead.\n\nEXIT CODES:\n  0 - Signal received or timeout (check output for which)\n  1 - Error starting feed subscription\n\nEXAMPLES:\n  # Simple wait with 60s timeout\n  gt mol await-signal --timeout 60s\n\n  # Backoff mode with agent bead tracking:\n  gt mol await-signal --agent-bead gt-gastown-witness \\\n    --backoff-base 30s --backoff-mult 2 --backoff-max 5m\n\n  # On timeout, the agent bead's idle:N label is auto-incremented\n  # On signal, caller should reset: gt agent state gt-gastown-witness --set idle=0\n\n  # Quiet mode (no output, for scripting)\n  gt mol await-signal --timeout 30s --quiet\n\n```\ngt mol step await-signal [flags]\n``` --agent-bead string     Agent bead ID for tracking idle cycles (reads/writes idle:N label)\n      --backoff-base string   Base interval for exponential backoff (e.g., 30s)\n      --backoff-max string    Maximum interval cap for backoff (e.g., 10m)\n      --backoff-mult int      Multiplier for exponential backoff (default: 2) (default 2)\n  -h, --help                  help for await-signal\n      --json                  Output as JSON\n      --quiet                 Suppress output (for scripting)\n      --timeout string        Maximum time to wait for signal (e.g., 30s, 5m) (default \"60s\")"
    },
    {
      "cmd": "gt mol step done",
      "short": "Complete step and auto-continue to next",
      "synopsis": "Complete a molecule step and automatically continue to the next ready step.\n\nThis command handles the step-to-step transition for polecats:\n\n1. Closes the completed step (bd close <step-id>)\n2. Extracts the molecule ID from the step\n3. Finds the next ready step (dependency-aware)\n4. If next step exists:\n   - Updates the hook to point to the next step\n   - Respawns the pane for a fresh session\n5. If molecule complete:\n   - Clears the hook\n   - Sends POLECAT_DONE to witness\n   - Exits the session\n\nIMPORTANT: This is the canonical way to complete molecule steps. Do NOT manually\nclose steps with 'bd close' - it skips the auto-continuation logic.\n\nExample:\n  gt mol step done gt-abc.1    # Complete step 1 of molecule gt-abc\n\n```\ngt mol step done <step-id> [flags]\n```",
      "usage": "gt mol step done <step-id> [flags]",
      "options": "-n, --dry-run   Show what would be done without executing\n  -h, --help      help for done\n      --json      Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mol step done Complete step and auto-continue to next Complete a molecule step and automatically continue to the next ready step.\n\nThis command handles the step-to-step transition for polecats:\n\n1. Closes the completed step (bd close <step-id>)\n2. Extracts the molecule ID from the step\n3. Finds the next ready step (dependency-aware)\n4. If next step exists:\n   - Updates the hook to point to the next step\n   - Respawns the pane for a fresh session\n5. If molecule complete:\n   - Clears the hook\n   - Sends POLECAT_DONE to witness\n   - Exits the session\n\nIMPORTANT: This is the canonical way to complete molecule steps. Do NOT manually\nclose steps with 'bd close' - it skips the auto-continuation logic.\n\nExample:\n  gt mol step done gt-abc.1    # Complete step 1 of molecule gt-abc\n\n```\ngt mol step done <step-id> [flags]\n``` -n, --dry-run   Show what would be done without executing\n  -h, --help      help for done\n      --json      Output as JSON"
    },
    {
      "cmd": "gt mq",
      "short": "Merge queue operations",
      "synopsis": "Manage merge requests and the merge queue for a rig.\n\nAlias: 'gt mr' is equivalent to 'gt mq' (merge request vs merge queue).\n\nThe merge queue tracks work branches from polecats waiting to be merged.\nUse these commands to view, submit, retry, and manage merge requests.\n\n```\ngt mq [flags]\n```",
      "usage": "gt mq [flags]",
      "options": "-h, --help   help for mq",
      "subcommands": [
        {
          "cmd": "gt mq integration",
          "desc": "Manage integration branches for epics"
        },
        {
          "cmd": "gt mq list",
          "desc": "Show the merge queue"
        },
        {
          "cmd": "gt mq next",
          "desc": "Show the highest-priority merge request"
        },
        {
          "cmd": "gt mq reject",
          "desc": "Reject a merge request"
        },
        {
          "cmd": "gt mq retry",
          "desc": "Retry a failed merge request"
        },
        {
          "cmd": "gt mq status",
          "desc": "Show detailed merge request status"
        },
        {
          "cmd": "gt mq submit",
          "desc": "Submit current branch to the merge queue"
        }
      ],
      "is_parent": true,
      "search_text": "gt mq Merge queue operations Manage merge requests and the merge queue for a rig.\n\nAlias: 'gt mr' is equivalent to 'gt mq' (merge request vs merge queue).\n\nThe merge queue tracks work branches from polecats waiting to be merged.\nUse these commands to view, submit, retry, and manage merge requests.\n\n```\ngt mq [flags]\n``` -h, --help   help for mq"
    },
    {
      "cmd": "gt mq integration",
      "short": "Manage integration branches for epics",
      "synopsis": "Manage integration branches for batch work on epics.\n\nIntegration branches allow multiple MRs for an epic to target a shared\nbranch instead of main. After all epic work is complete, the integration\nbranch is landed to main as a single atomic unit.\n\nCommands:\n  create  Create an integration branch for an epic\n  land    Merge integration branch to main\n  status  Show integration branch status\n\n```\ngt mq integration [flags]\n```",
      "usage": "gt mq integration [flags]",
      "options": "-h, --help   help for integration",
      "subcommands": [
        {
          "cmd": "gt mq integration create",
          "desc": "Create an integration branch for an epic"
        },
        {
          "cmd": "gt mq integration land",
          "desc": "Merge integration branch to main"
        },
        {
          "cmd": "gt mq integration status",
          "desc": "Show integration branch status for an epic"
        }
      ],
      "is_parent": true,
      "search_text": "gt mq integration Manage integration branches for epics Manage integration branches for batch work on epics.\n\nIntegration branches allow multiple MRs for an epic to target a shared\nbranch instead of main. After all epic work is complete, the integration\nbranch is landed to main as a single atomic unit.\n\nCommands:\n  create  Create an integration branch for an epic\n  land    Merge integration branch to main\n  status  Show integration branch status\n\n```\ngt mq integration [flags]\n``` -h, --help   help for integration"
    },
    {
      "cmd": "gt mq integration create",
      "short": "Create an integration branch for an epic",
      "synopsis": "Create an integration branch for batch work on an epic.\n\nCreates a branch from main and pushes it to origin. Future MRs for this\nepic's children can target this branch.\n\nBranch naming:\n  Default: integration/<epic-id>\n  Config:  Set merge_queue.integration_branch_template in rig settings\n  Override: Use --branch flag for one-off customization\n\nTemplate variables:\n  {epic}   - Full epic ID (e.g., \"RA-123\")\n  {prefix} - Epic prefix before first hyphen (e.g., \"RA\")\n  {user}   - Git user.name (e.g., \"klauern\")\n\nActions:\n  1. Verify epic exists\n  2. Create branch from main (using template or --branch)\n  3. Push to origin\n  4. Store actual branch name in epic metadata\n\nExamples:\n  gt mq integration create gt-auth-epic\n  # Creates integration/gt-auth-epic (default)\n\n  gt mq integration create RA-123 --branch \"klauern/PROJ-1234/{epic}\"\n  # Creates klauern/PROJ-1234/RA-123\n\n```\ngt mq integration create <epic-id> [flags]\n```",
      "usage": "gt mq integration create <epic-id> [flags]",
      "options": "--branch string   Override branch name template (supports {epic}, {prefix}, {user})\n  -h, --help            help for create",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mq integration create Create an integration branch for an epic Create an integration branch for batch work on an epic.\n\nCreates a branch from main and pushes it to origin. Future MRs for this\nepic's children can target this branch.\n\nBranch naming:\n  Default: integration/<epic-id>\n  Config:  Set merge_queue.integration_branch_template in rig settings\n  Override: Use --branch flag for one-off customization\n\nTemplate variables:\n  {epic}   - Full epic ID (e.g., \"RA-123\")\n  {prefix} - Epic prefix before first hyphen (e.g., \"RA\")\n  {user}   - Git user.name (e.g., \"klauern\")\n\nActions:\n  1. Verify epic exists\n  2. Create branch from main (using template or --branch)\n  3. Push to origin\n  4. Store actual branch name in epic metadata\n\nExamples:\n  gt mq integration create gt-auth-epic\n  # Creates integration/gt-auth-epic (default)\n\n  gt mq integration create RA-123 --branch \"klauern/PROJ-1234/{epic}\"\n  # Creates klauern/PROJ-1234/RA-123\n\n```\ngt mq integration create <epic-id> [flags]\n``` --branch string   Override branch name template (supports {epic}, {prefix}, {user})\n  -h, --help            help for create"
    },
    {
      "cmd": "gt mq integration land",
      "short": "Merge integration branch to main",
      "synopsis": "Merge an epic's integration branch to main.\n\nLands all work for an epic by merging its integration branch to main\nas a single atomic merge commit.\n\nActions:\n  1. Verify all MRs targeting integration/<epic> are merged\n  2. Verify integration branch exists\n  3. Merge integration/<epic> to main (--no-ff)\n  4. Run tests on main\n  5. Push to origin\n  6. Delete integration branch\n  7. Update epic status\n\nOptions:\n  --force       Land even if some MRs still open\n  --skip-tests  Skip test run\n  --dry-run     Preview only, make no changes\n\nExamples:\n  gt mq integration land gt-auth-epic\n  gt mq integration land gt-auth-epic --dry-run\n  gt mq integration land gt-auth-epic --force --skip-tests\n\n```\ngt mq integration land <epic-id> [flags]\n```",
      "usage": "gt mq integration land <epic-id> [flags]",
      "options": "--dry-run      Preview only, make no changes\n      --force        Land even if some MRs still open\n  -h, --help         help for land\n      --skip-tests   Skip test run",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mq integration land Merge integration branch to main Merge an epic's integration branch to main.\n\nLands all work for an epic by merging its integration branch to main\nas a single atomic merge commit.\n\nActions:\n  1. Verify all MRs targeting integration/<epic> are merged\n  2. Verify integration branch exists\n  3. Merge integration/<epic> to main (--no-ff)\n  4. Run tests on main\n  5. Push to origin\n  6. Delete integration branch\n  7. Update epic status\n\nOptions:\n  --force       Land even if some MRs still open\n  --skip-tests  Skip test run\n  --dry-run     Preview only, make no changes\n\nExamples:\n  gt mq integration land gt-auth-epic\n  gt mq integration land gt-auth-epic --dry-run\n  gt mq integration land gt-auth-epic --force --skip-tests\n\n```\ngt mq integration land <epic-id> [flags]\n``` --dry-run      Preview only, make no changes\n      --force        Land even if some MRs still open\n  -h, --help         help for land\n      --skip-tests   Skip test run"
    },
    {
      "cmd": "gt mq integration status",
      "short": "Show integration branch status for an epic",
      "synopsis": "Display the status of an integration branch.\n\nShows:\n  - Integration branch name and creation date\n  - Number of commits ahead of main\n  - Merged MRs (closed, targeting integration branch)\n  - Pending MRs (open, targeting integration branch)\n\nExample:\n  gt mq integration status gt-auth-epic\n\n```\ngt mq integration status <epic-id> [flags]\n```",
      "usage": "gt mq integration status <epic-id> [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mq integration status Show integration branch status for an epic Display the status of an integration branch.\n\nShows:\n  - Integration branch name and creation date\n  - Number of commits ahead of main\n  - Merged MRs (closed, targeting integration branch)\n  - Pending MRs (open, targeting integration branch)\n\nExample:\n  gt mq integration status gt-auth-epic\n\n```\ngt mq integration status <epic-id> [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mq list",
      "short": "Show the merge queue",
      "synopsis": "Show the merge queue for a rig.\n\nLists all pending merge requests waiting to be processed.\n\nOutput format:\n  ID          STATUS       PRIORITY  BRANCH                    WORKER  AGE\n  gt-mr-001   ready        P0        polecat/Nux/gp-xyz        Nux     5m\n  gt-mr-002   in_progress  P1        polecat/Toast/gt-abc      Toast   12m\n  gt-mr-003   blocked      P1        polecat/Capable/gt-def    Capable 8m\n              (waiting on gt-mr-001)\n\nExamples:\n  gt mq list greenplace\n  gt mq list greenplace --ready\n  gt mq list greenplace --status=open\n  gt mq list greenplace --worker=Nux\n\n```\ngt mq list <rig> [flags]\n```",
      "usage": "gt mq list <rig> [flags]",
      "options": "--epic string     Show MRs targeting integration/<epic>\n  -h, --help            help for list\n      --json            Output as JSON\n      --ready           Show only ready-to-merge (no blockers)\n      --status string   Filter by status (open, in_progress, closed)\n      --worker string   Filter by worker name",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mq list Show the merge queue Show the merge queue for a rig.\n\nLists all pending merge requests waiting to be processed.\n\nOutput format:\n  ID          STATUS       PRIORITY  BRANCH                    WORKER  AGE\n  gt-mr-001   ready        P0        polecat/Nux/gp-xyz        Nux     5m\n  gt-mr-002   in_progress  P1        polecat/Toast/gt-abc      Toast   12m\n  gt-mr-003   blocked      P1        polecat/Capable/gt-def    Capable 8m\n              (waiting on gt-mr-001)\n\nExamples:\n  gt mq list greenplace\n  gt mq list greenplace --ready\n  gt mq list greenplace --status=open\n  gt mq list greenplace --worker=Nux\n\n```\ngt mq list <rig> [flags]\n``` --epic string     Show MRs targeting integration/<epic>\n  -h, --help            help for list\n      --json            Output as JSON\n      --ready           Show only ready-to-merge (no blockers)\n      --status string   Filter by status (open, in_progress, closed)\n      --worker string   Filter by worker name"
    },
    {
      "cmd": "gt mq next",
      "short": "Show the highest-priority merge request",
      "synopsis": "Show the next merge request to process based on priority score.\n\nThe priority scoring function considers:\n  - Convoy age: Older convoys get higher priority (starvation prevention)\n  - Issue priority: P0 > P1 > P2 > P3 > P4\n  - Retry count: MRs that fail repeatedly get deprioritized\n  - MR age: FIFO tiebreaker for same priority/convoy\n\nUse --strategy=fifo for first-in-first-out ordering instead.\n\nExamples:\n  gt mq next gastown                    # Show highest-priority MR\n  gt mq next gastown --strategy=fifo    # Show oldest MR instead\n  gt mq next gastown --quiet            # Just print the MR ID\n  gt mq next gastown --json             # Output as JSON\n\n```\ngt mq next <rig> [flags]\n```",
      "usage": "gt mq next <rig> [flags]",
      "options": "-h, --help              help for next\n      --json              Output as JSON\n  -q, --quiet             Just print the MR ID\n      --strategy string   Ordering strategy: 'priority' or 'fifo' (default \"priority\")",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mq next Show the highest-priority merge request Show the next merge request to process based on priority score.\n\nThe priority scoring function considers:\n  - Convoy age: Older convoys get higher priority (starvation prevention)\n  - Issue priority: P0 > P1 > P2 > P3 > P4\n  - Retry count: MRs that fail repeatedly get deprioritized\n  - MR age: FIFO tiebreaker for same priority/convoy\n\nUse --strategy=fifo for first-in-first-out ordering instead.\n\nExamples:\n  gt mq next gastown                    # Show highest-priority MR\n  gt mq next gastown --strategy=fifo    # Show oldest MR instead\n  gt mq next gastown --quiet            # Just print the MR ID\n  gt mq next gastown --json             # Output as JSON\n\n```\ngt mq next <rig> [flags]\n``` -h, --help              help for next\n      --json              Output as JSON\n  -q, --quiet             Just print the MR ID\n      --strategy string   Ordering strategy: 'priority' or 'fifo' (default \"priority\")"
    },
    {
      "cmd": "gt mq reject",
      "short": "Reject a merge request",
      "synopsis": "Manually reject a merge request.\n\nThis closes the MR with a 'rejected' status without merging.\nThe source issue is NOT closed (work is not done).\n\nExamples:\n  gt mq reject greenplace polecat/Nux/gp-xyz --reason \"Does not meet requirements\"\n  gt mq reject greenplace mr-Nux-12345 --reason \"Superseded by other work\" --notify\n\n```\ngt mq reject <rig> <mr-id-or-branch> [flags]\n```",
      "usage": "gt mq reject <rig> <mr-id-or-branch> [flags]",
      "options": "-h, --help            help for reject\n      --notify          Send mail notification to worker\n  -r, --reason string   Reason for rejection (required)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mq reject Reject a merge request Manually reject a merge request.\n\nThis closes the MR with a 'rejected' status without merging.\nThe source issue is NOT closed (work is not done).\n\nExamples:\n  gt mq reject greenplace polecat/Nux/gp-xyz --reason \"Does not meet requirements\"\n  gt mq reject greenplace mr-Nux-12345 --reason \"Superseded by other work\" --notify\n\n```\ngt mq reject <rig> <mr-id-or-branch> [flags]\n``` -h, --help            help for reject\n      --notify          Send mail notification to worker\n  -r, --reason string   Reason for rejection (required)"
    },
    {
      "cmd": "gt mq retry",
      "short": "Retry a failed merge request",
      "synopsis": "Retry a failed merge request.\n\nResets a failed MR so it can be processed again by the refinery.\nThe MR must be in a failed state (open with an error).\n\nExamples:\n  gt mq retry greenplace gp-mr-abc123\n  gt mq retry greenplace gp-mr-abc123 --now\n\n```\ngt mq retry <rig> <mr-id> [flags]\n```",
      "usage": "gt mq retry <rig> <mr-id> [flags]",
      "options": "-h, --help   help for retry\n      --now    Immediately process instead of waiting for refinery loop",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mq retry Retry a failed merge request Retry a failed merge request.\n\nResets a failed MR so it can be processed again by the refinery.\nThe MR must be in a failed state (open with an error).\n\nExamples:\n  gt mq retry greenplace gp-mr-abc123\n  gt mq retry greenplace gp-mr-abc123 --now\n\n```\ngt mq retry <rig> <mr-id> [flags]\n``` -h, --help   help for retry\n      --now    Immediately process instead of waiting for refinery loop"
    },
    {
      "cmd": "gt mq status",
      "short": "Show detailed merge request status",
      "synopsis": "Display detailed information about a merge request.\n\nShows all MR fields, current status with timestamps, dependencies,\nblockers, and processing history.\n\nExample:\n  gt mq status gp-mr-abc123\n\n```\ngt mq status <id> [flags]\n```",
      "usage": "gt mq status <id> [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mq status Show detailed merge request status Display detailed information about a merge request.\n\nShows all MR fields, current status with timestamps, dependencies,\nblockers, and processing history.\n\nExample:\n  gt mq status gp-mr-abc123\n\n```\ngt mq status <id> [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt mq submit",
      "short": "Submit current branch to the merge queue",
      "synopsis": "Submit the current branch to the merge queue.\n\nCreates a merge-request bead that will be processed by the Refinery.\n\nAuto-detection:\n  - Branch: current git branch\n  - Issue: parsed from branch name (e.g., polecat/Nux/gp-xyz \u2192 gt-xyz)\n  - Worker: parsed from branch name\n  - Rig: detected from current directory\n  - Target: automatically determined (see below)\n  - Priority: inherited from source issue\n\nTarget branch auto-detection:\n  1. If --epic is specified: target integration/<epic>\n  2. If source issue has a parent epic with integration/<epic> branch: target it\n  3. Otherwise: target main\n\nThis ensures batch work on epics automatically flows to integration branches.\n\nPolecat auto-cleanup:\n  When run from a polecat work branch (polecat/<worker>/<issue>), this command\n  automatically triggers polecat shutdown after submitting the MR. The polecat\n  sends a lifecycle request to its Witness and waits for termination.\n\n  Use --no-cleanup to disable this behavior (e.g., if you want to submit\n  multiple MRs or continue working).\n\nExamples:\n  gt mq submit                           # Auto-detect everything + auto-cleanup\n  gt mq submit --issue gp-abc            # Explicit issue\n  gt mq submit --epic gt-xyz             # Target integration branch explicitly\n  gt mq submit --priority 0              # Override priority (P0)\n  gt mq submit --no-cleanup              # Submit without auto-cleanup\n\n```\ngt mq submit [flags]\n```",
      "usage": "gt mq submit [flags]",
      "options": "--branch string   Source branch (default: current branch)\n      --epic string     Target epic's integration branch instead of main\n  -h, --help            help for submit\n      --issue string    Source issue ID (default: parse from branch name)\n      --no-cleanup      Don't auto-cleanup after submit (for polecats)\n  -p, --priority int    Override priority (0-4, default: inherit from issue) (default -1)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt mq submit Submit current branch to the merge queue Submit the current branch to the merge queue.\n\nCreates a merge-request bead that will be processed by the Refinery.\n\nAuto-detection:\n  - Branch: current git branch\n  - Issue: parsed from branch name (e.g., polecat/Nux/gp-xyz \u2192 gt-xyz)\n  - Worker: parsed from branch name\n  - Rig: detected from current directory\n  - Target: automatically determined (see below)\n  - Priority: inherited from source issue\n\nTarget branch auto-detection:\n  1. If --epic is specified: target integration/<epic>\n  2. If source issue has a parent epic with integration/<epic> branch: target it\n  3. Otherwise: target main\n\nThis ensures batch work on epics automatically flows to integration branches.\n\nPolecat auto-cleanup:\n  When run from a polecat work branch (polecat/<worker>/<issue>), this command\n  automatically triggers polecat shutdown after submitting the MR. The polecat\n  sends a lifecycle request to its Witness and waits for termination.\n\n  Use --no-cleanup to disable this behavior (e.g., if you want to submit\n  multiple MRs or continue working).\n\nExamples:\n  gt mq submit                           # Auto-detect everything + auto-cleanup\n  gt mq submit --issue gp-abc            # Explicit issue\n  gt mq submit --epic gt-xyz             # Target integration branch explicitly\n  gt mq submit --priority 0              # Override priority (P0)\n  gt mq submit --no-cleanup              # Submit without auto-cleanup\n\n```\ngt mq submit [flags]\n``` --branch string   Source branch (default: current branch)\n      --epic string     Target epic's integration branch instead of main\n  -h, --help            help for submit\n      --issue string    Source issue ID (default: parse from branch name)\n      --no-cleanup      Don't auto-cleanup after submit (for polecats)\n  -p, --priority int    Override priority (0-4, default: inherit from issue) (default -1)"
    },
    {
      "cmd": "gt namepool",
      "short": "Manage polecat name pools",
      "synopsis": "Manage themed name pools for polecats in Gas Town.\n\nBy default, polecats get themed names from the Mad Max universe\n(furiosa, nux, slit, etc.). You can change the theme or add custom names.\n\nExamples:\n  gt namepool              # Show current pool status\n  gt namepool --list       # List available themes\n  gt namepool themes       # Show theme names\n  gt namepool set minerals # Set theme to 'minerals'\n  gt namepool add ember    # Add custom name to pool\n  gt namepool reset        # Reset pool state\n\n```\ngt namepool [flags]\n```",
      "usage": "gt namepool [flags]",
      "options": "-h, --help   help for namepool\n  -l, --list   List available themes",
      "subcommands": [
        {
          "cmd": "gt namepool add",
          "desc": "Add a custom name to the pool"
        },
        {
          "cmd": "gt namepool reset",
          "desc": "Reset the pool state (release all names)"
        },
        {
          "cmd": "gt namepool set",
          "desc": "Set the namepool theme for this rig"
        },
        {
          "cmd": "gt namepool themes",
          "desc": "List available themes and their names"
        }
      ],
      "is_parent": true,
      "search_text": "gt namepool Manage polecat name pools Manage themed name pools for polecats in Gas Town.\n\nBy default, polecats get themed names from the Mad Max universe\n(furiosa, nux, slit, etc.). You can change the theme or add custom names.\n\nExamples:\n  gt namepool              # Show current pool status\n  gt namepool --list       # List available themes\n  gt namepool themes       # Show theme names\n  gt namepool set minerals # Set theme to 'minerals'\n  gt namepool add ember    # Add custom name to pool\n  gt namepool reset        # Reset pool state\n\n```\ngt namepool [flags]\n``` -h, --help   help for namepool\n  -l, --list   List available themes"
    },
    {
      "cmd": "gt namepool add",
      "short": "Add a custom name to the pool",
      "synopsis": "",
      "usage": "gt namepool add <name> [flags]",
      "options": "-h, --help   help for add",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt namepool add Add a custom name to the pool  -h, --help   help for add"
    },
    {
      "cmd": "gt namepool reset",
      "short": "Reset the pool state (release all names)",
      "synopsis": "",
      "usage": "gt namepool reset [flags]",
      "options": "-h, --help   help for reset",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt namepool reset Reset the pool state (release all names)  -h, --help   help for reset"
    },
    {
      "cmd": "gt namepool set",
      "short": "Set the namepool theme for this rig",
      "synopsis": "",
      "usage": "gt namepool set <theme> [flags]",
      "options": "-h, --help   help for set",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt namepool set Set the namepool theme for this rig  -h, --help   help for set"
    },
    {
      "cmd": "gt namepool themes",
      "short": "List available themes and their names",
      "synopsis": "",
      "usage": "gt namepool themes [theme] [flags]",
      "options": "-h, --help   help for themes",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt namepool themes List available themes and their names  -h, --help   help for themes"
    },
    {
      "cmd": "gt notify",
      "short": "Set notification level",
      "synopsis": "Control the notification level for the current agent.\n\nNotification levels:\n  verbose  All notifications (mail, convoy events, status updates)\n  normal   Important notifications only (default)\n  muted    Silent/DND mode - batch notifications for later\n\nWithout arguments, shows the current notification level.\n\nExamples:\n  gt notify           # Show current level\n  gt notify verbose   # Enable all notifications\n  gt notify normal    # Default notification level\n  gt notify muted     # Enable DND mode\n\nRelated: gt dnd - quick toggle for DND mode\n\n```\ngt notify [verbose|normal|muted] [flags]\n```",
      "usage": "gt notify [verbose|normal|muted] [flags]",
      "options": "-h, --help   help for notify",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt notify Set notification level Control the notification level for the current agent.\n\nNotification levels:\n  verbose  All notifications (mail, convoy events, status updates)\n  normal   Important notifications only (default)\n  muted    Silent/DND mode - batch notifications for later\n\nWithout arguments, shows the current notification level.\n\nExamples:\n  gt notify           # Show current level\n  gt notify verbose   # Enable all notifications\n  gt notify normal    # Default notification level\n  gt notify muted     # Enable DND mode\n\nRelated: gt dnd - quick toggle for DND mode\n\n```\ngt notify [verbose|normal|muted] [flags]\n``` -h, --help   help for notify"
    },
    {
      "cmd": "gt nudge",
      "short": "Send a synchronous message to any Gas Town worker",
      "synopsis": "Universal synchronous messaging API for Gas Town worker-to-worker communication.\n\nDelivers a message directly to any worker's Claude Code session: polecats, crew,\nwitness, refinery, mayor, or deacon. Use this for real-time coordination when\nyou need immediate attention from another worker.\n\nUses a reliable delivery pattern:\n1. Sends text in literal mode (-l flag)\n2. Waits 500ms for paste to complete\n3. Sends Enter as a separate command\n\nThis is the ONLY way to send messages to Claude sessions.\nDo not use raw tmux send-keys elsewhere.\n\nRole shortcuts (expand to session names):\n  mayor     Maps to gt-mayor\n  deacon    Maps to gt-deacon\n  witness   Maps to gt-<rig>-witness (uses current rig)\n  refinery  Maps to gt-<rig>-refinery (uses current rig)\n\nChannel syntax:\n  channel:<name>  Nudges all members of a named channel defined in\n                  ~/gt/config/messaging.json under \"nudge_channels\".\n                  Patterns like \"gastown/polecats/*\" are expanded.\n\nDND (Do Not Disturb):\n  If the target has DND enabled (gt dnd on), the nudge is skipped.\n  Use --force to override DND and send anyway.\n\nExamples:\n  gt nudge greenplace/furiosa \"Check your mail and start working\"\n  gt nudge greenplace/alpha -m \"What's your status?\"\n  gt nudge mayor \"Status update requested\"\n  gt nudge witness \"Check polecat health\"\n  gt nudge deacon session-started\n  gt nudge channel:workers \"New priority work available\"\n\n```\ngt nudge <target> [message] [flags]\n```",
      "usage": "gt nudge <target> [message] [flags]",
      "options": "-f, --force            Send even if target has DND enabled\n  -h, --help             help for nudge\n  -m, --message string   Message to send",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt nudge Send a synchronous message to any Gas Town worker Universal synchronous messaging API for Gas Town worker-to-worker communication.\n\nDelivers a message directly to any worker's Claude Code session: polecats, crew,\nwitness, refinery, mayor, or deacon. Use this for real-time coordination when\nyou need immediate attention from another worker.\n\nUses a reliable delivery pattern:\n1. Sends text in literal mode (-l flag)\n2. Waits 500ms for paste to complete\n3. Sends Enter as a separate command\n\nThis is the ONLY way to send messages to Claude sessions.\nDo not use raw tmux send-keys elsewhere.\n\nRole shortcuts (expand to session names):\n  mayor     Maps to gt-mayor\n  deacon    Maps to gt-deacon\n  witness   Maps to gt-<rig>-witness (uses current rig)\n  refinery  Maps to gt-<rig>-refinery (uses current rig)\n\nChannel syntax:\n  channel:<name>  Nudges all members of a named channel defined in\n                  ~/gt/config/messaging.json under \"nudge_channels\".\n                  Patterns like \"gastown/polecats/*\" are expanded.\n\nDND (Do Not Disturb):\n  If the target has DND enabled (gt dnd on), the nudge is skipped.\n  Use --force to override DND and send anyway.\n\nExamples:\n  gt nudge greenplace/furiosa \"Check your mail and start working\"\n  gt nudge greenplace/alpha -m \"What's your status?\"\n  gt nudge mayor \"Status update requested\"\n  gt nudge witness \"Check polecat health\"\n  gt nudge deacon session-started\n  gt nudge channel:workers \"New priority work available\"\n\n```\ngt nudge <target> [message] [flags]\n``` -f, --force            Send even if target has DND enabled\n  -h, --help             help for nudge\n  -m, --message string   Message to send"
    },
    {
      "cmd": "gt orphans",
      "short": "Find lost polecat work",
      "synopsis": "Find orphaned commits that were never merged to main.\n\nPolecat work can get lost when:\n- Session killed before merge\n- Refinery fails to process\n- Network issues during push\n\nThis command uses 'git fsck --unreachable' to find dangling commits,\nfilters to recent ones, and shows details to help recovery.\n\nExamples:\n  gt orphans              # Last 7 days (default)\n  gt orphans --days=14    # Last 2 weeks\n  gt orphans --all        # Show all orphans (no date filter)\n\n```\ngt orphans [flags]\n```",
      "usage": "gt orphans [flags]",
      "options": "--all        Show all orphans (no date filter)\n      --days int   Show orphans from last N days (default 7)\n  -h, --help       help for orphans",
      "subcommands": [
        {
          "cmd": "gt orphans kill",
          "desc": "Remove all orphans (commits and processes)"
        },
        {
          "cmd": "gt orphans procs",
          "desc": "Manage orphaned Claude processes"
        }
      ],
      "is_parent": true,
      "search_text": "gt orphans Find lost polecat work Find orphaned commits that were never merged to main.\n\nPolecat work can get lost when:\n- Session killed before merge\n- Refinery fails to process\n- Network issues during push\n\nThis command uses 'git fsck --unreachable' to find dangling commits,\nfilters to recent ones, and shows details to help recovery.\n\nExamples:\n  gt orphans              # Last 7 days (default)\n  gt orphans --days=14    # Last 2 weeks\n  gt orphans --all        # Show all orphans (no date filter)\n\n```\ngt orphans [flags]\n``` --all        Show all orphans (no date filter)\n      --days int   Show orphans from last N days (default 7)\n  -h, --help       help for orphans"
    },
    {
      "cmd": "gt orphans kill",
      "short": "Remove all orphans (commits and processes)",
      "synopsis": "Remove orphaned commits and kill orphaned Claude processes.\n\nThis command performs a complete orphan cleanup:\n1. Finds and removes orphaned commits via 'git gc --prune=now'\n2. Finds and kills orphaned Claude processes (PPID=1)\n\nWARNING: This operation is irreversible. Once commits are pruned,\nthey cannot be recovered.\n\nThe command will:\n1. Find orphaned commits (same as 'gt orphans')\n2. Find orphaned Claude processes (same as 'gt orphans procs')\n3. Show what will be removed/killed\n4. Ask for confirmation (unless --force)\n5. Run git gc and kill processes\n\nExamples:\n  gt orphans kill              # Kill orphans from last 7 days (default)\n  gt orphans kill --days=14    # Kill orphans from last 2 weeks\n  gt orphans kill --all        # Kill all orphans\n  gt orphans kill --dry-run    # Preview without deleting\n  gt orphans kill --force      # Skip confirmation prompt\n\n```\ngt orphans kill [flags]\n```",
      "usage": "gt orphans kill [flags]",
      "options": "--all        Kill all orphans (no date filter)\n      --days int   Kill orphans from last N days (default 7)\n      --dry-run    Preview without deleting\n      --force      Skip confirmation prompt\n  -h, --help       help for kill",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt orphans kill Remove all orphans (commits and processes) Remove orphaned commits and kill orphaned Claude processes.\n\nThis command performs a complete orphan cleanup:\n1. Finds and removes orphaned commits via 'git gc --prune=now'\n2. Finds and kills orphaned Claude processes (PPID=1)\n\nWARNING: This operation is irreversible. Once commits are pruned,\nthey cannot be recovered.\n\nThe command will:\n1. Find orphaned commits (same as 'gt orphans')\n2. Find orphaned Claude processes (same as 'gt orphans procs')\n3. Show what will be removed/killed\n4. Ask for confirmation (unless --force)\n5. Run git gc and kill processes\n\nExamples:\n  gt orphans kill              # Kill orphans from last 7 days (default)\n  gt orphans kill --days=14    # Kill orphans from last 2 weeks\n  gt orphans kill --all        # Kill all orphans\n  gt orphans kill --dry-run    # Preview without deleting\n  gt orphans kill --force      # Skip confirmation prompt\n\n```\ngt orphans kill [flags]\n``` --all        Kill all orphans (no date filter)\n      --days int   Kill orphans from last N days (default 7)\n      --dry-run    Preview without deleting\n      --force      Skip confirmation prompt\n  -h, --help       help for kill"
    },
    {
      "cmd": "gt orphans procs",
      "short": "Manage orphaned Claude processes",
      "synopsis": "Find and kill Claude processes that have become orphaned (PPID=1).\n\nThese are processes that survived session termination and are now\nparented to init/launchd. They consume resources and should be killed.\n\nUse --aggressive to detect ALL orphaned Claude processes by cross-referencing\nagainst active tmux sessions. Any Claude process NOT in a gt-* or hq-* session\nis considered an orphan. This catches processes that have been reparented to\nsomething other than init (PPID != 1).\n\nExamples:\n  gt orphans procs              # List orphaned Claude processes (PPID=1 only)\n  gt orphans procs list         # Same as above\n  gt orphans procs --aggressive # List ALL orphaned processes (tmux verification)\n  gt orphans procs kill         # Kill orphaned processes\n\n```\ngt orphans procs [flags]\n```",
      "usage": "gt orphans procs [flags]",
      "options": "--aggressive   Use tmux session verification to find ALL orphans (not just PPID=1)\n  -h, --help         help for procs",
      "subcommands": [
        {
          "cmd": "gt orphans procs kill",
          "desc": "Kill orphaned Claude processes"
        },
        {
          "cmd": "gt orphans procs list",
          "desc": "List orphaned Claude processes"
        }
      ],
      "is_parent": true,
      "search_text": "gt orphans procs Manage orphaned Claude processes Find and kill Claude processes that have become orphaned (PPID=1).\n\nThese are processes that survived session termination and are now\nparented to init/launchd. They consume resources and should be killed.\n\nUse --aggressive to detect ALL orphaned Claude processes by cross-referencing\nagainst active tmux sessions. Any Claude process NOT in a gt-* or hq-* session\nis considered an orphan. This catches processes that have been reparented to\nsomething other than init (PPID != 1).\n\nExamples:\n  gt orphans procs              # List orphaned Claude processes (PPID=1 only)\n  gt orphans procs list         # Same as above\n  gt orphans procs --aggressive # List ALL orphaned processes (tmux verification)\n  gt orphans procs kill         # Kill orphaned processes\n\n```\ngt orphans procs [flags]\n``` --aggressive   Use tmux session verification to find ALL orphans (not just PPID=1)\n  -h, --help         help for procs"
    },
    {
      "cmd": "gt orphans procs kill",
      "short": "Kill orphaned Claude processes",
      "synopsis": "Kill Claude processes that have become orphaned (PPID=1).\n\nWithout flags, prompts for confirmation before killing.\nUse -f/--force to kill without confirmation.\nUse --aggressive to kill ALL orphaned processes (not just PPID=1).\n\nExamples:\n  gt orphans procs kill             # Kill with confirmation\n  gt orphans procs kill -f          # Force kill without confirmation\n  gt orphans procs kill --aggressive # Kill ALL orphans (tmux verification)\n\n```\ngt orphans procs kill [flags]\n```",
      "usage": "gt orphans procs kill [flags]",
      "options": "-f, --force   Kill without confirmation\n  -h, --help    help for kill",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt orphans procs kill Kill orphaned Claude processes Kill Claude processes that have become orphaned (PPID=1).\n\nWithout flags, prompts for confirmation before killing.\nUse -f/--force to kill without confirmation.\nUse --aggressive to kill ALL orphaned processes (not just PPID=1).\n\nExamples:\n  gt orphans procs kill             # Kill with confirmation\n  gt orphans procs kill -f          # Force kill without confirmation\n  gt orphans procs kill --aggressive # Kill ALL orphans (tmux verification)\n\n```\ngt orphans procs kill [flags]\n``` -f, --force   Kill without confirmation\n  -h, --help    help for kill"
    },
    {
      "cmd": "gt orphans procs list",
      "short": "List orphaned Claude processes",
      "synopsis": "List Claude processes that have become orphaned (PPID=1).\n\nThese are processes that survived session termination and are now\nparented to init/launchd. They consume resources and should be killed.\n\nUse --aggressive to detect ALL orphaned Claude processes by cross-referencing\nagainst active tmux sessions. Any Claude process NOT in a gt-* or hq-* session\nis considered an orphan.\n\nExcludes:\n- tmux server processes\n- Claude.app desktop application processes\n\nExamples:\n  gt orphans procs list             # Show orphans with PPID=1\n  gt orphans procs list --aggressive # Show ALL orphans (tmux verification)\n\n```\ngt orphans procs list [flags]\n```",
      "usage": "gt orphans procs list [flags]",
      "options": "-h, --help   help for list",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt orphans procs list List orphaned Claude processes List Claude processes that have become orphaned (PPID=1).\n\nThese are processes that survived session termination and are now\nparented to init/launchd. They consume resources and should be killed.\n\nUse --aggressive to detect ALL orphaned Claude processes by cross-referencing\nagainst active tmux sessions. Any Claude process NOT in a gt-* or hq-* session\nis considered an orphan.\n\nExcludes:\n- tmux server processes\n- Claude.app desktop application processes\n\nExamples:\n  gt orphans procs list             # Show orphans with PPID=1\n  gt orphans procs list --aggressive # Show ALL orphans (tmux verification)\n\n```\ngt orphans procs list [flags]\n``` -h, --help   help for list"
    },
    {
      "cmd": "gt park",
      "short": "Park work on a gate for async resumption",
      "synopsis": "Park current work on a gate, allowing the agent to exit safely.\n\nWhen you need to wait for an external condition (timer, CI, human approval),\npark your work on a gate. When the gate closes, you'll receive wake mail.\n\nThe park command:\n  1. Saves your current hook state (molecule/bead you're working on)\n  2. Adds you as a waiter on the gate\n  3. Stores context notes in the parked state\n\nAfter parking, you can exit the session safely. Use 'gt resume' to check\nfor cleared gates and continue work.\n\nExamples:\n  # Create a timer gate and park work on it\n  bd gate create --await timer:30m --title \"Coffee break\"\n  gt park <gate-id> -m \"Taking a break, will resume auth work\"\n\n  # Park on a human approval gate\n  bd gate create --await human:deploy-approval --notify ops/\n  gt park <gate-id> -m \"Deploy staged, awaiting approval\"\n\n  # Park on a GitHub Actions gate\n  bd gate create --await gh:run:123456789\n  gt park <gate-id> -m \"Waiting for CI to complete\"\n\n```\ngt park <gate-id> [flags]\n```",
      "usage": "gt park <gate-id> [flags]",
      "options": "-n, --dry-run          Show what would be done without executing\n  -h, --help             help for park\n  -m, --message string   Context notes for resumption",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt park Park work on a gate for async resumption Park current work on a gate, allowing the agent to exit safely.\n\nWhen you need to wait for an external condition (timer, CI, human approval),\npark your work on a gate. When the gate closes, you'll receive wake mail.\n\nThe park command:\n  1. Saves your current hook state (molecule/bead you're working on)\n  2. Adds you as a waiter on the gate\n  3. Stores context notes in the parked state\n\nAfter parking, you can exit the session safely. Use 'gt resume' to check\nfor cleared gates and continue work.\n\nExamples:\n  # Create a timer gate and park work on it\n  bd gate create --await timer:30m --title \"Coffee break\"\n  gt park <gate-id> -m \"Taking a break, will resume auth work\"\n\n  # Park on a human approval gate\n  bd gate create --await human:deploy-approval --notify ops/\n  gt park <gate-id> -m \"Deploy staged, awaiting approval\"\n\n  # Park on a GitHub Actions gate\n  bd gate create --await gh:run:123456789\n  gt park <gate-id> -m \"Waiting for CI to complete\"\n\n```\ngt park <gate-id> [flags]\n``` -n, --dry-run          Show what would be done without executing\n  -h, --help             help for park\n  -m, --message string   Context notes for resumption"
    },
    {
      "cmd": "gt patrol",
      "short": "Patrol digest management",
      "synopsis": "Manage patrol cycle digests.\n\nPatrol cycles (Deacon, Witness, Refinery) create ephemeral per-cycle digests\nto avoid JSONL pollution. This command aggregates them into daily summaries.\n\nExamples:\n  gt patrol digest --yesterday  # Aggregate yesterday's patrol digests\n  gt patrol digest --dry-run    # Preview what would be aggregated",
      "usage": "-h, --help   help for patrol",
      "options": "-h, --help   help for patrol",
      "subcommands": [
        {
          "cmd": "gt patrol digest",
          "desc": "Aggregate patrol cycle digests into a daily summary bead"
        }
      ],
      "is_parent": true,
      "search_text": "gt patrol Patrol digest management Manage patrol cycle digests.\n\nPatrol cycles (Deacon, Witness, Refinery) create ephemeral per-cycle digests\nto avoid JSONL pollution. This command aggregates them into daily summaries.\n\nExamples:\n  gt patrol digest --yesterday  # Aggregate yesterday's patrol digests\n  gt patrol digest --dry-run    # Preview what would be aggregated -h, --help   help for patrol"
    },
    {
      "cmd": "gt patrol digest",
      "short": "Aggregate patrol cycle digests into a daily summary bead",
      "synopsis": "Aggregate ephemeral patrol cycle digests into a permanent daily summary.\n\nThis command is intended to be run by Deacon patrol (daily) or manually.\nIt queries patrol digests for a target date, creates a single aggregate\n\"Patrol Report YYYY-MM-DD\" bead, then deletes the source digests.\n\nThe resulting digest bead is permanent (exported to JSONL, synced via git)\nand provides an audit trail without per-cycle pollution.\n\nExamples:\n  gt patrol digest --yesterday   # Digest yesterday's patrols (for daily patrol)\n  gt patrol digest --date 2026-01-15\n  gt patrol digest --yesterday --dry-run\n\n```\ngt patrol digest [flags]\n```",
      "usage": "gt patrol digest [flags]",
      "options": "--date string   Digest patrol cycles for specific date (YYYY-MM-DD)\n      --dry-run       Preview what would be created without creating\n  -h, --help          help for digest\n  -v, --verbose       Verbose output\n      --yesterday     Digest yesterday's patrol cycles",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt patrol digest Aggregate patrol cycle digests into a daily summary bead Aggregate ephemeral patrol cycle digests into a permanent daily summary.\n\nThis command is intended to be run by Deacon patrol (daily) or manually.\nIt queries patrol digests for a target date, creates a single aggregate\n\"Patrol Report YYYY-MM-DD\" bead, then deletes the source digests.\n\nThe resulting digest bead is permanent (exported to JSONL, synced via git)\nand provides an audit trail without per-cycle pollution.\n\nExamples:\n  gt patrol digest --yesterday   # Digest yesterday's patrols (for daily patrol)\n  gt patrol digest --date 2026-01-15\n  gt patrol digest --yesterday --dry-run\n\n```\ngt patrol digest [flags]\n``` --date string   Digest patrol cycles for specific date (YYYY-MM-DD)\n      --dry-run       Preview what would be created without creating\n  -h, --help          help for digest\n  -v, --verbose       Verbose output\n      --yesterday     Digest yesterday's patrol cycles"
    },
    {
      "cmd": "gt peek",
      "short": "View recent output from a polecat or crew session",
      "synopsis": "Capture and display recent terminal output from an agent session.\n\nThis is the ergonomic alias for 'gt session capture'. Use it to check\nwhat an agent is currently doing or has recently output.\n\nThe nudge/peek pair provides the canonical interface for agent sessions:\n  gt nudge - send messages TO a session (reliable delivery)\n  gt peek  - read output FROM a session (capture-pane wrapper)\n\nSupports both polecats and crew workers:\n  - Polecats: rig/name format (e.g., greenplace/furiosa)\n  - Crew: rig/crew/name format (e.g., beads/crew/dave)\n\nExamples:\n  gt peek greenplace/furiosa         # Polecat: last 100 lines (default)\n  gt peek greenplace/furiosa 50      # Polecat: last 50 lines\n  gt peek beads/crew/dave            # Crew: last 100 lines\n  gt peek beads/crew/dave -n 200     # Crew: last 200 lines\n\n```\ngt peek <rig/polecat> [count] [flags]\n```",
      "usage": "gt peek <rig/polecat> [count] [flags]",
      "options": "-h, --help        help for peek\n  -n, --lines int   Number of lines to capture (default 100)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt peek View recent output from a polecat or crew session Capture and display recent terminal output from an agent session.\n\nThis is the ergonomic alias for 'gt session capture'. Use it to check\nwhat an agent is currently doing or has recently output.\n\nThe nudge/peek pair provides the canonical interface for agent sessions:\n  gt nudge - send messages TO a session (reliable delivery)\n  gt peek  - read output FROM a session (capture-pane wrapper)\n\nSupports both polecats and crew workers:\n  - Polecats: rig/name format (e.g., greenplace/furiosa)\n  - Crew: rig/crew/name format (e.g., beads/crew/dave)\n\nExamples:\n  gt peek greenplace/furiosa         # Polecat: last 100 lines (default)\n  gt peek greenplace/furiosa 50      # Polecat: last 50 lines\n  gt peek beads/crew/dave            # Crew: last 100 lines\n  gt peek beads/crew/dave -n 200     # Crew: last 200 lines\n\n```\ngt peek <rig/polecat> [count] [flags]\n``` -h, --help        help for peek\n  -n, --lines int   Number of lines to capture (default 100)"
    },
    {
      "cmd": "gt plugin",
      "short": "Plugin management",
      "synopsis": "Manage plugins that run during Deacon patrol cycles.\n\nPlugins are periodic automation tasks defined by plugin.md files with TOML frontmatter.\n\nPLUGIN LOCATIONS:\n  ~/gt/plugins/           Town-level plugins (universal, apply everywhere)\n  <rig>/plugins/          Rig-level plugins (project-specific)\n\nGATE TYPES:\n  cooldown    Run if enough time has passed (e.g., 1h)\n  cron        Run on a schedule (e.g., \"0 9 * * *\")\n  condition   Run if a check command returns exit 0\n  event       Run on events (e.g., startup)\n  manual      Never auto-run, trigger explicitly\n\nExamples:\n  gt plugin list                    # List all discovered plugins\n  gt plugin show <name>             # Show plugin details\n  gt plugin list --json             # JSON output\n\n```\ngt plugin [flags]\n```",
      "usage": "gt plugin [flags]",
      "options": "-h, --help   help for plugin",
      "subcommands": [
        {
          "cmd": "gt plugin history",
          "desc": "Show plugin execution history"
        },
        {
          "cmd": "gt plugin list",
          "desc": "List all discovered plugins"
        },
        {
          "cmd": "gt plugin run",
          "desc": "Manually trigger plugin execution"
        },
        {
          "cmd": "gt plugin show",
          "desc": "Show plugin details"
        }
      ],
      "is_parent": true,
      "search_text": "gt plugin Plugin management Manage plugins that run during Deacon patrol cycles.\n\nPlugins are periodic automation tasks defined by plugin.md files with TOML frontmatter.\n\nPLUGIN LOCATIONS:\n  ~/gt/plugins/           Town-level plugins (universal, apply everywhere)\n  <rig>/plugins/          Rig-level plugins (project-specific)\n\nGATE TYPES:\n  cooldown    Run if enough time has passed (e.g., 1h)\n  cron        Run on a schedule (e.g., \"0 9 * * *\")\n  condition   Run if a check command returns exit 0\n  event       Run on events (e.g., startup)\n  manual      Never auto-run, trigger explicitly\n\nExamples:\n  gt plugin list                    # List all discovered plugins\n  gt plugin show <name>             # Show plugin details\n  gt plugin list --json             # JSON output\n\n```\ngt plugin [flags]\n``` -h, --help   help for plugin"
    },
    {
      "cmd": "gt plugin history",
      "short": "Show plugin execution history",
      "synopsis": "Show recent execution history for a plugin.\n\nQueries ephemeral beads (wisps) that record plugin runs.\n\nExamples:\n  gt plugin history rebuild-gt\n  gt plugin history rebuild-gt --json\n  gt plugin history rebuild-gt --limit 20\n\n```\ngt plugin history <name> [flags]\n```",
      "usage": "gt plugin history <name> [flags]",
      "options": "-h, --help        help for history\n      --json        Output as JSON\n      --limit int   Maximum number of runs to show (default 10)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt plugin history Show plugin execution history Show recent execution history for a plugin.\n\nQueries ephemeral beads (wisps) that record plugin runs.\n\nExamples:\n  gt plugin history rebuild-gt\n  gt plugin history rebuild-gt --json\n  gt plugin history rebuild-gt --limit 20\n\n```\ngt plugin history <name> [flags]\n``` -h, --help        help for history\n      --json        Output as JSON\n      --limit int   Maximum number of runs to show (default 10)"
    },
    {
      "cmd": "gt plugin list",
      "short": "List all discovered plugins",
      "synopsis": "List all plugins from town and rig plugin directories.\n\nPlugins are discovered from:\n  - ~/gt/plugins/ (town-level)\n  - <rig>/plugins/ for each registered rig\n\nWhen a plugin exists at both levels, the rig-level version takes precedence.\n\nExamples:\n  gt plugin list              # Human-readable output\n  gt plugin list --json       # JSON output for scripting\n\n```\ngt plugin list [flags]\n```",
      "usage": "gt plugin list [flags]",
      "options": "-h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt plugin list List all discovered plugins List all plugins from town and rig plugin directories.\n\nPlugins are discovered from:\n  - ~/gt/plugins/ (town-level)\n  - <rig>/plugins/ for each registered rig\n\nWhen a plugin exists at both levels, the rig-level version takes precedence.\n\nExamples:\n  gt plugin list              # Human-readable output\n  gt plugin list --json       # JSON output for scripting\n\n```\ngt plugin list [flags]\n``` -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt plugin run",
      "short": "Manually trigger plugin execution",
      "synopsis": "Manually trigger a plugin to run.\n\nBy default, checks if the gate would allow execution and informs you\nif it wouldn't. Use --force to bypass gate checks.\n\nExamples:\n  gt plugin run rebuild-gt              # Run if gate allows\n  gt plugin run rebuild-gt --force      # Bypass gate check\n  gt plugin run rebuild-gt --dry-run    # Show what would happen\n\n```\ngt plugin run <name> [flags]\n```",
      "usage": "gt plugin run <name> [flags]",
      "options": "--dry-run   Show what would happen without executing\n      --force     Bypass gate check\n  -h, --help      help for run",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt plugin run Manually trigger plugin execution Manually trigger a plugin to run.\n\nBy default, checks if the gate would allow execution and informs you\nif it wouldn't. Use --force to bypass gate checks.\n\nExamples:\n  gt plugin run rebuild-gt              # Run if gate allows\n  gt plugin run rebuild-gt --force      # Bypass gate check\n  gt plugin run rebuild-gt --dry-run    # Show what would happen\n\n```\ngt plugin run <name> [flags]\n``` --dry-run   Show what would happen without executing\n      --force     Bypass gate check\n  -h, --help      help for run"
    },
    {
      "cmd": "gt plugin show",
      "short": "Show plugin details",
      "synopsis": "Show detailed information about a plugin.\n\nDisplays the plugin's configuration, gate settings, and instructions.\n\nExamples:\n  gt plugin show rebuild-gt\n  gt plugin show rebuild-gt --json\n\n```\ngt plugin show <name> [flags]\n```",
      "usage": "gt plugin show <name> [flags]",
      "options": "-h, --help   help for show\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt plugin show Show plugin details Show detailed information about a plugin.\n\nDisplays the plugin's configuration, gate settings, and instructions.\n\nExamples:\n  gt plugin show rebuild-gt\n  gt plugin show rebuild-gt --json\n\n```\ngt plugin show <name> [flags]\n``` -h, --help   help for show\n      --json   Output as JSON"
    },
    {
      "cmd": "gt polecat",
      "short": "Manage polecats (ephemeral workers, one task then nuked)",
      "synopsis": "Manage polecat lifecycle in rigs.\n\nPolecats are EPHEMERAL workers: spawned for one task, nuked when done.\nThere is NO idle state. A polecat is either:\n  - Working: Actively doing assigned work\n  - Stalled: Session crashed mid-work (needs Witness intervention)\n  - Zombie: Finished but gt done failed (needs cleanup)\n\nSelf-cleaning model: When work completes, the polecat runs 'gt done',\nwhich pushes the branch, submits to the merge queue, and exits. The\nWitness then nukes the sandbox. Polecats don't wait for more work.\n\nSession vs sandbox: The Claude session cycles frequently (handoffs,\ncompaction). The git worktree (sandbox) persists until nuke. Work\nsurvives session restarts.\n\nCats build features. Dogs clean up messes.\n\n```\ngt polecat [flags]\n```",
      "usage": "gt polecat [flags]",
      "options": "-h, --help   help for polecat",
      "subcommands": [
        {
          "cmd": "gt polecat check-recovery",
          "desc": "Check if polecat needs recovery vs safe to nuke"
        },
        {
          "cmd": "gt polecat gc",
          "desc": "Garbage collect stale polecat branches"
        },
        {
          "cmd": "gt polecat git-state",
          "desc": "Show git state for pre-kill verification"
        },
        {
          "cmd": "gt polecat identity",
          "desc": "Manage polecat identities"
        },
        {
          "cmd": "gt polecat list",
          "desc": "List polecats in a rig"
        },
        {
          "cmd": "gt polecat nuke",
          "desc": "Completely destroy a polecat (session, worktree, branch, agent bead)"
        },
        {
          "cmd": "gt polecat remove",
          "desc": "Remove polecats from a rig"
        },
        {
          "cmd": "gt polecat stale",
          "desc": "Detect stale polecats that may need cleanup"
        },
        {
          "cmd": "gt polecat status",
          "desc": "Show detailed status for a polecat"
        },
        {
          "cmd": "gt polecat sync",
          "desc": "Sync beads for a polecat (deprecated with Dolt backend)"
        }
      ],
      "is_parent": true,
      "search_text": "gt polecat Manage polecats (ephemeral workers, one task then nuked) Manage polecat lifecycle in rigs.\n\nPolecats are EPHEMERAL workers: spawned for one task, nuked when done.\nThere is NO idle state. A polecat is either:\n  - Working: Actively doing assigned work\n  - Stalled: Session crashed mid-work (needs Witness intervention)\n  - Zombie: Finished but gt done failed (needs cleanup)\n\nSelf-cleaning model: When work completes, the polecat runs 'gt done',\nwhich pushes the branch, submits to the merge queue, and exits. The\nWitness then nukes the sandbox. Polecats don't wait for more work.\n\nSession vs sandbox: The Claude session cycles frequently (handoffs,\ncompaction). The git worktree (sandbox) persists until nuke. Work\nsurvives session restarts.\n\nCats build features. Dogs clean up messes.\n\n```\ngt polecat [flags]\n``` -h, --help   help for polecat"
    },
    {
      "cmd": "gt polecat check-recovery",
      "short": "Check if polecat needs recovery vs safe to nuke",
      "synopsis": "Check recovery status of a polecat based on cleanup_status in agent bead.\n\nUsed by the Witness to determine appropriate cleanup action:\n  - SAFE_TO_NUKE: cleanup_status is 'clean' - no work at risk\n  - NEEDS_RECOVERY: cleanup_status indicates unpushed/uncommitted work\n\nThis prevents accidental data loss when cleaning up dormant polecats.\nThe Witness should escalate NEEDS_RECOVERY cases to the Mayor.\n\nExamples:\n  gt polecat check-recovery greenplace/Toast\n  gt polecat check-recovery greenplace/Toast --json\n\n```\ngt polecat check-recovery <rig>/<polecat> [flags]\n```",
      "usage": "gt polecat check-recovery <rig>/<polecat> [flags]",
      "options": "-h, --help   help for check-recovery\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat check-recovery Check if polecat needs recovery vs safe to nuke Check recovery status of a polecat based on cleanup_status in agent bead.\n\nUsed by the Witness to determine appropriate cleanup action:\n  - SAFE_TO_NUKE: cleanup_status is 'clean' - no work at risk\n  - NEEDS_RECOVERY: cleanup_status indicates unpushed/uncommitted work\n\nThis prevents accidental data loss when cleaning up dormant polecats.\nThe Witness should escalate NEEDS_RECOVERY cases to the Mayor.\n\nExamples:\n  gt polecat check-recovery greenplace/Toast\n  gt polecat check-recovery greenplace/Toast --json\n\n```\ngt polecat check-recovery <rig>/<polecat> [flags]\n``` -h, --help   help for check-recovery\n      --json   Output as JSON"
    },
    {
      "cmd": "gt polecat gc",
      "short": "Garbage collect stale polecat branches",
      "synopsis": "Garbage collect stale polecat branches in a rig.\n\nPolecats use unique timestamped branches (polecat/<name>-<timestamp>) to\nprevent drift issues. Over time, these branches accumulate when stale\npolecats are repaired.\n\nThis command removes orphaned branches:\n  - Branches for polecats that no longer exist\n  - Old timestamped branches (keeps only the current one per polecat)\n\nExamples:\n  gt polecat gc greenplace\n  gt polecat gc greenplace --dry-run\n\n```\ngt polecat gc <rig> [flags]\n```",
      "usage": "gt polecat gc <rig> [flags]",
      "options": "--dry-run   Show what would be deleted without deleting\n  -h, --help      help for gc",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat gc Garbage collect stale polecat branches Garbage collect stale polecat branches in a rig.\n\nPolecats use unique timestamped branches (polecat/<name>-<timestamp>) to\nprevent drift issues. Over time, these branches accumulate when stale\npolecats are repaired.\n\nThis command removes orphaned branches:\n  - Branches for polecats that no longer exist\n  - Old timestamped branches (keeps only the current one per polecat)\n\nExamples:\n  gt polecat gc greenplace\n  gt polecat gc greenplace --dry-run\n\n```\ngt polecat gc <rig> [flags]\n``` --dry-run   Show what would be deleted without deleting\n  -h, --help      help for gc"
    },
    {
      "cmd": "gt polecat git-state",
      "short": "Show git state for pre-kill verification",
      "synopsis": "Show git state for a polecat's worktree.\n\nUsed by the Witness for pre-kill verification to ensure no work is lost.\nReturns whether the worktree is clean (safe to kill) or dirty (needs cleanup).\n\nChecks:\n  - Working tree: uncommitted changes\n  - Unpushed commits: commits ahead of origin/main\n  - Stashes: stashed changes\n\nExamples:\n  gt polecat git-state greenplace/Toast\n  gt polecat git-state greenplace/Toast --json\n\n```\ngt polecat git-state <rig>/<polecat> [flags]\n```",
      "usage": "gt polecat git-state <rig>/<polecat> [flags]",
      "options": "-h, --help   help for git-state\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat git-state Show git state for pre-kill verification Show git state for a polecat's worktree.\n\nUsed by the Witness for pre-kill verification to ensure no work is lost.\nReturns whether the worktree is clean (safe to kill) or dirty (needs cleanup).\n\nChecks:\n  - Working tree: uncommitted changes\n  - Unpushed commits: commits ahead of origin/main\n  - Stashes: stashed changes\n\nExamples:\n  gt polecat git-state greenplace/Toast\n  gt polecat git-state greenplace/Toast --json\n\n```\ngt polecat git-state <rig>/<polecat> [flags]\n``` -h, --help   help for git-state\n      --json   Output as JSON"
    },
    {
      "cmd": "gt polecat identity",
      "short": "Manage polecat identities",
      "synopsis": "Manage polecat identity beads in rigs.\n\nIdentity beads track polecat metadata, CV history, and lifecycle state.\nUse subcommands to create, list, show, rename, or remove identities.\n\n```\ngt polecat identity [flags]\n```",
      "usage": "gt polecat identity [flags]",
      "options": "-h, --help   help for identity",
      "subcommands": [
        {
          "cmd": "gt polecat identity add",
          "desc": "Create an identity bead for a polecat"
        },
        {
          "cmd": "gt polecat identity list",
          "desc": "List polecat identity beads in a rig"
        },
        {
          "cmd": "gt polecat identity remove",
          "desc": "Remove a polecat identity"
        },
        {
          "cmd": "gt polecat identity rename",
          "desc": "Rename a polecat identity (preserves CV)"
        },
        {
          "cmd": "gt polecat identity show",
          "desc": "Show polecat identity with CV summary"
        }
      ],
      "is_parent": true,
      "search_text": "gt polecat identity Manage polecat identities Manage polecat identity beads in rigs.\n\nIdentity beads track polecat metadata, CV history, and lifecycle state.\nUse subcommands to create, list, show, rename, or remove identities.\n\n```\ngt polecat identity [flags]\n``` -h, --help   help for identity"
    },
    {
      "cmd": "gt polecat identity add",
      "short": "Create an identity bead for a polecat",
      "synopsis": "Create an identity bead for a polecat in a rig.\n\nIf name is not provided, a name will be generated from the rig's name pool.\n\nThe identity bead tracks:\n  - Role type (polecat)\n  - Rig assignment\n  - Agent state\n  - Hook bead (current work)\n  - Cleanup status\n\nExample:\n  gt polecat identity add gastown Toast\n  gt polecat identity add gastown  # auto-generate name\n\n```\ngt polecat identity add <rig> [name] [flags]\n```",
      "usage": "gt polecat identity add <rig> [name] [flags]",
      "options": "-h, --help   help for add",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat identity add Create an identity bead for a polecat Create an identity bead for a polecat in a rig.\n\nIf name is not provided, a name will be generated from the rig's name pool.\n\nThe identity bead tracks:\n  - Role type (polecat)\n  - Rig assignment\n  - Agent state\n  - Hook bead (current work)\n  - Cleanup status\n\nExample:\n  gt polecat identity add gastown Toast\n  gt polecat identity add gastown  # auto-generate name\n\n```\ngt polecat identity add <rig> [name] [flags]\n``` -h, --help   help for add"
    },
    {
      "cmd": "gt polecat identity list",
      "short": "List polecat identity beads in a rig",
      "synopsis": "List all polecat identity beads in a rig.\n\nShows:\n  - Polecat name\n  - Agent state\n  - Current hook (if any)\n  - Whether worktree exists\n\nExample:\n  gt polecat identity list gastown\n  gt polecat identity list gastown --json\n\n```\ngt polecat identity list <rig> [flags]\n```",
      "usage": "gt polecat identity list <rig> [flags]",
      "options": "-h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat identity list List polecat identity beads in a rig List all polecat identity beads in a rig.\n\nShows:\n  - Polecat name\n  - Agent state\n  - Current hook (if any)\n  - Whether worktree exists\n\nExample:\n  gt polecat identity list gastown\n  gt polecat identity list gastown --json\n\n```\ngt polecat identity list <rig> [flags]\n``` -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt polecat identity remove",
      "short": "Remove a polecat identity",
      "synopsis": "Remove a polecat identity bead.\n\nSafety checks:\n  - No active tmux session\n  - No work on hook (unless using --force)\n  - Warns if CV exists\n\nUse --force to bypass safety checks.\n\nExample:\n  gt polecat identity remove gastown Toast\n  gt polecat identity remove gastown Toast --force\n\n```\ngt polecat identity remove <rig> <name> [flags]\n```",
      "usage": "gt polecat identity remove <rig> <name> [flags]",
      "options": "-f, --force   Force removal, bypassing safety checks\n  -h, --help    help for remove",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat identity remove Remove a polecat identity Remove a polecat identity bead.\n\nSafety checks:\n  - No active tmux session\n  - No work on hook (unless using --force)\n  - Warns if CV exists\n\nUse --force to bypass safety checks.\n\nExample:\n  gt polecat identity remove gastown Toast\n  gt polecat identity remove gastown Toast --force\n\n```\ngt polecat identity remove <rig> <name> [flags]\n``` -f, --force   Force removal, bypassing safety checks\n  -h, --help    help for remove"
    },
    {
      "cmd": "gt polecat identity rename",
      "short": "Rename a polecat identity (preserves CV)",
      "synopsis": "Rename a polecat identity bead, preserving CV history.\n\nThe rename:\n  1. Creates a new identity bead with the new name\n  2. Copies CV history links to the new bead\n  3. Closes the old bead with a reference to the new one\n\nSafety checks:\n  - Old identity must exist\n  - New name must not already exist\n  - Polecat session must not be running\n\nExample:\n  gt polecat identity rename gastown Toast Imperator\n\n```\ngt polecat identity rename <rig> <old-name> <new-name> [flags]\n```",
      "usage": "gt polecat identity rename <rig> <old-name> <new-name> [flags]",
      "options": "-h, --help   help for rename",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat identity rename Rename a polecat identity (preserves CV) Rename a polecat identity bead, preserving CV history.\n\nThe rename:\n  1. Creates a new identity bead with the new name\n  2. Copies CV history links to the new bead\n  3. Closes the old bead with a reference to the new one\n\nSafety checks:\n  - Old identity must exist\n  - New name must not already exist\n  - Polecat session must not be running\n\nExample:\n  gt polecat identity rename gastown Toast Imperator\n\n```\ngt polecat identity rename <rig> <old-name> <new-name> [flags]\n``` -h, --help   help for rename"
    },
    {
      "cmd": "gt polecat identity show",
      "short": "Show polecat identity with CV summary",
      "synopsis": "Show detailed identity information for a polecat including work history.\n\nDisplays:\n  - Identity bead ID and creation date\n  - Session count\n  - Completion statistics (issues completed, failed, abandoned)\n  - Language breakdown from file extensions\n  - Work type breakdown (feat, fix, refactor, etc.)\n  - Recent work list with relative timestamps\n\nExamples:\n  gt polecat identity show gastown Toast\n  gt polecat identity show gastown Toast --json\n\n```\ngt polecat identity show <rig> <name> [flags]\n```",
      "usage": "gt polecat identity show <rig> <name> [flags]",
      "options": "-h, --help   help for show\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat identity show Show polecat identity with CV summary Show detailed identity information for a polecat including work history.\n\nDisplays:\n  - Identity bead ID and creation date\n  - Session count\n  - Completion statistics (issues completed, failed, abandoned)\n  - Language breakdown from file extensions\n  - Work type breakdown (feat, fix, refactor, etc.)\n  - Recent work list with relative timestamps\n\nExamples:\n  gt polecat identity show gastown Toast\n  gt polecat identity show gastown Toast --json\n\n```\ngt polecat identity show <rig> <name> [flags]\n``` -h, --help   help for show\n      --json   Output as JSON"
    },
    {
      "cmd": "gt polecat list",
      "short": "List polecats in a rig",
      "synopsis": "List polecats in a rig or all rigs.\n\nIn the transient model, polecats exist only while working. The list shows\nall currently active polecats with their states:\n  - working: Actively working on an issue\n  - done: Completed work, waiting for cleanup\n  - stuck: Needs assistance\n\nExamples:\n  gt polecat list greenplace\n  gt polecat list --all\n  gt polecat list greenplace --json\n\n```\ngt polecat list [rig] [flags]\n```",
      "usage": "gt polecat list [rig] [flags]",
      "options": "--all    List polecats in all rigs\n  -h, --help   help for list\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat list List polecats in a rig List polecats in a rig or all rigs.\n\nIn the transient model, polecats exist only while working. The list shows\nall currently active polecats with their states:\n  - working: Actively working on an issue\n  - done: Completed work, waiting for cleanup\n  - stuck: Needs assistance\n\nExamples:\n  gt polecat list greenplace\n  gt polecat list --all\n  gt polecat list greenplace --json\n\n```\ngt polecat list [rig] [flags]\n``` --all    List polecats in all rigs\n  -h, --help   help for list\n      --json   Output as JSON"
    },
    {
      "cmd": "gt polecat nuke",
      "short": "Completely destroy a polecat (session, worktree, branch, agent bead)",
      "synopsis": "Completely destroy a polecat and all its artifacts.\n\nThis is the nuclear option for post-merge cleanup. It:\n  1. Kills the Claude session (if running)\n  2. Deletes the git worktree (bypassing all safety checks)\n  3. Deletes the polecat branch\n  4. Closes the agent bead (if exists)\n\nSAFETY CHECKS: The command refuses to nuke a polecat if:\n  - Worktree has unpushed/uncommitted changes\n  - Polecat has an open merge request (MR bead)\n  - Polecat has work on its hook\n\nUse --force to bypass safety checks (LOSES WORK).\nUse --dry-run to see what would happen and safety check status.\n\nExamples:\n  gt polecat nuke greenplace/Toast\n  gt polecat nuke greenplace/Toast greenplace/Furiosa\n  gt polecat nuke greenplace --all\n  gt polecat nuke greenplace --all --dry-run\n  gt polecat nuke greenplace/Toast --force  # bypass safety checks\n\n```\ngt polecat nuke <rig>/<polecat>... | <rig> --all [flags]\n```",
      "usage": "gt polecat nuke <rig>/<polecat>... | <rig> --all [flags]",
      "options": "--all       Nuke all polecats in the rig\n      --dry-run   Show what would be nuked without doing it\n  -f, --force     Force nuke, bypassing all safety checks (LOSES WORK)\n  -h, --help      help for nuke",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat nuke Completely destroy a polecat (session, worktree, branch, agent bead) Completely destroy a polecat and all its artifacts.\n\nThis is the nuclear option for post-merge cleanup. It:\n  1. Kills the Claude session (if running)\n  2. Deletes the git worktree (bypassing all safety checks)\n  3. Deletes the polecat branch\n  4. Closes the agent bead (if exists)\n\nSAFETY CHECKS: The command refuses to nuke a polecat if:\n  - Worktree has unpushed/uncommitted changes\n  - Polecat has an open merge request (MR bead)\n  - Polecat has work on its hook\n\nUse --force to bypass safety checks (LOSES WORK).\nUse --dry-run to see what would happen and safety check status.\n\nExamples:\n  gt polecat nuke greenplace/Toast\n  gt polecat nuke greenplace/Toast greenplace/Furiosa\n  gt polecat nuke greenplace --all\n  gt polecat nuke greenplace --all --dry-run\n  gt polecat nuke greenplace/Toast --force  # bypass safety checks\n\n```\ngt polecat nuke <rig>/<polecat>... | <rig> --all [flags]\n``` --all       Nuke all polecats in the rig\n      --dry-run   Show what would be nuked without doing it\n  -f, --force     Force nuke, bypassing all safety checks (LOSES WORK)\n  -h, --help      help for nuke"
    },
    {
      "cmd": "gt polecat remove",
      "short": "Remove polecats from a rig",
      "synopsis": "Remove one or more polecats from a rig.\n\nFails if session is running (stop first).\nWarns if uncommitted changes exist.\nUse --force to bypass checks.\n\nExamples:\n  gt polecat remove greenplace/Toast\n  gt polecat remove greenplace/Toast greenplace/Furiosa\n  gt polecat remove greenplace --all\n  gt polecat remove greenplace --all --force\n\n```\ngt polecat remove <rig>/<polecat>... | <rig> --all [flags]\n```",
      "usage": "gt polecat remove <rig>/<polecat>... | <rig> --all [flags]",
      "options": "--all     Remove all polecats in the rig\n  -f, --force   Force removal, bypassing checks\n  -h, --help    help for remove",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat remove Remove polecats from a rig Remove one or more polecats from a rig.\n\nFails if session is running (stop first).\nWarns if uncommitted changes exist.\nUse --force to bypass checks.\n\nExamples:\n  gt polecat remove greenplace/Toast\n  gt polecat remove greenplace/Toast greenplace/Furiosa\n  gt polecat remove greenplace --all\n  gt polecat remove greenplace --all --force\n\n```\ngt polecat remove <rig>/<polecat>... | <rig> --all [flags]\n``` --all     Remove all polecats in the rig\n  -f, --force   Force removal, bypassing checks\n  -h, --help    help for remove"
    },
    {
      "cmd": "gt polecat stale",
      "short": "Detect stale polecats that may need cleanup",
      "synopsis": "Detect stale polecats in a rig that are candidates for cleanup.\n\nA polecat is considered stale if:\n  - No active tmux session\n  - Way behind main (>threshold commits) OR no agent bead\n  - Has no uncommitted work that could be lost\n\nThe default threshold is 20 commits behind main.\n\nUse --cleanup to automatically nuke stale polecats that are safe to remove.\nUse --dry-run with --cleanup to see what would be cleaned.\n\nExamples:\n  gt polecat stale greenplace\n  gt polecat stale greenplace --threshold 50\n  gt polecat stale greenplace --json\n  gt polecat stale greenplace --cleanup\n  gt polecat stale greenplace --cleanup --dry-run\n\n```\ngt polecat stale <rig> [flags]\n```",
      "usage": "gt polecat stale <rig> [flags]",
      "options": "--cleanup         Automatically nuke stale polecats\n  -h, --help            help for stale\n      --json            Output as JSON\n      --threshold int   Commits behind main to consider stale (default 20)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat stale Detect stale polecats that may need cleanup Detect stale polecats in a rig that are candidates for cleanup.\n\nA polecat is considered stale if:\n  - No active tmux session\n  - Way behind main (>threshold commits) OR no agent bead\n  - Has no uncommitted work that could be lost\n\nThe default threshold is 20 commits behind main.\n\nUse --cleanup to automatically nuke stale polecats that are safe to remove.\nUse --dry-run with --cleanup to see what would be cleaned.\n\nExamples:\n  gt polecat stale greenplace\n  gt polecat stale greenplace --threshold 50\n  gt polecat stale greenplace --json\n  gt polecat stale greenplace --cleanup\n  gt polecat stale greenplace --cleanup --dry-run\n\n```\ngt polecat stale <rig> [flags]\n``` --cleanup         Automatically nuke stale polecats\n  -h, --help            help for stale\n      --json            Output as JSON\n      --threshold int   Commits behind main to consider stale (default 20)"
    },
    {
      "cmd": "gt polecat status",
      "short": "Show detailed status for a polecat",
      "synopsis": "Show detailed status for a polecat.\n\nDisplays comprehensive information including:\n  - Current lifecycle state (working, done, stuck, idle)\n  - Assigned issue (if any)\n  - Session status (running/stopped, attached/detached)\n  - Session creation time\n  - Last activity time\n\nExamples:\n  gt polecat status greenplace/Toast\n  gt polecat status greenplace/Toast --json\n\n```\ngt polecat status <rig>/<polecat> [flags]\n```",
      "usage": "gt polecat status <rig>/<polecat> [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat status Show detailed status for a polecat Show detailed status for a polecat.\n\nDisplays comprehensive information including:\n  - Current lifecycle state (working, done, stuck, idle)\n  - Assigned issue (if any)\n  - Session status (running/stopped, attached/detached)\n  - Session creation time\n  - Last activity time\n\nExamples:\n  gt polecat status greenplace/Toast\n  gt polecat status greenplace/Toast --json\n\n```\ngt polecat status <rig>/<polecat> [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt polecat sync",
      "short": "Sync beads for a polecat (deprecated with Dolt backend)",
      "synopsis": "Sync beads for a polecat's worktree.\n\nLegacy command: with Dolt backend, beads changes are persisted automatically.\nThis command is a no-op when using Dolt.\n\nUse --all to sync all polecats in a rig.\nUse --from-main to only pull (no push).\n\nExamples:\n  gt polecat sync greenplace/Toast\n  gt polecat sync greenplace --all\n  gt polecat sync greenplace/Toast --from-main\n\n```\ngt polecat sync <rig>/<polecat> [flags]\n```",
      "usage": "gt polecat sync <rig>/<polecat> [flags]",
      "options": "--all         Sync all polecats in the rig\n      --from-main   Pull only, no push\n  -h, --help        help for sync",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt polecat sync Sync beads for a polecat (deprecated with Dolt backend) Sync beads for a polecat's worktree.\n\nLegacy command: with Dolt backend, beads changes are persisted automatically.\nThis command is a no-op when using Dolt.\n\nUse --all to sync all polecats in a rig.\nUse --from-main to only pull (no push).\n\nExamples:\n  gt polecat sync greenplace/Toast\n  gt polecat sync greenplace --all\n  gt polecat sync greenplace/Toast --from-main\n\n```\ngt polecat sync <rig>/<polecat> [flags]\n``` --all         Sync all polecats in the rig\n      --from-main   Pull only, no push\n  -h, --help        help for sync"
    },
    {
      "cmd": "gt prime",
      "short": "Output role context for current directory",
      "synopsis": "Detect the agent role from the current directory and output context.\n\nRole detection:\n  - Town root, mayor/, or <rig>/mayor/ \u2192 Mayor context\n  - <rig>/witness/rig/ \u2192 Witness context\n  - <rig>/refinery/rig/ \u2192 Refinery context\n  - <rig>/polecats/<name>/ \u2192 Polecat context\n\nThis command is typically used in shell prompts or agent initialization.\n\nHOOK MODE (--hook):\n  When called as an LLM runtime hook, use --hook to enable session ID handling.\n  This reads session metadata from stdin and persists it for the session.\n\n  Claude Code integration (in .claude/settings.json):\n    \"SessionStart\": [{\"hooks\": [{\"type\": \"command\", \"command\": \"gt prime --hook\"}]}]\n\n  Claude Code sends JSON on stdin:\n    {\"session_id\": \"uuid\", \"transcript_path\": \"/path\", \"source\": \"startup|resume\"}\n\n  Other agents can set GT_SESSION_ID environment variable instead.\n\n```\ngt prime [flags]\n```",
      "usage": "gt prime [flags]",
      "options": "--dry-run   Show what would be injected without side effects (no marker removal, no bd prime, no mail)\n      --explain   Show why each section was included\n  -h, --help      help for prime\n      --hook      Hook mode: read session ID from stdin JSON (for LLM runtime hooks)\n      --json      Output state as JSON (requires --state)\n      --state     Show detected session state only (normal/post-handoff/crash/autonomous)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt prime Output role context for current directory Detect the agent role from the current directory and output context.\n\nRole detection:\n  - Town root, mayor/, or <rig>/mayor/ \u2192 Mayor context\n  - <rig>/witness/rig/ \u2192 Witness context\n  - <rig>/refinery/rig/ \u2192 Refinery context\n  - <rig>/polecats/<name>/ \u2192 Polecat context\n\nThis command is typically used in shell prompts or agent initialization.\n\nHOOK MODE (--hook):\n  When called as an LLM runtime hook, use --hook to enable session ID handling.\n  This reads session metadata from stdin and persists it for the session.\n\n  Claude Code integration (in .claude/settings.json):\n    \"SessionStart\": [{\"hooks\": [{\"type\": \"command\", \"command\": \"gt prime --hook\"}]}]\n\n  Claude Code sends JSON on stdin:\n    {\"session_id\": \"uuid\", \"transcript_path\": \"/path\", \"source\": \"startup|resume\"}\n\n  Other agents can set GT_SESSION_ID environment variable instead.\n\n```\ngt prime [flags]\n``` --dry-run   Show what would be injected without side effects (no marker removal, no bd prime, no mail)\n      --explain   Show why each section was included\n  -h, --help      help for prime\n      --hook      Hook mode: read session ID from stdin JSON (for LLM runtime hooks)\n      --json      Output state as JSON (requires --state)\n      --state     Show detected session state only (normal/post-handoff/crash/autonomous)"
    },
    {
      "cmd": "gt ready",
      "short": "Show work ready across town",
      "synopsis": "Display all ready work items across the town and all rigs.\n\nAggregates ready issues from:\n- Town beads (hq-* items: convoys, cross-rig coordination)\n- Each rig's beads (project-level issues, MRs)\n\nReady items have no blockers and can be worked immediately.\nResults are sorted by priority (highest first) then by source.\n\nExamples:\n  gt ready              # Show all ready work\n  gt ready --json       # Output as JSON\n  gt ready --rig=gastown  # Show only one rig\n\n```\ngt ready [flags]\n```",
      "usage": "gt ready [flags]",
      "options": "-h, --help         help for ready\n      --json         Output as JSON\n      --rig string   Filter to a specific rig",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt ready Show work ready across town Display all ready work items across the town and all rigs.\n\nAggregates ready issues from:\n- Town beads (hq-* items: convoys, cross-rig coordination)\n- Each rig's beads (project-level issues, MRs)\n\nReady items have no blockers and can be worked immediately.\nResults are sorted by priority (highest first) then by source.\n\nExamples:\n  gt ready              # Show all ready work\n  gt ready --json       # Output as JSON\n  gt ready --rig=gastown  # Show only one rig\n\n```\ngt ready [flags]\n``` -h, --help         help for ready\n      --json         Output as JSON\n      --rig string   Filter to a specific rig"
    },
    {
      "cmd": "gt refinery",
      "short": "Manage the Refinery (merge queue processor)",
      "synopsis": "Manage the Refinery - the per-rig merge queue processor.\n\nThe Refinery serializes all merges to main for a rig:\n  - Receives MRs submitted by polecats (via gt done)\n  - Rebases work branches onto latest main\n  - Runs validation (tests, builds, checks)\n  - Merges to main when clear\n  - If conflict: spawns FRESH polecat to re-implement (original is gone)\n\nWork flows: Polecat completes \u2192 gt done \u2192 MR in queue \u2192 Refinery merges.\nThe polecat is already nuked by the time the Refinery processes.\n\nOne Refinery per rig. Persistent agent that processes work as it arrives.\n\nRole shortcuts: \"refinery\" in mail/nudge addresses resolves to this rig's Refinery.\n\n```\ngt refinery [flags]\n```",
      "usage": "gt refinery [flags]",
      "options": "-h, --help   help for refinery",
      "subcommands": [
        {
          "cmd": "gt refinery attach",
          "desc": "Attach to refinery session"
        },
        {
          "cmd": "gt refinery blocked",
          "desc": "List MRs blocked by open tasks"
        },
        {
          "cmd": "gt refinery claim",
          "desc": "Claim an MR for processing"
        },
        {
          "cmd": "gt refinery queue",
          "desc": "Show merge queue"
        },
        {
          "cmd": "gt refinery ready",
          "desc": "List MRs ready for processing (unclaimed and unblocked)"
        },
        {
          "cmd": "gt refinery release",
          "desc": "Release a claimed MR back to the queue"
        },
        {
          "cmd": "gt refinery restart",
          "desc": "Restart the refinery"
        },
        {
          "cmd": "gt refinery start",
          "desc": "Start the refinery"
        },
        {
          "cmd": "gt refinery status",
          "desc": "Show refinery status"
        },
        {
          "cmd": "gt refinery stop",
          "desc": "Stop the refinery"
        },
        {
          "cmd": "gt refinery unclaimed",
          "desc": "List unclaimed MRs available for processing"
        }
      ],
      "is_parent": true,
      "search_text": "gt refinery Manage the Refinery (merge queue processor) Manage the Refinery - the per-rig merge queue processor.\n\nThe Refinery serializes all merges to main for a rig:\n  - Receives MRs submitted by polecats (via gt done)\n  - Rebases work branches onto latest main\n  - Runs validation (tests, builds, checks)\n  - Merges to main when clear\n  - If conflict: spawns FRESH polecat to re-implement (original is gone)\n\nWork flows: Polecat completes \u2192 gt done \u2192 MR in queue \u2192 Refinery merges.\nThe polecat is already nuked by the time the Refinery processes.\n\nOne Refinery per rig. Persistent agent that processes work as it arrives.\n\nRole shortcuts: \"refinery\" in mail/nudge addresses resolves to this rig's Refinery.\n\n```\ngt refinery [flags]\n``` -h, --help   help for refinery"
    },
    {
      "cmd": "gt refinery attach",
      "short": "Attach to refinery session",
      "synopsis": "Attach to a running Refinery's Claude session.\n\nAllows interactive access to the Refinery agent for debugging\nor manual intervention.\n\nIf rig is not specified, infers it from the current directory.\n\nExamples:\n  gt refinery attach greenplace\n  gt refinery attach          # infer rig from cwd\n\n```\ngt refinery attach [rig] [flags]\n```",
      "usage": "gt refinery attach [rig] [flags]",
      "options": "--agent string   Agent alias to run the Refinery with (overrides town default)\n  -h, --help           help for attach",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery attach Attach to refinery session Attach to a running Refinery's Claude session.\n\nAllows interactive access to the Refinery agent for debugging\nor manual intervention.\n\nIf rig is not specified, infers it from the current directory.\n\nExamples:\n  gt refinery attach greenplace\n  gt refinery attach          # infer rig from cwd\n\n```\ngt refinery attach [rig] [flags]\n``` --agent string   Agent alias to run the Refinery with (overrides town default)\n  -h, --help           help for attach"
    },
    {
      "cmd": "gt refinery blocked",
      "short": "List MRs blocked by open tasks",
      "synopsis": "List merge requests blocked by open tasks.\n\nShows MRs waiting for conflict resolution or other blocking tasks to complete.\nWhen the blocking task closes, the MR will appear in 'ready'.\n\nExamples:\n  gt refinery blocked\n  gt refinery blocked --json\n\n```\ngt refinery blocked [rig] [flags]\n```",
      "usage": "gt refinery blocked [rig] [flags]",
      "options": "-h, --help   help for blocked\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery blocked List MRs blocked by open tasks List merge requests blocked by open tasks.\n\nShows MRs waiting for conflict resolution or other blocking tasks to complete.\nWhen the blocking task closes, the MR will appear in 'ready'.\n\nExamples:\n  gt refinery blocked\n  gt refinery blocked --json\n\n```\ngt refinery blocked [rig] [flags]\n``` -h, --help   help for blocked\n      --json   Output as JSON"
    },
    {
      "cmd": "gt refinery claim",
      "short": "Claim an MR for processing",
      "synopsis": "Claim a merge request for processing by this refinery worker.\n\nWhen running multiple refinery workers in parallel, each worker must claim\nan MR before processing to prevent double-processing. Claims expire after\n10 minutes if not processed (for crash recovery).\n\nThe worker ID is automatically determined from the GT_REFINERY_WORKER\nenvironment variable, or defaults to \"refinery-1\".\n\nExamples:\n  gt refinery claim gt-abc123\n  GT_REFINERY_WORKER=refinery-2 gt refinery claim gt-abc123\n\n```\ngt refinery claim <mr-id> [flags]\n```",
      "usage": "gt refinery claim <mr-id> [flags]",
      "options": "-h, --help   help for claim",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery claim Claim an MR for processing Claim a merge request for processing by this refinery worker.\n\nWhen running multiple refinery workers in parallel, each worker must claim\nan MR before processing to prevent double-processing. Claims expire after\n10 minutes if not processed (for crash recovery).\n\nThe worker ID is automatically determined from the GT_REFINERY_WORKER\nenvironment variable, or defaults to \"refinery-1\".\n\nExamples:\n  gt refinery claim gt-abc123\n  GT_REFINERY_WORKER=refinery-2 gt refinery claim gt-abc123\n\n```\ngt refinery claim <mr-id> [flags]\n``` -h, --help   help for claim"
    },
    {
      "cmd": "gt refinery queue",
      "short": "Show merge queue",
      "synopsis": "Show the merge queue for a rig.\n\nLists all pending merge requests waiting to be processed.\nIf rig is not specified, infers it from the current directory.\n\n```\ngt refinery queue [rig] [flags]\n```",
      "usage": "gt refinery queue [rig] [flags]",
      "options": "-h, --help   help for queue\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery queue Show merge queue Show the merge queue for a rig.\n\nLists all pending merge requests waiting to be processed.\nIf rig is not specified, infers it from the current directory.\n\n```\ngt refinery queue [rig] [flags]\n``` -h, --help   help for queue\n      --json   Output as JSON"
    },
    {
      "cmd": "gt refinery ready",
      "short": "List MRs ready for processing (unclaimed and unblocked)",
      "synopsis": "List merge requests ready for processing.\n\nShows MRs that are:\n- Not currently claimed by any worker (or claim is stale)\n- Not blocked by an open task (e.g., conflict resolution in progress)\n\nThis is the preferred command for finding work to process.\n\nExamples:\n  gt refinery ready\n  gt refinery ready --json\n\n```\ngt refinery ready [rig] [flags]\n```",
      "usage": "gt refinery ready [rig] [flags]",
      "options": "-h, --help   help for ready\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery ready List MRs ready for processing (unclaimed and unblocked) List merge requests ready for processing.\n\nShows MRs that are:\n- Not currently claimed by any worker (or claim is stale)\n- Not blocked by an open task (e.g., conflict resolution in progress)\n\nThis is the preferred command for finding work to process.\n\nExamples:\n  gt refinery ready\n  gt refinery ready --json\n\n```\ngt refinery ready [rig] [flags]\n``` -h, --help   help for ready\n      --json   Output as JSON"
    },
    {
      "cmd": "gt refinery release",
      "short": "Release a claimed MR back to the queue",
      "synopsis": "Release a claimed merge request back to the queue.\n\nCalled when processing fails and the MR should be retried by another worker.\nThis clears the claim so other workers can pick up the MR.\n\nExamples:\n  gt refinery release gt-abc123\n\n```\ngt refinery release <mr-id> [flags]\n```",
      "usage": "gt refinery release <mr-id> [flags]",
      "options": "-h, --help   help for release",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery release Release a claimed MR back to the queue Release a claimed merge request back to the queue.\n\nCalled when processing fails and the MR should be retried by another worker.\nThis clears the claim so other workers can pick up the MR.\n\nExamples:\n  gt refinery release gt-abc123\n\n```\ngt refinery release <mr-id> [flags]\n``` -h, --help   help for release"
    },
    {
      "cmd": "gt refinery restart",
      "short": "Restart the refinery",
      "synopsis": "Restart the Refinery for a rig.\n\nStops the current session (if running) and starts a fresh one.\nIf rig is not specified, infers it from the current directory.\n\nExamples:\n  gt refinery restart greenplace\n  gt refinery restart          # infer rig from cwd\n\n```\ngt refinery restart [rig] [flags]\n```",
      "usage": "gt refinery restart [rig] [flags]",
      "options": "--agent string   Agent alias to run the Refinery with (overrides town default)\n  -h, --help           help for restart",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery restart Restart the refinery Restart the Refinery for a rig.\n\nStops the current session (if running) and starts a fresh one.\nIf rig is not specified, infers it from the current directory.\n\nExamples:\n  gt refinery restart greenplace\n  gt refinery restart          # infer rig from cwd\n\n```\ngt refinery restart [rig] [flags]\n``` --agent string   Agent alias to run the Refinery with (overrides town default)\n  -h, --help           help for restart"
    },
    {
      "cmd": "gt refinery start",
      "short": "Start the refinery",
      "synopsis": "Start the Refinery for a rig.\n\nLaunches the merge queue processor which monitors for polecat work branches\nand merges them to the appropriate target branches.\n\nIf rig is not specified, infers it from the current directory.\n\nExamples:\n  gt refinery start greenplace\n  gt refinery start greenplace --foreground\n  gt refinery start              # infer rig from cwd\n\n```\ngt refinery start [rig] [flags]\n```",
      "usage": "gt refinery start [rig] [flags]",
      "options": "--agent string   Agent alias to run the Refinery with (overrides town default)\n      --foreground     Run in foreground (default: background)\n  -h, --help           help for start",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery start Start the refinery Start the Refinery for a rig.\n\nLaunches the merge queue processor which monitors for polecat work branches\nand merges them to the appropriate target branches.\n\nIf rig is not specified, infers it from the current directory.\n\nExamples:\n  gt refinery start greenplace\n  gt refinery start greenplace --foreground\n  gt refinery start              # infer rig from cwd\n\n```\ngt refinery start [rig] [flags]\n``` --agent string   Agent alias to run the Refinery with (overrides town default)\n      --foreground     Run in foreground (default: background)\n  -h, --help           help for start"
    },
    {
      "cmd": "gt refinery status",
      "short": "Show refinery status",
      "synopsis": "Show the status of a rig's Refinery.\n\nDisplays running state, current work, queue length, and statistics.\nIf rig is not specified, infers it from the current directory.\n\n```\ngt refinery status [rig] [flags]\n```",
      "usage": "gt refinery status [rig] [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery status Show refinery status Show the status of a rig's Refinery.\n\nDisplays running state, current work, queue length, and statistics.\nIf rig is not specified, infers it from the current directory.\n\n```\ngt refinery status [rig] [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt refinery stop",
      "short": "Stop the refinery",
      "synopsis": "Stop a running Refinery.\n\nGracefully stops the refinery, completing any in-progress merge first.\nIf rig is not specified, infers it from the current directory.\n\n```\ngt refinery stop [rig] [flags]\n```",
      "usage": "gt refinery stop [rig] [flags]",
      "options": "-h, --help   help for stop",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery stop Stop the refinery Stop a running Refinery.\n\nGracefully stops the refinery, completing any in-progress merge first.\nIf rig is not specified, infers it from the current directory.\n\n```\ngt refinery stop [rig] [flags]\n``` -h, --help   help for stop"
    },
    {
      "cmd": "gt refinery unclaimed",
      "short": "List unclaimed MRs available for processing",
      "synopsis": "List merge requests that are available for claiming.\n\nShows MRs that are not currently claimed by any worker, or have stale\nclaims (worker may have crashed). Useful for parallel refinery workers\nto find work.\n\nExamples:\n  gt refinery unclaimed\n  gt refinery unclaimed --json\n\n```\ngt refinery unclaimed [rig] [flags]\n```",
      "usage": "gt refinery unclaimed [rig] [flags]",
      "options": "-h, --help   help for unclaimed\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt refinery unclaimed List unclaimed MRs available for processing List merge requests that are available for claiming.\n\nShows MRs that are not currently claimed by any worker, or have stale\nclaims (worker may have crashed). Useful for parallel refinery workers\nto find work.\n\nExamples:\n  gt refinery unclaimed\n  gt refinery unclaimed --json\n\n```\ngt refinery unclaimed [rig] [flags]\n``` -h, --help   help for unclaimed\n      --json   Output as JSON"
    },
    {
      "cmd": "gt release",
      "short": "Release stuck in_progress issues back to pending",
      "synopsis": "Release one or more in_progress issues back to open/pending status.\n\nThis is used to recover stuck steps when a worker dies mid-task.\nThe issue is moved to \"open\" status and the assignee is cleared,\nallowing another worker to claim and complete it.\n\nExamples:\n  gt release gt-abc           # Release single issue\n  gt release gt-abc gt-def    # Release multiple issues\n  gt release gt-abc -r \"worker died\"  # Release with reason\n\nThis implements nondeterministic idempotence - work can be safely\nretried by releasing and reclaiming stuck steps.\n\n```\ngt release <issue-id>... [flags]\n```",
      "usage": "gt release <issue-id>... [flags]",
      "options": "-h, --help            help for release\n  -r, --reason string   Reason for releasing (added as note)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt release Release stuck in_progress issues back to pending Release one or more in_progress issues back to open/pending status.\n\nThis is used to recover stuck steps when a worker dies mid-task.\nThe issue is moved to \"open\" status and the assignee is cleared,\nallowing another worker to claim and complete it.\n\nExamples:\n  gt release gt-abc           # Release single issue\n  gt release gt-abc gt-def    # Release multiple issues\n  gt release gt-abc -r \"worker died\"  # Release with reason\n\nThis implements nondeterministic idempotence - work can be safely\nretried by releasing and reclaiming stuck steps.\n\n```\ngt release <issue-id>... [flags]\n``` -h, --help            help for release\n  -r, --reason string   Reason for releasing (added as note)"
    },
    {
      "cmd": "gt resume",
      "short": "Resume from parked work or check for handoff messages",
      "synopsis": "Resume work that was parked on a gate, or check for handoff messages.\n\nBy default, this command checks for parked work (from 'gt park') and whether\nits gate has cleared. If the gate is closed, it restores your work context.\n\nWith --handoff, it checks the inbox for handoff messages (messages with\n\"HANDOFF\" in the subject) and displays them formatted for easy continuation.\n\nThe resume command:\n  1. Checks for parked work state (default) or handoff messages (--handoff)\n  2. For parked work: verifies gate has closed\n  3. Restores the hook with your previous work\n  4. Displays context notes to help you continue\n\nExamples:\n  gt resume              # Check for and resume parked work\n  gt resume --status     # Just show parked work status without resuming\n  gt resume --handoff    # Check inbox for handoff messages\n\n```\ngt resume [flags]\n```",
      "usage": "gt resume [flags]",
      "options": "--handoff   Check for handoff messages instead of parked work\n  -h, --help      help for resume\n      --json      Output as JSON\n      --status    Just show parked work status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt resume Resume from parked work or check for handoff messages Resume work that was parked on a gate, or check for handoff messages.\n\nBy default, this command checks for parked work (from 'gt park') and whether\nits gate has cleared. If the gate is closed, it restores your work context.\n\nWith --handoff, it checks the inbox for handoff messages (messages with\n\"HANDOFF\" in the subject) and displays them formatted for easy continuation.\n\nThe resume command:\n  1. Checks for parked work state (default) or handoff messages (--handoff)\n  2. For parked work: verifies gate has closed\n  3. Restores the hook with your previous work\n  4. Displays context notes to help you continue\n\nExamples:\n  gt resume              # Check for and resume parked work\n  gt resume --status     # Just show parked work status without resuming\n  gt resume --handoff    # Check inbox for handoff messages\n\n```\ngt resume [flags]\n``` --handoff   Check for handoff messages instead of parked work\n  -h, --help      help for resume\n      --json      Output as JSON\n      --status    Just show parked work status"
    },
    {
      "cmd": "gt rig",
      "short": "Manage rigs in the workspace",
      "synopsis": "Manage rigs (project containers) in the Gas Town workspace.\n\nA rig is a container for managing a project and its agents:\n  - refinery/rig/  Canonical main clone (Refinery's working copy)\n  - mayor/rig/     Mayor's working clone for this rig\n  - crew/<name>/   Human workspace(s)\n  - witness/       Witness agent (no clone)\n  - polecats/      Worker directories\n  - .beads/        Rig-level issue tracking\n\n```\ngt rig [flags]\n```",
      "usage": "gt rig [flags]",
      "options": "-h, --help   help for rig",
      "subcommands": [
        {
          "cmd": "gt rig add",
          "desc": "Add a new rig to the workspace"
        },
        {
          "cmd": "gt rig boot",
          "desc": "Start witness and refinery for a rig"
        },
        {
          "cmd": "gt rig config",
          "desc": "View and manage rig configuration"
        },
        {
          "cmd": "gt rig dock",
          "desc": "Dock a rig (global, persistent shutdown)"
        },
        {
          "cmd": "gt rig list",
          "desc": "List all rigs in the workspace"
        },
        {
          "cmd": "gt rig park",
          "desc": "Park one or more rigs (stops agents, daemon won't auto-restart)"
        },
        {
          "cmd": "gt rig reboot",
          "desc": "Restart witness and refinery for a rig"
        },
        {
          "cmd": "gt rig remove",
          "desc": "Remove a rig from the registry (does not delete files)"
        },
        {
          "cmd": "gt rig reset",
          "desc": "Reset rig state (handoff content, mail, stale issues)"
        },
        {
          "cmd": "gt rig restart",
          "desc": "Restart one or more rigs (stop then start)"
        },
        {
          "cmd": "gt rig settings",
          "desc": "View and manage rig settings"
        },
        {
          "cmd": "gt rig shutdown",
          "desc": "Gracefully stop all rig agents"
        },
        {
          "cmd": "gt rig start",
          "desc": "Start witness and refinery on patrol for one or more rigs"
        },
        {
          "cmd": "gt rig status",
          "desc": "Show detailed status for a specific rig"
        },
        {
          "cmd": "gt rig stop",
          "desc": "Stop one or more rigs (shutdown semantics)"
        },
        {
          "cmd": "gt rig undock",
          "desc": "Undock a rig (remove global docked status)"
        },
        {
          "cmd": "gt rig unpark",
          "desc": "Unpark one or more rigs (allow daemon to auto-restart agents)"
        }
      ],
      "is_parent": true,
      "search_text": "gt rig Manage rigs in the workspace Manage rigs (project containers) in the Gas Town workspace.\n\nA rig is a container for managing a project and its agents:\n  - refinery/rig/  Canonical main clone (Refinery's working copy)\n  - mayor/rig/     Mayor's working clone for this rig\n  - crew/<name>/   Human workspace(s)\n  - witness/       Witness agent (no clone)\n  - polecats/      Worker directories\n  - .beads/        Rig-level issue tracking\n\n```\ngt rig [flags]\n``` -h, --help   help for rig"
    },
    {
      "cmd": "gt rig add",
      "short": "Add a new rig to the workspace",
      "synopsis": "Add a new rig by cloning a repository.\n\nThis creates a rig container with:\n  - config.json           Rig configuration\n  - .beads/               Rig-level issue tracking (initialized)\n  - plugins/              Rig-level plugin directory\n  - refinery/rig/         Canonical main clone\n  - mayor/rig/            Mayor's working clone\n  - crew/                 Empty crew directory (add members with 'gt crew add')\n  - witness/              Witness agent directory\n  - polecats/             Worker directory (empty)\n\nThe command also:\n  - Seeds patrol molecules (Deacon, Witness, Refinery)\n  - Creates ~/gt/plugins/ (town-level) if it doesn't exist\n  - Creates <rig>/plugins/ (rig-level)\n\nUse --adopt to register an existing directory instead of creating new:\n  - Reads existing config.json if present\n  - Auto-detects git URL from origin remote (git-url argument not required)\n  - Adds entry to mayor/rigs.json\n\nExample:\n  gt rig add gastown https://github.com/sfncore/sf-gastown\n  gt rig add my-project git@github.com:user/repo.git --prefix mp\n  gt rig add existing-rig --adopt\n\n```\ngt rig add <name> <git-url> [flags]\n```",
      "usage": "gt rig add <name> <git-url> [flags]",
      "options": "--adopt               Adopt an existing directory instead of creating new\n      --branch string       Default branch name (default: auto-detected from remote)\n      --force               With --adopt, register even if git remote cannot be detected\n  -h, --help                help for add\n      --local-repo string   Local repo path to share git objects (optional)\n      --prefix string       Beads issue prefix (default: derived from name)\n      --url string          Git remote URL for --adopt (default: auto-detected from origin)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig add Add a new rig to the workspace Add a new rig by cloning a repository.\n\nThis creates a rig container with:\n  - config.json           Rig configuration\n  - .beads/               Rig-level issue tracking (initialized)\n  - plugins/              Rig-level plugin directory\n  - refinery/rig/         Canonical main clone\n  - mayor/rig/            Mayor's working clone\n  - crew/                 Empty crew directory (add members with 'gt crew add')\n  - witness/              Witness agent directory\n  - polecats/             Worker directory (empty)\n\nThe command also:\n  - Seeds patrol molecules (Deacon, Witness, Refinery)\n  - Creates ~/gt/plugins/ (town-level) if it doesn't exist\n  - Creates <rig>/plugins/ (rig-level)\n\nUse --adopt to register an existing directory instead of creating new:\n  - Reads existing config.json if present\n  - Auto-detects git URL from origin remote (git-url argument not required)\n  - Adds entry to mayor/rigs.json\n\nExample:\n  gt rig add gastown https://github.com/sfncore/sf-gastown\n  gt rig add my-project git@github.com:user/repo.git --prefix mp\n  gt rig add existing-rig --adopt\n\n```\ngt rig add <name> <git-url> [flags]\n``` --adopt               Adopt an existing directory instead of creating new\n      --branch string       Default branch name (default: auto-detected from remote)\n      --force               With --adopt, register even if git remote cannot be detected\n  -h, --help                help for add\n      --local-repo string   Local repo path to share git objects (optional)\n      --prefix string       Beads issue prefix (default: derived from name)\n      --url string          Git remote URL for --adopt (default: auto-detected from origin)"
    },
    {
      "cmd": "gt rig boot",
      "short": "Start witness and refinery for a rig",
      "synopsis": "Start the witness and refinery agents for a rig.\n\nThis is the inverse of 'gt rig shutdown'. It starts:\n- The witness (if not already running)\n- The refinery (if not already running)\n\nPolecats are NOT started by this command - they are spawned\non demand when work is assigned.\n\nExamples:\n  gt rig boot greenplace\n\n```\ngt rig boot <rig> [flags]\n```",
      "usage": "gt rig boot <rig> [flags]",
      "options": "-h, --help   help for boot",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig boot Start witness and refinery for a rig Start the witness and refinery agents for a rig.\n\nThis is the inverse of 'gt rig shutdown'. It starts:\n- The witness (if not already running)\n- The refinery (if not already running)\n\nPolecats are NOT started by this command - they are spawned\non demand when work is assigned.\n\nExamples:\n  gt rig boot greenplace\n\n```\ngt rig boot <rig> [flags]\n``` -h, --help   help for boot"
    },
    {
      "cmd": "gt rig config",
      "short": "View and manage rig configuration",
      "synopsis": "View and manage rig configuration across property layers.\n\nConfiguration is looked up through multiple layers:\n1. Wisp layer (transient, local) - .beads-wisp/config/\n2. Bead layer (persistent, synced) - rig identity bead labels\n3. Town defaults - ~/gt/settings/config.json\n4. System defaults - compiled-in fallbacks\n\nMost properties use override semantics (first non-nil wins).\nInteger properties like priority_adjustment use stacking semantics (values add).\n\n```\ngt rig config [flags]\n```",
      "usage": "gt rig config [flags]",
      "options": "-h, --help   help for config",
      "subcommands": [
        {
          "cmd": "gt rig config set",
          "desc": "Set a configuration value"
        },
        {
          "cmd": "gt rig config show",
          "desc": "Show effective configuration for a rig"
        },
        {
          "cmd": "gt rig config unset",
          "desc": "Remove a configuration value from the wisp layer"
        }
      ],
      "is_parent": true,
      "search_text": "gt rig config View and manage rig configuration View and manage rig configuration across property layers.\n\nConfiguration is looked up through multiple layers:\n1. Wisp layer (transient, local) - .beads-wisp/config/\n2. Bead layer (persistent, synced) - rig identity bead labels\n3. Town defaults - ~/gt/settings/config.json\n4. System defaults - compiled-in fallbacks\n\nMost properties use override semantics (first non-nil wins).\nInteger properties like priority_adjustment use stacking semantics (values add).\n\n```\ngt rig config [flags]\n``` -h, --help   help for config"
    },
    {
      "cmd": "gt rig config set",
      "short": "Set a configuration value",
      "synopsis": "Set a configuration value in the wisp layer (local, ephemeral).\n\nUse --global to set in the bead layer (persistent, synced globally).\nUse --block to explicitly block a key (prevents inheritance).\n\nExamples:\n  gt rig config set gastown status parked           # Wisp layer\n  gt rig config set gastown status docked --global  # Bead layer\n  gt rig config set gastown auto_restart --block    # Block inheritance\n\n```\ngt rig config set <rig> <key> [value] [flags]\n```",
      "usage": "gt rig config set <rig> <key> [value] [flags]",
      "options": "--block    Block inheritance for this key\n      --global   Set in bead layer (persistent, synced)\n  -h, --help     help for set",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig config set Set a configuration value Set a configuration value in the wisp layer (local, ephemeral).\n\nUse --global to set in the bead layer (persistent, synced globally).\nUse --block to explicitly block a key (prevents inheritance).\n\nExamples:\n  gt rig config set gastown status parked           # Wisp layer\n  gt rig config set gastown status docked --global  # Bead layer\n  gt rig config set gastown auto_restart --block    # Block inheritance\n\n```\ngt rig config set <rig> <key> [value] [flags]\n``` --block    Block inheritance for this key\n      --global   Set in bead layer (persistent, synced)\n  -h, --help     help for set"
    },
    {
      "cmd": "gt rig config show",
      "short": "Show effective configuration for a rig",
      "synopsis": "Show the effective configuration for a rig.\n\nBy default, shows only the resolved values. Use --layers to see\nwhich layer each value comes from.\n\nExample output:\n  gt rig config show gastown --layers\n  Key                 Value        Source\n  status              parked       wisp\n  priority_adjustment 10           bead\n  auto_restart        true         system\n  max_polecats        4            town\n\n```\ngt rig config show <rig> [flags]\n```",
      "usage": "gt rig config show <rig> [flags]",
      "options": "-h, --help     help for show\n      --layers   Show which layer each value comes from",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig config show Show effective configuration for a rig Show the effective configuration for a rig.\n\nBy default, shows only the resolved values. Use --layers to see\nwhich layer each value comes from.\n\nExample output:\n  gt rig config show gastown --layers\n  Key                 Value        Source\n  status              parked       wisp\n  priority_adjustment 10           bead\n  auto_restart        true         system\n  max_polecats        4            town\n\n```\ngt rig config show <rig> [flags]\n``` -h, --help     help for show\n      --layers   Show which layer each value comes from"
    },
    {
      "cmd": "gt rig config unset",
      "short": "Remove a configuration value from the wisp layer",
      "synopsis": "Remove a configuration value from the wisp layer.\n\nThis clears both regular values and blocked markers for the key.\nValues set in the bead layer remain unchanged.\n\nExample:\n  gt rig config unset gastown status\n\n```\ngt rig config unset <rig> <key> [flags]\n```",
      "usage": "gt rig config unset <rig> <key> [flags]",
      "options": "-h, --help   help for unset",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig config unset Remove a configuration value from the wisp layer Remove a configuration value from the wisp layer.\n\nThis clears both regular values and blocked markers for the key.\nValues set in the bead layer remain unchanged.\n\nExample:\n  gt rig config unset gastown status\n\n```\ngt rig config unset <rig> <key> [flags]\n``` -h, --help   help for unset"
    },
    {
      "cmd": "gt rig dock",
      "short": "Dock a rig (global, persistent shutdown)",
      "synopsis": "Dock a rig to persistently disable it across all clones.\n\nDocking a rig:\n  - Stops the witness if running\n  - Stops the refinery if running\n  - Stops all polecat sessions if running\n  - Sets status:docked label on the rig identity bead\n  - Syncs via git so all clones see the docked status\n\nThis is a Level 2 (global/persistent) operation:\n  - Affects all clones of this rig (via git sync)\n  - Persists until explicitly undocked\n  - The daemon respects this status and won't auto-restart agents\n\nUse 'gt rig undock' to resume normal operation.\n\nExamples:\n  gt rig dock gastown\n  gt rig dock beads\n\n```\ngt rig dock <rig> [flags]\n```",
      "usage": "gt rig dock <rig> [flags]",
      "options": "-h, --help   help for dock",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig dock Dock a rig (global, persistent shutdown) Dock a rig to persistently disable it across all clones.\n\nDocking a rig:\n  - Stops the witness if running\n  - Stops the refinery if running\n  - Stops all polecat sessions if running\n  - Sets status:docked label on the rig identity bead\n  - Syncs via git so all clones see the docked status\n\nThis is a Level 2 (global/persistent) operation:\n  - Affects all clones of this rig (via git sync)\n  - Persists until explicitly undocked\n  - The daemon respects this status and won't auto-restart agents\n\nUse 'gt rig undock' to resume normal operation.\n\nExamples:\n  gt rig dock gastown\n  gt rig dock beads\n\n```\ngt rig dock <rig> [flags]\n``` -h, --help   help for dock"
    },
    {
      "cmd": "gt rig list",
      "short": "List all rigs in the workspace",
      "synopsis": "",
      "usage": "gt rig list [flags]",
      "options": "-h, --help   help for list",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig list List all rigs in the workspace  -h, --help   help for list"
    },
    {
      "cmd": "gt rig park",
      "short": "Park one or more rigs (stops agents, daemon won't auto-restart)",
      "synopsis": "Park rigs to temporarily disable them.\n\nParking a rig:\n  - Stops the witness if running\n  - Stops the refinery if running\n  - Sets status=parked in the wisp layer (local/ephemeral)\n  - The daemon respects this status and won't auto-restart agents\n\nThis is a Level 1 (local/ephemeral) operation:\n  - Only affects this town\n  - Disappears on wisp cleanup\n  - Use 'gt rig unpark' to resume normal operation\n\nExamples:\n  gt rig park gastown\n  gt rig park beads gastown mayor\n\n```\ngt rig park <rig>... [flags]\n```",
      "usage": "gt rig park <rig>... [flags]",
      "options": "-h, --help   help for park",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig park Park one or more rigs (stops agents, daemon won't auto-restart) Park rigs to temporarily disable them.\n\nParking a rig:\n  - Stops the witness if running\n  - Stops the refinery if running\n  - Sets status=parked in the wisp layer (local/ephemeral)\n  - The daemon respects this status and won't auto-restart agents\n\nThis is a Level 1 (local/ephemeral) operation:\n  - Only affects this town\n  - Disappears on wisp cleanup\n  - Use 'gt rig unpark' to resume normal operation\n\nExamples:\n  gt rig park gastown\n  gt rig park beads gastown mayor\n\n```\ngt rig park <rig>... [flags]\n``` -h, --help   help for park"
    },
    {
      "cmd": "gt rig reboot",
      "short": "Restart witness and refinery for a rig",
      "synopsis": "Restart the patrol agents (witness and refinery) for a rig.\n\nThis is equivalent to 'gt rig shutdown' followed by 'gt rig boot'.\nUseful after polecats complete work and land their changes.\n\nExamples:\n  gt rig reboot greenplace\n  gt rig reboot beads --force\n\n```\ngt rig reboot <rig> [flags]\n```",
      "usage": "gt rig reboot <rig> [flags]",
      "options": "-f, --force   Force immediate shutdown during reboot\n  -h, --help    help for reboot",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig reboot Restart witness and refinery for a rig Restart the patrol agents (witness and refinery) for a rig.\n\nThis is equivalent to 'gt rig shutdown' followed by 'gt rig boot'.\nUseful after polecats complete work and land their changes.\n\nExamples:\n  gt rig reboot greenplace\n  gt rig reboot beads --force\n\n```\ngt rig reboot <rig> [flags]\n``` -f, --force   Force immediate shutdown during reboot\n  -h, --help    help for reboot"
    },
    {
      "cmd": "gt rig remove",
      "short": "Remove a rig from the registry (does not delete files)",
      "synopsis": "",
      "usage": "gt rig remove <name> [flags]",
      "options": "-h, --help   help for remove",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig remove Remove a rig from the registry (does not delete files)  -h, --help   help for remove"
    },
    {
      "cmd": "gt rig reset",
      "short": "Reset rig state (handoff content, mail, stale issues)",
      "synopsis": "Reset various rig state.\n\nBy default, resets all resettable state. Use flags to reset specific items.\n\nExamples:\n  gt rig reset              # Reset all state\n  gt rig reset --handoff    # Clear handoff content only\n  gt rig reset --mail       # Clear stale mail messages only\n  gt rig reset --stale      # Reset orphaned in_progress issues\n  gt rig reset --stale --dry-run  # Preview what would be reset\n\n```\ngt rig reset [flags]\n```",
      "usage": "gt rig reset [flags]",
      "options": "--dry-run       Show what would be reset without making changes\n      --handoff       Clear handoff content\n  -h, --help          help for reset\n      --mail          Clear stale mail messages\n      --role string   Role to reset (default: auto-detect from cwd)\n      --stale         Reset orphaned in_progress issues (no active session)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig reset Reset rig state (handoff content, mail, stale issues) Reset various rig state.\n\nBy default, resets all resettable state. Use flags to reset specific items.\n\nExamples:\n  gt rig reset              # Reset all state\n  gt rig reset --handoff    # Clear handoff content only\n  gt rig reset --mail       # Clear stale mail messages only\n  gt rig reset --stale      # Reset orphaned in_progress issues\n  gt rig reset --stale --dry-run  # Preview what would be reset\n\n```\ngt rig reset [flags]\n``` --dry-run       Show what would be reset without making changes\n      --handoff       Clear handoff content\n  -h, --help          help for reset\n      --mail          Clear stale mail messages\n      --role string   Role to reset (default: auto-detect from cwd)\n      --stale         Reset orphaned in_progress issues (no active session)"
    },
    {
      "cmd": "gt rig restart",
      "short": "Restart one or more rigs (stop then start)",
      "synopsis": "Restart the patrol agents (witness and refinery) for one or more rigs.\n\nThis is equivalent to 'gt rig stop' followed by 'gt rig start' for each rig.\nUseful after polecats complete work and land their changes.\n\nBefore shutdown, checks all polecats for uncommitted work:\n- Uncommitted changes (modified/untracked files)\n- Stashes\n- Unpushed commits\n\nUse --force to skip graceful shutdown and kill immediately.\nUse --nuclear to bypass ALL safety checks (will lose work!).\n\nExamples:\n  gt rig restart gastown\n  gt rig restart gastown beads\n  gt rig restart --force gastown beads\n  gt rig restart --nuclear gastown  # DANGER: loses uncommitted work\n\n```\ngt rig restart <rig>... [flags]\n```",
      "usage": "gt rig restart <rig>... [flags]",
      "options": "-f, --force     Force immediate shutdown during restart\n  -h, --help      help for restart\n      --nuclear   DANGER: Bypass ALL safety checks (loses uncommitted work!)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig restart Restart one or more rigs (stop then start) Restart the patrol agents (witness and refinery) for one or more rigs.\n\nThis is equivalent to 'gt rig stop' followed by 'gt rig start' for each rig.\nUseful after polecats complete work and land their changes.\n\nBefore shutdown, checks all polecats for uncommitted work:\n- Uncommitted changes (modified/untracked files)\n- Stashes\n- Unpushed commits\n\nUse --force to skip graceful shutdown and kill immediately.\nUse --nuclear to bypass ALL safety checks (will lose work!).\n\nExamples:\n  gt rig restart gastown\n  gt rig restart gastown beads\n  gt rig restart --force gastown beads\n  gt rig restart --nuclear gastown  # DANGER: loses uncommitted work\n\n```\ngt rig restart <rig>... [flags]\n``` -f, --force     Force immediate shutdown during restart\n  -h, --help      help for restart\n      --nuclear   DANGER: Bypass ALL safety checks (loses uncommitted work!)"
    },
    {
      "cmd": "gt rig settings",
      "short": "View and manage rig settings",
      "synopsis": "View and manage rig settings (settings/config.json).\n\nRig settings control behavioral configuration for a rig:\n- Agent selection and overrides\n- Merge queue settings\n- Theme configuration\n- Namepool settings\n- Crew startup settings\n- Workflow settings\n\nSettings are stored in settings/config.json within each rig directory.\nUse dot notation to access nested keys (e.g., role_agents.witness).\n\n```\ngt rig settings [flags]\n```",
      "usage": "gt rig settings [flags]",
      "options": "-h, --help   help for settings",
      "subcommands": [
        {
          "cmd": "gt rig settings set",
          "desc": "Set a settings value"
        },
        {
          "cmd": "gt rig settings show",
          "desc": "Display all settings"
        },
        {
          "cmd": "gt rig settings unset",
          "desc": "Remove a settings value"
        }
      ],
      "is_parent": true,
      "search_text": "gt rig settings View and manage rig settings View and manage rig settings (settings/config.json).\n\nRig settings control behavioral configuration for a rig:\n- Agent selection and overrides\n- Merge queue settings\n- Theme configuration\n- Namepool settings\n- Crew startup settings\n- Workflow settings\n\nSettings are stored in settings/config.json within each rig directory.\nUse dot notation to access nested keys (e.g., role_agents.witness).\n\n```\ngt rig settings [flags]\n``` -h, --help   help for settings"
    },
    {
      "cmd": "gt rig settings set",
      "short": "Set a settings value",
      "synopsis": "Set a settings value using dot notation for nested keys.\n\nThe value type is automatically inferred:\n- \"true\"/\"false\" \u2192 boolean\n- Numbers \u2192 number\n- Valid JSON \u2192 parsed as JSON\n- Otherwise \u2192 string\n\nIf the settings file doesn't exist, it will be created with a valid scaffold.\n\nExamples:\n  gt rig settings set gastown agent claude\n  gt rig settings set gastown role_agents.witness gemini\n  gt rig settings set gastown merge_queue.max_concurrent 5\n  gt rig settings set gastown theme.background_color \"#000000\"\n\n```\ngt rig settings set <rig> <key-path> <value> [flags]\n```",
      "usage": "gt rig settings set <rig> <key-path> <value> [flags]",
      "options": "-h, --help   help for set",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig settings set Set a settings value Set a settings value using dot notation for nested keys.\n\nThe value type is automatically inferred:\n- \"true\"/\"false\" \u2192 boolean\n- Numbers \u2192 number\n- Valid JSON \u2192 parsed as JSON\n- Otherwise \u2192 string\n\nIf the settings file doesn't exist, it will be created with a valid scaffold.\n\nExamples:\n  gt rig settings set gastown agent claude\n  gt rig settings set gastown role_agents.witness gemini\n  gt rig settings set gastown merge_queue.max_concurrent 5\n  gt rig settings set gastown theme.background_color \"#000000\"\n\n```\ngt rig settings set <rig> <key-path> <value> [flags]\n``` -h, --help   help for set"
    },
    {
      "cmd": "gt rig settings show",
      "short": "Display all settings",
      "synopsis": "Display all settings for a rig.\n\nShows the complete settings/config.json file as formatted JSON.\n\nExample:\n  gt rig settings show gastown\n\n```\ngt rig settings show <rig> [flags]\n```",
      "usage": "gt rig settings show <rig> [flags]",
      "options": "-h, --help   help for show",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig settings show Display all settings Display all settings for a rig.\n\nShows the complete settings/config.json file as formatted JSON.\n\nExample:\n  gt rig settings show gastown\n\n```\ngt rig settings show <rig> [flags]\n``` -h, --help   help for show"
    },
    {
      "cmd": "gt rig settings unset",
      "short": "Remove a settings value",
      "synopsis": "Remove a settings value using dot notation for nested keys.\n\nThis removes the key from the settings file. For nested keys, only the\nspecified key is removed (parent objects remain if they have other keys).\n\nExamples:\n  gt rig settings unset gastown agent\n  gt rig settings unset gastown role_agents.witness\n\n```\ngt rig settings unset <rig> <key-path> [flags]\n```",
      "usage": "gt rig settings unset <rig> <key-path> [flags]",
      "options": "-h, --help   help for unset",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig settings unset Remove a settings value Remove a settings value using dot notation for nested keys.\n\nThis removes the key from the settings file. For nested keys, only the\nspecified key is removed (parent objects remain if they have other keys).\n\nExamples:\n  gt rig settings unset gastown agent\n  gt rig settings unset gastown role_agents.witness\n\n```\ngt rig settings unset <rig> <key-path> [flags]\n``` -h, --help   help for unset"
    },
    {
      "cmd": "gt rig shutdown",
      "short": "Gracefully stop all rig agents",
      "synopsis": "Stop all agents in a rig.\n\nThis command gracefully shuts down:\n- All polecat sessions\n- The refinery (if running)\n- The witness (if running)\n\nBefore shutdown, checks all polecats for uncommitted work:\n- Uncommitted changes (modified/untracked files)\n- Stashes\n- Unpushed commits\n\nUse --force to skip graceful shutdown and kill immediately.\nUse --nuclear to bypass ALL safety checks (will lose work!).\n\nExamples:\n  gt rig shutdown greenplace\n  gt rig shutdown greenplace --force\n  gt rig shutdown greenplace --nuclear  # DANGER: loses uncommitted work\n\n```\ngt rig shutdown <rig> [flags]\n```",
      "usage": "gt rig shutdown <rig> [flags]",
      "options": "-f, --force     Force immediate shutdown\n  -h, --help      help for shutdown\n      --nuclear   DANGER: Bypass ALL safety checks (loses uncommitted work!)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig shutdown Gracefully stop all rig agents Stop all agents in a rig.\n\nThis command gracefully shuts down:\n- All polecat sessions\n- The refinery (if running)\n- The witness (if running)\n\nBefore shutdown, checks all polecats for uncommitted work:\n- Uncommitted changes (modified/untracked files)\n- Stashes\n- Unpushed commits\n\nUse --force to skip graceful shutdown and kill immediately.\nUse --nuclear to bypass ALL safety checks (will lose work!).\n\nExamples:\n  gt rig shutdown greenplace\n  gt rig shutdown greenplace --force\n  gt rig shutdown greenplace --nuclear  # DANGER: loses uncommitted work\n\n```\ngt rig shutdown <rig> [flags]\n``` -f, --force     Force immediate shutdown\n  -h, --help      help for shutdown\n      --nuclear   DANGER: Bypass ALL safety checks (loses uncommitted work!)"
    },
    {
      "cmd": "gt rig start",
      "short": "Start witness and refinery on patrol for one or more rigs",
      "synopsis": "Start the witness and refinery agents on patrol for one or more rigs.\n\nThis is similar to 'gt rig boot' but supports multiple rigs at once.\nFor each rig, it starts:\n- The witness (if not already running)\n- The refinery (if not already running)\n\nPolecats are NOT started by this command - they are spawned\non demand when work is assigned.\n\nExamples:\n  gt rig start gastown\n  gt rig start gastown beads\n  gt rig start gastown beads myproject\n\n```\ngt rig start <rig>... [flags]\n```",
      "usage": "gt rig start <rig>... [flags]",
      "options": "-h, --help   help for start",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig start Start witness and refinery on patrol for one or more rigs Start the witness and refinery agents on patrol for one or more rigs.\n\nThis is similar to 'gt rig boot' but supports multiple rigs at once.\nFor each rig, it starts:\n- The witness (if not already running)\n- The refinery (if not already running)\n\nPolecats are NOT started by this command - they are spawned\non demand when work is assigned.\n\nExamples:\n  gt rig start gastown\n  gt rig start gastown beads\n  gt rig start gastown beads myproject\n\n```\ngt rig start <rig>... [flags]\n``` -h, --help   help for start"
    },
    {
      "cmd": "gt rig status",
      "short": "Show detailed status for a specific rig",
      "synopsis": "Show detailed status for a specific rig including all workers.\n\nIf no rig is specified, infers the rig from the current directory.\n\nDisplays:\n- Rig information (name, path, beads prefix)\n- Witness status (running/stopped, uptime)\n- Refinery status (running/stopped, uptime, queue size)\n- Polecats (name, state, assigned issue, session status)\n- Crew members (name, branch, session status, git status)\n\nExamples:\n  gt rig status           # Infer rig from current directory\n  gt rig status gastown\n  gt rig status beads\n\n```\ngt rig status [rig] [flags]\n```",
      "usage": "gt rig status [rig] [flags]",
      "options": "-h, --help   help for status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig status Show detailed status for a specific rig Show detailed status for a specific rig including all workers.\n\nIf no rig is specified, infers the rig from the current directory.\n\nDisplays:\n- Rig information (name, path, beads prefix)\n- Witness status (running/stopped, uptime)\n- Refinery status (running/stopped, uptime, queue size)\n- Polecats (name, state, assigned issue, session status)\n- Crew members (name, branch, session status, git status)\n\nExamples:\n  gt rig status           # Infer rig from current directory\n  gt rig status gastown\n  gt rig status beads\n\n```\ngt rig status [rig] [flags]\n``` -h, --help   help for status"
    },
    {
      "cmd": "gt rig stop",
      "short": "Stop one or more rigs (shutdown semantics)",
      "synopsis": "Stop all agents in one or more rigs.\n\nThis command is similar to 'gt rig shutdown' but supports multiple rigs.\nFor each rig, it gracefully shuts down:\n- All polecat sessions\n- The refinery (if running)\n- The witness (if running)\n\nBefore shutdown, checks all polecats for uncommitted work:\n- Uncommitted changes (modified/untracked files)\n- Stashes\n- Unpushed commits\n\nUse --force to skip graceful shutdown and kill immediately.\nUse --nuclear to bypass ALL safety checks (will lose work!).\n\nExamples:\n  gt rig stop gastown\n  gt rig stop gastown beads\n  gt rig stop --force gastown beads\n  gt rig stop --nuclear gastown  # DANGER: loses uncommitted work\n\n```\ngt rig stop <rig>... [flags]\n```",
      "usage": "gt rig stop <rig>... [flags]",
      "options": "-f, --force     Force immediate shutdown\n  -h, --help      help for stop\n      --nuclear   DANGER: Bypass ALL safety checks (loses uncommitted work!)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig stop Stop one or more rigs (shutdown semantics) Stop all agents in one or more rigs.\n\nThis command is similar to 'gt rig shutdown' but supports multiple rigs.\nFor each rig, it gracefully shuts down:\n- All polecat sessions\n- The refinery (if running)\n- The witness (if running)\n\nBefore shutdown, checks all polecats for uncommitted work:\n- Uncommitted changes (modified/untracked files)\n- Stashes\n- Unpushed commits\n\nUse --force to skip graceful shutdown and kill immediately.\nUse --nuclear to bypass ALL safety checks (will lose work!).\n\nExamples:\n  gt rig stop gastown\n  gt rig stop gastown beads\n  gt rig stop --force gastown beads\n  gt rig stop --nuclear gastown  # DANGER: loses uncommitted work\n\n```\ngt rig stop <rig>... [flags]\n``` -f, --force     Force immediate shutdown\n  -h, --help      help for stop\n      --nuclear   DANGER: Bypass ALL safety checks (loses uncommitted work!)"
    },
    {
      "cmd": "gt rig undock",
      "short": "Undock a rig (remove global docked status)",
      "synopsis": "Undock a rig to remove the persistent docked status.\n\nUndocking a rig:\n  - Removes the status:docked label from the rig identity bead\n  - Syncs via git so all clones see the undocked status\n  - Allows the daemon to auto-restart agents\n  - Does NOT automatically start agents (use 'gt rig start' for that)\n\nExamples:\n  gt rig undock gastown\n  gt rig undock beads\n\n```\ngt rig undock <rig> [flags]\n```",
      "usage": "gt rig undock <rig> [flags]",
      "options": "-h, --help   help for undock",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig undock Undock a rig (remove global docked status) Undock a rig to remove the persistent docked status.\n\nUndocking a rig:\n  - Removes the status:docked label from the rig identity bead\n  - Syncs via git so all clones see the undocked status\n  - Allows the daemon to auto-restart agents\n  - Does NOT automatically start agents (use 'gt rig start' for that)\n\nExamples:\n  gt rig undock gastown\n  gt rig undock beads\n\n```\ngt rig undock <rig> [flags]\n``` -h, --help   help for undock"
    },
    {
      "cmd": "gt rig unpark",
      "short": "Unpark one or more rigs (allow daemon to auto-restart agents)",
      "synopsis": "Unpark rigs to resume normal operation.\n\nUnparking a rig:\n  - Removes the parked status from the wisp layer\n  - Allows the daemon to auto-restart agents\n  - Does NOT automatically start agents (use 'gt rig start' for that)\n\nExamples:\n  gt rig unpark gastown\n  gt rig unpark beads gastown mayor\n\n```\ngt rig unpark <rig>... [flags]\n```",
      "usage": "gt rig unpark <rig>... [flags]",
      "options": "-h, --help   help for unpark",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt rig unpark Unpark one or more rigs (allow daemon to auto-restart agents) Unpark rigs to resume normal operation.\n\nUnparking a rig:\n  - Removes the parked status from the wisp layer\n  - Allows the daemon to auto-restart agents\n  - Does NOT automatically start agents (use 'gt rig start' for that)\n\nExamples:\n  gt rig unpark gastown\n  gt rig unpark beads gastown mayor\n\n```\ngt rig unpark <rig>... [flags]\n``` -h, --help   help for unpark"
    },
    {
      "cmd": "gt role",
      "short": "Show or manage agent role",
      "synopsis": "Display the current agent role and its detection source.\n\nRole is determined by:\n1. GT_ROLE environment variable (authoritative if set)\n2. Current working directory (fallback)\n\nIf both are available and disagree, a warning is shown.\n\n```\ngt role [flags]\n```",
      "usage": "gt role [flags]",
      "options": "-h, --help   help for role",
      "subcommands": [
        {
          "cmd": "gt role def",
          "desc": "Display role definition (session, health, env config)"
        },
        {
          "cmd": "gt role detect",
          "desc": "Force cwd-based role detection (debugging)"
        },
        {
          "cmd": "gt role env",
          "desc": "Print export statements for current role"
        },
        {
          "cmd": "gt role home",
          "desc": "Show home directory for a role"
        },
        {
          "cmd": "gt role list",
          "desc": "List all known roles"
        },
        {
          "cmd": "gt role show",
          "desc": "Show current role"
        }
      ],
      "is_parent": true,
      "search_text": "gt role Show or manage agent role Display the current agent role and its detection source.\n\nRole is determined by:\n1. GT_ROLE environment variable (authoritative if set)\n2. Current working directory (fallback)\n\nIf both are available and disagree, a warning is shown.\n\n```\ngt role [flags]\n``` -h, --help   help for role"
    },
    {
      "cmd": "gt role def",
      "short": "Display role definition (session, health, env config)",
      "synopsis": "Display the effective role definition after all overrides are applied.\n\nRole configuration is layered:\n  1. Built-in defaults (embedded in binary)\n  2. Town-level overrides (~/.gt/roles/<role>.toml)\n  3. Rig-level overrides (<rig>/roles/<role>.toml)\n\nExamples:\n  gt role def witness    # Show witness role definition\n  gt role def crew       # Show crew role definition\n\n```\ngt role def <role> [flags]\n```",
      "usage": "gt role def <role> [flags]",
      "options": "-h, --help   help for def",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt role def Display role definition (session, health, env config) Display the effective role definition after all overrides are applied.\n\nRole configuration is layered:\n  1. Built-in defaults (embedded in binary)\n  2. Town-level overrides (~/.gt/roles/<role>.toml)\n  3. Rig-level overrides (<rig>/roles/<role>.toml)\n\nExamples:\n  gt role def witness    # Show witness role definition\n  gt role def crew       # Show crew role definition\n\n```\ngt role def <role> [flags]\n``` -h, --help   help for def"
    },
    {
      "cmd": "gt role detect",
      "short": "Force cwd-based role detection (debugging)",
      "synopsis": "Detect role from current working directory, ignoring GT_ROLE env var.\n\nThis is useful for debugging role detection issues.\n\n```\ngt role detect [flags]\n```",
      "usage": "gt role detect [flags]",
      "options": "-h, --help   help for detect",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt role detect Force cwd-based role detection (debugging) Detect role from current working directory, ignoring GT_ROLE env var.\n\nThis is useful for debugging role detection issues.\n\n```\ngt role detect [flags]\n``` -h, --help   help for detect"
    },
    {
      "cmd": "gt role env",
      "short": "Print export statements for current role",
      "synopsis": "Print shell export statements for the current role.\n\nRole is determined from GT_ROLE environment variable or current working directory.\nThis is a read-only command that displays the current role's env vars.\n\nExamples:\n  eval $(gt role env)    # Export current role's env vars\n  gt role env            # View what would be exported\n\n```\ngt role env [flags]\n```",
      "usage": "gt role env [flags]",
      "options": "-h, --help   help for env",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt role env Print export statements for current role Print shell export statements for the current role.\n\nRole is determined from GT_ROLE environment variable or current working directory.\nThis is a read-only command that displays the current role's env vars.\n\nExamples:\n  eval $(gt role env)    # Export current role's env vars\n  gt role env            # View what would be exported\n\n```\ngt role env [flags]\n``` -h, --help   help for env"
    },
    {
      "cmd": "gt role home",
      "short": "Show home directory for a role",
      "synopsis": "Show the canonical home directory for a role.\n\nIf no role is specified, shows the home for the current role.\n\nExamples:\n  gt role home           # Home for current role\n  gt role home mayor     # Home for mayor\n  gt role home witness   # Home for witness (requires --rig)\n\n```\ngt role home [ROLE] [flags]\n```",
      "usage": "gt role home [ROLE] [flags]",
      "options": "-h, --help             help for home\n      --polecat string   Polecat/crew member name\n      --rig string       Rig name (required for rig-specific roles)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt role home Show home directory for a role Show the canonical home directory for a role.\n\nIf no role is specified, shows the home for the current role.\n\nExamples:\n  gt role home           # Home for current role\n  gt role home mayor     # Home for mayor\n  gt role home witness   # Home for witness (requires --rig)\n\n```\ngt role home [ROLE] [flags]\n``` -h, --help             help for home\n      --polecat string   Polecat/crew member name\n      --rig string       Rig name (required for rig-specific roles)"
    },
    {
      "cmd": "gt role list",
      "short": "List all known roles",
      "synopsis": "",
      "usage": "gt role list [flags]",
      "options": "-h, --help   help for list",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt role list List all known roles  -h, --help   help for list"
    },
    {
      "cmd": "gt role show",
      "short": "Show current role",
      "synopsis": "",
      "usage": "gt role show [flags]",
      "options": "-h, --help   help for show",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt role show Show current role  -h, --help   help for show"
    },
    {
      "cmd": "gt seance",
      "short": "Talk to your predecessor sessions",
      "synopsis": "Seance lets you literally talk to predecessor sessions.\n\n\"Where did you put the stuff you left for me?\" - The #1 handoff question.\n\nInstead of parsing logs, seance spawns a Claude subprocess that resumes\na predecessor session with full context. You can ask questions directly:\n  - \"Why did you make this decision?\"\n  - \"Where were you stuck?\"\n  - \"What did you try that didn't work?\"\n\nDISCOVERY:\n  gt seance                     # List recent sessions from events\n  gt seance --role crew         # Filter by role type\n  gt seance --rig gastown       # Filter by rig\n  gt seance --recent 10         # Last N sessions\n\nTHE SEANCE (talk to predecessor):\n  gt seance --talk <session-id>              # Interactive conversation\n  gt seance --talk <id> -p \"Where is X?\"     # One-shot question\n\nThe --talk flag spawns: claude --fork-session --resume <id>\nThis loads the predecessor's full context without modifying their session.\n\nSessions are discovered from:\n  1. Events emitted by SessionStart hooks (~/gt/.events.jsonl)\n  2. The [GAS TOWN] beacon makes sessions searchable in /resume\n\n```\ngt seance [flags]\n```",
      "usage": "gt seance [flags]",
      "options": "-h, --help            help for seance\n      --json            Output as JSON\n  -p, --prompt string   One-shot prompt (with --talk)\n  -n, --recent int      Number of recent sessions to show (default 20)\n      --rig string      Filter by rig name\n      --role string     Filter by role (crew, polecat, witness, etc.)\n  -t, --talk string     Session ID to commune with",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt seance Talk to your predecessor sessions Seance lets you literally talk to predecessor sessions.\n\n\"Where did you put the stuff you left for me?\" - The #1 handoff question.\n\nInstead of parsing logs, seance spawns a Claude subprocess that resumes\na predecessor session with full context. You can ask questions directly:\n  - \"Why did you make this decision?\"\n  - \"Where were you stuck?\"\n  - \"What did you try that didn't work?\"\n\nDISCOVERY:\n  gt seance                     # List recent sessions from events\n  gt seance --role crew         # Filter by role type\n  gt seance --rig gastown       # Filter by rig\n  gt seance --recent 10         # Last N sessions\n\nTHE SEANCE (talk to predecessor):\n  gt seance --talk <session-id>              # Interactive conversation\n  gt seance --talk <id> -p \"Where is X?\"     # One-shot question\n\nThe --talk flag spawns: claude --fork-session --resume <id>\nThis loads the predecessor's full context without modifying their session.\n\nSessions are discovered from:\n  1. Events emitted by SessionStart hooks (~/gt/.events.jsonl)\n  2. The [GAS TOWN] beacon makes sessions searchable in /resume\n\n```\ngt seance [flags]\n``` -h, --help            help for seance\n      --json            Output as JSON\n  -p, --prompt string   One-shot prompt (with --talk)\n  -n, --recent int      Number of recent sessions to show (default 20)\n      --rig string      Filter by rig name\n      --role string     Filter by role (crew, polecat, witness, etc.)\n  -t, --talk string     Session ID to commune with"
    },
    {
      "cmd": "gt session",
      "short": "Manage polecat sessions",
      "synopsis": "Manage tmux sessions for polecats.\n\nSessions are tmux sessions running Claude for each polecat.\nUse the subcommands to start, stop, attach, and monitor sessions.\n\nTIP: To send messages to a running session, use 'gt nudge' (not 'session inject').\nThe nudge command uses reliable delivery that works correctly with Claude Code.\n\n```\ngt session [flags]\n```",
      "usage": "gt session [flags]",
      "options": "-h, --help   help for session",
      "subcommands": [
        {
          "cmd": "gt session at",
          "desc": "Attach to a running session"
        },
        {
          "cmd": "gt session capture",
          "desc": "Capture recent session output"
        },
        {
          "cmd": "gt session check",
          "desc": "Check session health for polecats"
        },
        {
          "cmd": "gt session inject",
          "desc": "Send message to session (prefer 'gt nudge')"
        },
        {
          "cmd": "gt session list",
          "desc": "List all sessions"
        },
        {
          "cmd": "gt session restart",
          "desc": "Restart a polecat session"
        },
        {
          "cmd": "gt session start",
          "desc": "Start a polecat session"
        },
        {
          "cmd": "gt session status",
          "desc": "Show session status details"
        },
        {
          "cmd": "gt session stop",
          "desc": "Stop a polecat session"
        }
      ],
      "is_parent": true,
      "search_text": "gt session Manage polecat sessions Manage tmux sessions for polecats.\n\nSessions are tmux sessions running Claude for each polecat.\nUse the subcommands to start, stop, attach, and monitor sessions.\n\nTIP: To send messages to a running session, use 'gt nudge' (not 'session inject').\nThe nudge command uses reliable delivery that works correctly with Claude Code.\n\n```\ngt session [flags]\n``` -h, --help   help for session"
    },
    {
      "cmd": "gt session at",
      "short": "Attach to a running session",
      "synopsis": "Attach to a running polecat session.\n\nAttaches the current terminal to the tmux session. Detach with Ctrl-B D.\n\n```\ngt session at <rig>/<polecat> [flags]\n```",
      "usage": "gt session at <rig>/<polecat> [flags]",
      "options": "-h, --help   help for at",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt session at Attach to a running session Attach to a running polecat session.\n\nAttaches the current terminal to the tmux session. Detach with Ctrl-B D.\n\n```\ngt session at <rig>/<polecat> [flags]\n``` -h, --help   help for at"
    },
    {
      "cmd": "gt session capture",
      "short": "Capture recent session output",
      "synopsis": "Capture recent output from a polecat session.\n\nReturns the last N lines of terminal output. Useful for checking progress.\n\nExamples:\n  gt session capture wyvern/Toast        # Last 100 lines (default)\n  gt session capture wyvern/Toast 50     # Last 50 lines\n  gt session capture wyvern/Toast -n 50  # Same as above\n\n```\ngt session capture <rig>/<polecat> [count] [flags]\n```",
      "usage": "gt session capture <rig>/<polecat> [count] [flags]",
      "options": "-h, --help        help for capture\n  -n, --lines int   Number of lines to capture (default 100)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt session capture Capture recent session output Capture recent output from a polecat session.\n\nReturns the last N lines of terminal output. Useful for checking progress.\n\nExamples:\n  gt session capture wyvern/Toast        # Last 100 lines (default)\n  gt session capture wyvern/Toast 50     # Last 50 lines\n  gt session capture wyvern/Toast -n 50  # Same as above\n\n```\ngt session capture <rig>/<polecat> [count] [flags]\n``` -h, --help        help for capture\n  -n, --lines int   Number of lines to capture (default 100)"
    },
    {
      "cmd": "gt session check",
      "short": "Check session health for polecats",
      "synopsis": "Check if polecat tmux sessions are alive and healthy.\n\nThis command validates that:\n1. Polecats with work-on-hook have running tmux sessions\n2. Sessions are responsive\n\nUse this for manual health checks or debugging session issues.\n\nExamples:\n  gt session check              # Check all rigs\n  gt session check greenplace      # Check specific rig\n\n```\ngt session check [rig] [flags]\n```",
      "usage": "gt session check [rig] [flags]",
      "options": "-h, --help   help for check",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt session check Check session health for polecats Check if polecat tmux sessions are alive and healthy.\n\nThis command validates that:\n1. Polecats with work-on-hook have running tmux sessions\n2. Sessions are responsive\n\nUse this for manual health checks or debugging session issues.\n\nExamples:\n  gt session check              # Check all rigs\n  gt session check greenplace      # Check specific rig\n\n```\ngt session check [rig] [flags]\n``` -h, --help   help for check"
    },
    {
      "cmd": "gt session inject",
      "short": "Send message to session (prefer 'gt nudge')",
      "synopsis": "Send a message to a polecat session.\n\nNOTE: For sending messages to Claude sessions, use 'gt nudge' instead.\nIt uses reliable delivery (literal mode + timing) that works correctly\nwith Claude Code's input handling.\n\nThis command is a low-level primitive for file-based injection or\ncases where you need raw tmux send-keys behavior.\n\nExamples:\n  gt nudge greenplace/furiosa \"Check your mail\"     # Preferred\n  gt session inject wyvern/Toast -f prompt.txt   # For file injection\n\n```\ngt session inject <rig>/<polecat> [flags]\n```",
      "usage": "gt session inject <rig>/<polecat> [flags]",
      "options": "-f, --file string      File to read message from\n  -h, --help             help for inject\n  -m, --message string   Message to inject",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt session inject Send message to session (prefer 'gt nudge') Send a message to a polecat session.\n\nNOTE: For sending messages to Claude sessions, use 'gt nudge' instead.\nIt uses reliable delivery (literal mode + timing) that works correctly\nwith Claude Code's input handling.\n\nThis command is a low-level primitive for file-based injection or\ncases where you need raw tmux send-keys behavior.\n\nExamples:\n  gt nudge greenplace/furiosa \"Check your mail\"     # Preferred\n  gt session inject wyvern/Toast -f prompt.txt   # For file injection\n\n```\ngt session inject <rig>/<polecat> [flags]\n``` -f, --file string      File to read message from\n  -h, --help             help for inject\n  -m, --message string   Message to inject"
    },
    {
      "cmd": "gt session list",
      "short": "List all sessions",
      "synopsis": "List all running polecat sessions.\n\nShows session status, rig, and polecat name. Use --rig to filter by rig.\n\n```\ngt session list [flags]\n```",
      "usage": "gt session list [flags]",
      "options": "-h, --help         help for list\n      --json         Output as JSON\n      --rig string   Filter by rig name",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt session list List all sessions List all running polecat sessions.\n\nShows session status, rig, and polecat name. Use --rig to filter by rig.\n\n```\ngt session list [flags]\n``` -h, --help         help for list\n      --json         Output as JSON\n      --rig string   Filter by rig name"
    },
    {
      "cmd": "gt session restart",
      "short": "Restart a polecat session",
      "synopsis": "Restart a polecat session (stop + start).\n\nGracefully stops the current session and starts a fresh one.\nUse --force to skip graceful shutdown.\n\n```\ngt session restart <rig>/<polecat> [flags]\n```",
      "usage": "gt session restart <rig>/<polecat> [flags]",
      "options": "-f, --force   Force immediate shutdown\n  -h, --help    help for restart",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt session restart Restart a polecat session Restart a polecat session (stop + start).\n\nGracefully stops the current session and starts a fresh one.\nUse --force to skip graceful shutdown.\n\n```\ngt session restart <rig>/<polecat> [flags]\n``` -f, --force   Force immediate shutdown\n  -h, --help    help for restart"
    },
    {
      "cmd": "gt session start",
      "short": "Start a polecat session",
      "synopsis": "Start a new tmux session for a polecat.\n\nCreates a tmux session, navigates to the polecat's working directory,\nand launches claude. Optionally inject an initial issue to work on.\n\nExamples:\n  gt session start wyvern/Toast\n  gt session start wyvern/Toast --issue gt-123\n\n```\ngt session start <rig>/<polecat> [flags]\n```",
      "usage": "gt session start <rig>/<polecat> [flags]",
      "options": "-h, --help           help for start\n      --issue string   Issue ID to work on",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt session start Start a polecat session Start a new tmux session for a polecat.\n\nCreates a tmux session, navigates to the polecat's working directory,\nand launches claude. Optionally inject an initial issue to work on.\n\nExamples:\n  gt session start wyvern/Toast\n  gt session start wyvern/Toast --issue gt-123\n\n```\ngt session start <rig>/<polecat> [flags]\n``` -h, --help           help for start\n      --issue string   Issue ID to work on"
    },
    {
      "cmd": "gt session status",
      "short": "Show session status details",
      "synopsis": "Show detailed status for a polecat session.\n\nDisplays running state, uptime, session info, and activity.\n\n```\ngt session status <rig>/<polecat> [flags]\n```",
      "usage": "gt session status <rig>/<polecat> [flags]",
      "options": "-h, --help   help for status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt session status Show session status details Show detailed status for a polecat session.\n\nDisplays running state, uptime, session info, and activity.\n\n```\ngt session status <rig>/<polecat> [flags]\n``` -h, --help   help for status"
    },
    {
      "cmd": "gt session stop",
      "short": "Stop a polecat session",
      "synopsis": "Stop a running polecat session.\n\nAttempts graceful shutdown first (Ctrl-C), then kills the tmux session.\nUse --force to skip graceful shutdown.\n\n```\ngt session stop <rig>/<polecat> [flags]\n```",
      "usage": "gt session stop <rig>/<polecat> [flags]",
      "options": "-f, --force   Force immediate shutdown\n  -h, --help    help for stop",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt session stop Stop a polecat session Stop a running polecat session.\n\nAttempts graceful shutdown first (Ctrl-C), then kills the tmux session.\nUse --force to skip graceful shutdown.\n\n```\ngt session stop <rig>/<polecat> [flags]\n``` -f, --force   Force immediate shutdown\n  -h, --help    help for stop"
    },
    {
      "cmd": "gt shell",
      "short": "Manage shell integration",
      "synopsis": "",
      "usage": "gt shell [flags]",
      "options": "-h, --help   help for shell",
      "subcommands": [
        {
          "cmd": "gt shell install",
          "desc": "Install or update shell integration"
        },
        {
          "cmd": "gt shell remove",
          "desc": "Remove shell integration"
        },
        {
          "cmd": "gt shell status",
          "desc": "Show shell integration status"
        }
      ],
      "is_parent": true,
      "search_text": "gt shell Manage shell integration  -h, --help   help for shell"
    },
    {
      "cmd": "gt shell install",
      "short": "Install or update shell integration",
      "synopsis": "Install or update the Gas Town shell integration.\n\nThis adds a hook to your shell RC file that:\n  - Sets GT_TOWN_ROOT and GT_RIG when you cd into a Gas Town rig\n  - Offers to add new git repos to Gas Town on first visit\n\nRun this after upgrading gt to get the latest shell hook features.\n\n```\ngt shell install [flags]\n```",
      "usage": "gt shell install [flags]",
      "options": "-h, --help   help for install",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt shell install Install or update shell integration Install or update the Gas Town shell integration.\n\nThis adds a hook to your shell RC file that:\n  - Sets GT_TOWN_ROOT and GT_RIG when you cd into a Gas Town rig\n  - Offers to add new git repos to Gas Town on first visit\n\nRun this after upgrading gt to get the latest shell hook features.\n\n```\ngt shell install [flags]\n``` -h, --help   help for install"
    },
    {
      "cmd": "gt shell remove",
      "short": "Remove shell integration",
      "synopsis": "",
      "usage": "gt shell remove [flags]",
      "options": "-h, --help   help for remove",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt shell remove Remove shell integration  -h, --help   help for remove"
    },
    {
      "cmd": "gt shell status",
      "short": "Show shell integration status",
      "synopsis": "",
      "usage": "gt shell status [flags]",
      "options": "-h, --help   help for status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt shell status Show shell integration status  -h, --help   help for status"
    },
    {
      "cmd": "gt show",
      "short": "Show details of a bead",
      "synopsis": "Displays the full details of a bead by ID.\n\nDelegates to 'bd show' - all bd show flags are supported.\nWorks with any bead prefix (gt-, bd-, hq-, etc.) and routes\nto the correct beads database automatically.\n\nExamples:\n  gt show gt-abc123          # Show a gastown issue\n  gt show hq-xyz789          # Show a town-level bead (convoy, mail, etc.)\n  gt show bd-def456          # Show a beads issue\n  gt show gt-abc123 --json   # Output as JSON\n  gt show gt-abc123 -v       # Verbose output\n\n```\ngt show <bead-id> [flags]\n```",
      "usage": "gt show <bead-id> [flags]",
      "options": "-h, --help   help for show",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt show Show details of a bead Displays the full details of a bead by ID.\n\nDelegates to 'bd show' - all bd show flags are supported.\nWorks with any bead prefix (gt-, bd-, hq-, etc.) and routes\nto the correct beads database automatically.\n\nExamples:\n  gt show gt-abc123          # Show a gastown issue\n  gt show hq-xyz789          # Show a town-level bead (convoy, mail, etc.)\n  gt show bd-def456          # Show a beads issue\n  gt show gt-abc123 --json   # Output as JSON\n  gt show gt-abc123 -v       # Verbose output\n\n```\ngt show <bead-id> [flags]\n``` -h, --help   help for show"
    },
    {
      "cmd": "gt shutdown",
      "short": "Shutdown Gas Town with cleanup",
      "synopsis": "Shutdown Gas Town by stopping agents and cleaning up polecats.\n\nThis is the \"done for the day\" command - it stops everything AND removes\npolecat worktrees/branches. For a reversible pause, use 'gt down' instead.\n\nComparison:\n  gt down      - Pause (stop processes, keep worktrees) - reversible\n  gt shutdown  - Done (stop + cleanup worktrees) - permanent cleanup\n\nAfter killing sessions, polecats are cleaned up:\n  - Worktrees are removed\n  - Polecat branches are deleted\n  - Polecats with uncommitted work are SKIPPED (protected)\n\nShutdown levels (progressively more aggressive):\n  (default)       - Stop infrastructure + polecats + cleanup\n  --all           - Also stop crew sessions\n  --polecats-only - Only stop polecats (leaves infrastructure running)\n\nUse --force or --yes to skip confirmation prompt.\nUse --graceful to allow agents time to save state before killing.\nUse --nuclear to force cleanup even if polecats have uncommitted work (DANGER).\nUse --cleanup-orphans to kill orphaned Claude processes (TTY-less, older than 60s).\nUse --cleanup-orphans-grace-secs to set the grace period (default 60s).\n\n```\ngt shutdown [flags]\n```",
      "usage": "gt shutdown [flags]",
      "options": "-a, --all                              Also stop crew sessions (by default, crew is preserved)\n      --cleanup-orphans                  Clean up orphaned Claude processes (TTY-less processes older than 60s)\n      --cleanup-orphans-grace-secs int   Grace period in seconds between SIGTERM and SIGKILL when cleaning orphans (default 60) (default 60)\n  -f, --force                            Skip confirmation prompt (alias for --yes)\n  -g, --graceful                         Send ESC to agents and wait for them to handoff before killing\n  -h, --help                             help for shutdown\n      --nuclear                          Force cleanup even if polecats have uncommitted work (DANGER: may lose work)\n      --polecats-only                    Only stop polecats (minimal shutdown)\n  -w, --wait int                         Seconds to wait for graceful shutdown (default 30) (default 30)\n  -y, --yes                              Skip confirmation prompt",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt shutdown Shutdown Gas Town with cleanup Shutdown Gas Town by stopping agents and cleaning up polecats.\n\nThis is the \"done for the day\" command - it stops everything AND removes\npolecat worktrees/branches. For a reversible pause, use 'gt down' instead.\n\nComparison:\n  gt down      - Pause (stop processes, keep worktrees) - reversible\n  gt shutdown  - Done (stop + cleanup worktrees) - permanent cleanup\n\nAfter killing sessions, polecats are cleaned up:\n  - Worktrees are removed\n  - Polecat branches are deleted\n  - Polecats with uncommitted work are SKIPPED (protected)\n\nShutdown levels (progressively more aggressive):\n  (default)       - Stop infrastructure + polecats + cleanup\n  --all           - Also stop crew sessions\n  --polecats-only - Only stop polecats (leaves infrastructure running)\n\nUse --force or --yes to skip confirmation prompt.\nUse --graceful to allow agents time to save state before killing.\nUse --nuclear to force cleanup even if polecats have uncommitted work (DANGER).\nUse --cleanup-orphans to kill orphaned Claude processes (TTY-less, older than 60s).\nUse --cleanup-orphans-grace-secs to set the grace period (default 60s).\n\n```\ngt shutdown [flags]\n``` -a, --all                              Also stop crew sessions (by default, crew is preserved)\n      --cleanup-orphans                  Clean up orphaned Claude processes (TTY-less processes older than 60s)\n      --cleanup-orphans-grace-secs int   Grace period in seconds between SIGTERM and SIGKILL when cleaning orphans (default 60) (default 60)\n  -f, --force                            Skip confirmation prompt (alias for --yes)\n  -g, --graceful                         Send ESC to agents and wait for them to handoff before killing\n  -h, --help                             help for shutdown\n      --nuclear                          Force cleanup even if polecats have uncommitted work (DANGER: may lose work)\n      --polecats-only                    Only stop polecats (minimal shutdown)\n  -w, --wait int                         Seconds to wait for graceful shutdown (default 30) (default 30)\n  -y, --yes                              Skip confirmation prompt"
    },
    {
      "cmd": "gt sling",
      "short": "Assign work to an agent (THE unified work dispatch command)",
      "synopsis": "Sling work onto an agent's hook and start working immediately.\n\nThis is THE command for assigning work in Gas Town. It handles:\n  - Existing agents (mayor, crew, witness, refinery)\n  - Auto-spawning polecats when target is a rig\n  - Dispatching to dogs (Deacon's helper workers)\n  - Formula instantiation and wisp creation\n  - Auto-convoy creation for dashboard visibility\n\nAuto-Convoy:\n  When slinging a single issue (not a formula), sling automatically creates\n  a convoy to track the work unless --no-convoy is specified. This ensures\n  all work appears in 'gt convoy list', even \"swarm of one\" assignments.\n\n  gt sling gt-abc gastown              # Creates \"Work: <issue-title>\" convoy\n  gt sling gt-abc gastown --no-convoy  # Skip auto-convoy creation\n\nTarget Resolution:\n  gt sling gt-abc                       # Self (current agent)\n  gt sling gt-abc crew                  # Crew worker in current rig\n  gt sling gp-abc greenplace               # Auto-spawn polecat in rig\n  gt sling gt-abc greenplace/Toast         # Specific polecat\n  gt sling gt-abc mayor                 # Mayor\n  gt sling gt-abc deacon/dogs           # Auto-dispatch to idle dog\n  gt sling gt-abc deacon/dogs/alpha     # Specific dog\n\nSpawning Options (when target is a rig):\n  gt sling gp-abc greenplace --create               # Create polecat if missing\n  gt sling gp-abc greenplace --force                # Ignore unread mail\n  gt sling gp-abc greenplace --account work         # Use specific Claude account\n\nNatural Language Args:\n  gt sling gt-abc --args \"patch release\"\n  gt sling code-review --args \"focus on security\"\n\nThe --args string is stored in the bead and shown via gt prime. Since the\nexecutor is an LLM, it interprets these instructions naturally.\n\nFormula Slinging:\n  gt sling mol-release mayor/           # Cook + wisp + attach + nudge\n  gt sling towers-of-hanoi --var disks=3\n\nFormula-on-Bead (--on flag):\n  gt sling mol-review --on gt-abc       # Apply formula to existing work\n  gt sling shiny --on gt-abc crew       # Apply formula, sling to crew\n\nCompare:\n  gt hook <bead>      # Just attach (no action)\n  gt sling <bead>     # Attach + start now (keep context)\n  gt handoff <bead>   # Attach + restart (fresh context)\n\nThe propulsion principle: if it's on your hook, YOU RUN IT.\n\nBatch Slinging:\n  gt sling gt-abc gt-def gt-ghi gastown   # Sling multiple beads to a rig\n\n  When multiple beads are provided with a rig target, each bead gets its own\n  polecat. This parallelizes work dispatch without running gt sling N times.\n\n```\ngt sling <bead-or-formula> [target] [flags]\n```",
      "usage": "gt sling <bead-or-formula> [target] [flags]",
      "options": "--account string    Claude Code account handle to use\n      --agent string      Override agent/runtime for this sling (e.g., claude, gemini, codex, or custom alias)\n  -a, --args string       Natural language instructions for the executor (e.g., 'patch release')\n      --create            Create polecat if it doesn't exist\n  -n, --dry-run           Show what would be done\n      --force             Force spawn even if polecat has unread mail\n  -h, --help              help for sling\n      --hook-raw-bead     Hook raw bead without default formula (expert mode)\n  -m, --message string    Context message for the work\n      --no-boot           Skip waking witness+refinery after polecat dispatch (avoids dolt lock contention)\n      --no-convoy         Skip auto-convoy creation for single-issue sling\n      --no-merge          Skip merge queue on completion (keep work on feature branch for review)\n      --on string         Apply formula to existing bead (implies wisp scaffolding)\n  -s, --subject string    Context subject for the work\n      --var stringArray   Formula variable (key=value), can be repeated",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt sling Assign work to an agent (THE unified work dispatch command) Sling work onto an agent's hook and start working immediately.\n\nThis is THE command for assigning work in Gas Town. It handles:\n  - Existing agents (mayor, crew, witness, refinery)\n  - Auto-spawning polecats when target is a rig\n  - Dispatching to dogs (Deacon's helper workers)\n  - Formula instantiation and wisp creation\n  - Auto-convoy creation for dashboard visibility\n\nAuto-Convoy:\n  When slinging a single issue (not a formula), sling automatically creates\n  a convoy to track the work unless --no-convoy is specified. This ensures\n  all work appears in 'gt convoy list', even \"swarm of one\" assignments.\n\n  gt sling gt-abc gastown              # Creates \"Work: <issue-title>\" convoy\n  gt sling gt-abc gastown --no-convoy  # Skip auto-convoy creation\n\nTarget Resolution:\n  gt sling gt-abc                       # Self (current agent)\n  gt sling gt-abc crew                  # Crew worker in current rig\n  gt sling gp-abc greenplace               # Auto-spawn polecat in rig\n  gt sling gt-abc greenplace/Toast         # Specific polecat\n  gt sling gt-abc mayor                 # Mayor\n  gt sling gt-abc deacon/dogs           # Auto-dispatch to idle dog\n  gt sling gt-abc deacon/dogs/alpha     # Specific dog\n\nSpawning Options (when target is a rig):\n  gt sling gp-abc greenplace --create               # Create polecat if missing\n  gt sling gp-abc greenplace --force                # Ignore unread mail\n  gt sling gp-abc greenplace --account work         # Use specific Claude account\n\nNatural Language Args:\n  gt sling gt-abc --args \"patch release\"\n  gt sling code-review --args \"focus on security\"\n\nThe --args string is stored in the bead and shown via gt prime. Since the\nexecutor is an LLM, it interprets these instructions naturally.\n\nFormula Slinging:\n  gt sling mol-release mayor/           # Cook + wisp + attach + nudge\n  gt sling towers-of-hanoi --var disks=3\n\nFormula-on-Bead (--on flag):\n  gt sling mol-review --on gt-abc       # Apply formula to existing work\n  gt sling shiny --on gt-abc crew       # Apply formula, sling to crew\n\nCompare:\n  gt hook <bead>      # Just attach (no action)\n  gt sling <bead>     # Attach + start now (keep context)\n  gt handoff <bead>   # Attach + restart (fresh context)\n\nThe propulsion principle: if it's on your hook, YOU RUN IT.\n\nBatch Slinging:\n  gt sling gt-abc gt-def gt-ghi gastown   # Sling multiple beads to a rig\n\n  When multiple beads are provided with a rig target, each bead gets its own\n  polecat. This parallelizes work dispatch without running gt sling N times.\n\n```\ngt sling <bead-or-formula> [target] [flags]\n``` --account string    Claude Code account handle to use\n      --agent string      Override agent/runtime for this sling (e.g., claude, gemini, codex, or custom alias)\n  -a, --args string       Natural language instructions for the executor (e.g., 'patch release')\n      --create            Create polecat if it doesn't exist\n  -n, --dry-run           Show what would be done\n      --force             Force spawn even if polecat has unread mail\n  -h, --help              help for sling\n      --hook-raw-bead     Hook raw bead without default formula (expert mode)\n  -m, --message string    Context message for the work\n      --no-boot           Skip waking witness+refinery after polecat dispatch (avoids dolt lock contention)\n      --no-convoy         Skip auto-convoy creation for single-issue sling\n      --no-merge          Skip merge queue on completion (keep work on feature branch for review)\n      --on string         Apply formula to existing bead (implies wisp scaffolding)\n  -s, --subject string    Context subject for the work\n      --var stringArray   Formula variable (key=value), can be repeated"
    },
    {
      "cmd": "gt stale",
      "short": "Check if the gt binary is stale",
      "synopsis": "Check if the gt binary was built from an older commit than the current repo HEAD.\n\nThis command compares the commit hash embedded in the binary at build time\nwith the current HEAD of the gastown repository.\n\nExamples:\n  gt stale              # Human-readable output\n  gt stale --json       # Machine-readable JSON output\n  gt stale --quiet      # Exit code only (0=stale, 1=fresh)\n\nExit codes:\n  0 - Binary is stale (needs rebuild)\n  1 - Binary is fresh (up to date)\n  2 - Error (could not determine staleness)\n\n```\ngt stale [flags]\n```",
      "usage": "gt stale [flags]",
      "options": "-h, --help    help for stale\n      --json    Output as JSON\n  -q, --quiet   Exit code only (0=stale, 1=fresh)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt stale Check if the gt binary is stale Check if the gt binary was built from an older commit than the current repo HEAD.\n\nThis command compares the commit hash embedded in the binary at build time\nwith the current HEAD of the gastown repository.\n\nExamples:\n  gt stale              # Human-readable output\n  gt stale --json       # Machine-readable JSON output\n  gt stale --quiet      # Exit code only (0=stale, 1=fresh)\n\nExit codes:\n  0 - Binary is stale (needs rebuild)\n  1 - Binary is fresh (up to date)\n  2 - Error (could not determine staleness)\n\n```\ngt stale [flags]\n``` -h, --help    help for stale\n      --json    Output as JSON\n  -q, --quiet   Exit code only (0=stale, 1=fresh)"
    },
    {
      "cmd": "gt start",
      "short": "Start Gas Town or a crew workspace",
      "synopsis": "Start Gas Town by launching the Deacon and Mayor.\n\nThe Deacon is the health-check orchestrator that monitors Mayor and Witnesses.\nThe Mayor is the global coordinator that dispatches work.\n\nBy default, other agents (Witnesses, Refineries) are started lazily as needed.\nUse --all to start Witnesses and Refineries for all registered rigs immediately.\n\nCrew shortcut:\n  If a path like \"rig/crew/name\" is provided, starts that crew workspace.\n  This is equivalent to 'gt start crew rig/name'.\n\nTo stop Gas Town, use 'gt shutdown'.\n\n```\ngt start [path] [flags]\n```",
      "usage": "gt start [path] [flags]",
      "options": "--agent string   Agent alias to run Mayor/Deacon with (overrides town default)\n  -a, --all            Also start Witnesses and Refineries for all rigs\n  -h, --help           help for start",
      "subcommands": [
        {
          "cmd": "gt start crew",
          "desc": "Start a crew workspace (creates if needed)"
        }
      ],
      "is_parent": true,
      "search_text": "gt start Start Gas Town or a crew workspace Start Gas Town by launching the Deacon and Mayor.\n\nThe Deacon is the health-check orchestrator that monitors Mayor and Witnesses.\nThe Mayor is the global coordinator that dispatches work.\n\nBy default, other agents (Witnesses, Refineries) are started lazily as needed.\nUse --all to start Witnesses and Refineries for all registered rigs immediately.\n\nCrew shortcut:\n  If a path like \"rig/crew/name\" is provided, starts that crew workspace.\n  This is equivalent to 'gt start crew rig/name'.\n\nTo stop Gas Town, use 'gt shutdown'.\n\n```\ngt start [path] [flags]\n``` --agent string   Agent alias to run Mayor/Deacon with (overrides town default)\n  -a, --all            Also start Witnesses and Refineries for all rigs\n  -h, --help           help for start"
    },
    {
      "cmd": "gt start crew",
      "short": "Start a crew workspace (creates if needed)",
      "synopsis": "Start a crew workspace, creating it if it doesn't exist.\n\nThis is a convenience command that combines 'gt crew add' and 'gt crew at --detached'.\nThe crew session starts in the background with Claude running and ready.\n\nThe name can include the rig in slash format (e.g., greenplace/joe).\nIf not specified, the rig is inferred from the current directory.\n\nExamples:\n  gt start crew joe                    # Start joe in current rig\n  gt start crew greenplace/joe            # Start joe in gastown rig\n  gt start crew joe --rig beads        # Start joe in beads rig\n\n```\ngt start crew <name> [flags]\n```",
      "usage": "gt start crew <name> [flags]",
      "options": "--account string   Claude Code account handle to use\n      --agent string     Agent alias to run crew worker with (overrides rig/town default)\n  -h, --help             help for crew\n      --rig string       Rig to use",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt start crew Start a crew workspace (creates if needed) Start a crew workspace, creating it if it doesn't exist.\n\nThis is a convenience command that combines 'gt crew add' and 'gt crew at --detached'.\nThe crew session starts in the background with Claude running and ready.\n\nThe name can include the rig in slash format (e.g., greenplace/joe).\nIf not specified, the rig is inferred from the current directory.\n\nExamples:\n  gt start crew joe                    # Start joe in current rig\n  gt start crew greenplace/joe            # Start joe in gastown rig\n  gt start crew joe --rig beads        # Start joe in beads rig\n\n```\ngt start crew <name> [flags]\n``` --account string   Claude Code account handle to use\n      --agent string     Agent alias to run crew worker with (overrides rig/town default)\n  -h, --help             help for crew\n      --rig string       Rig to use"
    },
    {
      "cmd": "gt status",
      "short": "Show overall town status",
      "synopsis": "Display the current status of the Gas Town workspace.\n\nShows town name, registered rigs, active polecats, and witness status.\n\nUse --fast to skip mail lookups for faster execution.\nUse --watch to continuously refresh status at regular intervals.\n\n```\ngt status [flags]\n```",
      "usage": "gt status [flags]",
      "options": "--fast           Skip mail lookups for faster execution\n  -h, --help           help for status\n  -n, --interval int   Refresh interval in seconds (default 2)\n      --json           Output as JSON\n  -v, --verbose        Show detailed multi-line output per agent\n  -w, --watch          Watch mode: refresh status continuously",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt status Show overall town status Display the current status of the Gas Town workspace.\n\nShows town name, registered rigs, active polecats, and witness status.\n\nUse --fast to skip mail lookups for faster execution.\nUse --watch to continuously refresh status at regular intervals.\n\n```\ngt status [flags]\n``` --fast           Skip mail lookups for faster execution\n  -h, --help           help for status\n  -n, --interval int   Refresh interval in seconds (default 2)\n      --json           Output as JSON\n  -v, --verbose        Show detailed multi-line output per agent\n  -w, --watch          Watch mode: refresh status continuously"
    },
    {
      "cmd": "gt synthesis",
      "short": "Manage convoy synthesis steps",
      "synopsis": "Manage synthesis steps for convoy formulas.\n\nSynthesis is the final step in a convoy workflow that combines outputs\nfrom all parallel legs into a unified deliverable.\n\nCommands:\n  start     Start synthesis for a convoy (checks all legs complete)\n  status    Show synthesis readiness and leg outputs\n  close     Close convoy after synthesis complete\n\nExamples:\n  gt synthesis status hq-cv-abc     # Check if ready for synthesis\n  gt synthesis start hq-cv-abc      # Start synthesis step\n  gt synthesis close hq-cv-abc      # Close convoy after synthesis\n\n```\ngt synthesis [flags]\n```",
      "usage": "gt synthesis [flags]",
      "options": "-h, --help   help for synthesis",
      "subcommands": [
        {
          "cmd": "gt synthesis close",
          "desc": "Close convoy after synthesis"
        },
        {
          "cmd": "gt synthesis start",
          "desc": "Start synthesis for a convoy"
        },
        {
          "cmd": "gt synthesis status",
          "desc": "Show synthesis readiness"
        }
      ],
      "is_parent": true,
      "search_text": "gt synthesis Manage convoy synthesis steps Manage synthesis steps for convoy formulas.\n\nSynthesis is the final step in a convoy workflow that combines outputs\nfrom all parallel legs into a unified deliverable.\n\nCommands:\n  start     Start synthesis for a convoy (checks all legs complete)\n  status    Show synthesis readiness and leg outputs\n  close     Close convoy after synthesis complete\n\nExamples:\n  gt synthesis status hq-cv-abc     # Check if ready for synthesis\n  gt synthesis start hq-cv-abc      # Start synthesis step\n  gt synthesis close hq-cv-abc      # Close convoy after synthesis\n\n```\ngt synthesis [flags]\n``` -h, --help   help for synthesis"
    },
    {
      "cmd": "gt synthesis close",
      "short": "Close convoy after synthesis",
      "synopsis": "Close a convoy after synthesis is complete.\n\nThis marks the convoy as complete and triggers any configured notifications.\n\n```\ngt synthesis close <convoy-id> [flags]\n```",
      "usage": "gt synthesis close <convoy-id> [flags]",
      "options": "-h, --help   help for close",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt synthesis close Close convoy after synthesis Close a convoy after synthesis is complete.\n\nThis marks the convoy as complete and triggers any configured notifications.\n\n```\ngt synthesis close <convoy-id> [flags]\n``` -h, --help   help for close"
    },
    {
      "cmd": "gt synthesis start",
      "short": "Start synthesis for a convoy",
      "synopsis": "Start the synthesis step for a convoy.\n\nThis command:\n  1. Verifies all legs are complete\n  2. Collects outputs from all legs\n  3. Creates a synthesis bead with combined context\n  4. Slings the synthesis to a polecat\n\nOptions:\n  --rig=NAME      Target rig for synthesis polecat (default: current)\n  --review-id=ID  Override review ID for output paths\n  --force         Start synthesis even if some legs incomplete\n  --dry-run       Show what would happen without executing\n\n```\ngt synthesis start <convoy-id> [flags]\n```",
      "usage": "gt synthesis start <convoy-id> [flags]",
      "options": "--dry-run            Preview execution\n      --force              Start even if legs incomplete\n  -h, --help               help for start\n      --review-id string   Override review ID\n      --rig string         Target rig for synthesis polecat",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt synthesis start Start synthesis for a convoy Start the synthesis step for a convoy.\n\nThis command:\n  1. Verifies all legs are complete\n  2. Collects outputs from all legs\n  3. Creates a synthesis bead with combined context\n  4. Slings the synthesis to a polecat\n\nOptions:\n  --rig=NAME      Target rig for synthesis polecat (default: current)\n  --review-id=ID  Override review ID for output paths\n  --force         Start synthesis even if some legs incomplete\n  --dry-run       Show what would happen without executing\n\n```\ngt synthesis start <convoy-id> [flags]\n``` --dry-run            Preview execution\n      --force              Start even if legs incomplete\n  -h, --help               help for start\n      --review-id string   Override review ID\n      --rig string         Target rig for synthesis polecat"
    },
    {
      "cmd": "gt synthesis status",
      "short": "Show synthesis readiness",
      "synopsis": "Show whether a convoy is ready for synthesis.\n\nDisplays:\n  - Convoy metadata\n  - Leg completion status\n  - Available leg outputs\n  - Formula synthesis configuration\n\n```\ngt synthesis status <convoy-id> [flags]\n```",
      "usage": "gt synthesis status <convoy-id> [flags]",
      "options": "-h, --help   help for status",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt synthesis status Show synthesis readiness Show whether a convoy is ready for synthesis.\n\nDisplays:\n  - Convoy metadata\n  - Leg completion status\n  - Available leg outputs\n  - Formula synthesis configuration\n\n```\ngt synthesis status <convoy-id> [flags]\n``` -h, --help   help for status"
    },
    {
      "cmd": "gt tap",
      "short": "Claude Code hook handlers",
      "synopsis": "Hook handlers for Claude Code PreToolUse and PostToolUse events.\n\nThese commands are called by Claude Code hooks to implement policies,\nauditing, and input transformation. They tap into the tool execution\nflow to guard, audit, inject, or check.\n\nSubcommands:\n  guard   - Block forbidden operations (PreToolUse, exit 2)\n  audit   - Log/record tool executions (PostToolUse) [planned]\n  inject  - Modify tool inputs (PreToolUse, updatedInput) [planned]\n  check   - Validate after execution (PostToolUse) [planned]\n\nHook configuration in .claude/settings.json:\n  {\n    \"PreToolUse\": [{\n      \"matcher\": \"Bash(gh pr create*)\",\n      \"hooks\": [{\"command\": \"gt tap guard pr-workflow\"}]\n    }]\n  }\n\nSee ~/gt/docs/HOOKS.md for full documentation.",
      "usage": "-h, --help   help for tap",
      "options": "-h, --help   help for tap",
      "subcommands": [
        {
          "cmd": "gt tap guard",
          "desc": "Block forbidden operations (PreToolUse hook)"
        }
      ],
      "is_parent": true,
      "search_text": "gt tap Claude Code hook handlers Hook handlers for Claude Code PreToolUse and PostToolUse events.\n\nThese commands are called by Claude Code hooks to implement policies,\nauditing, and input transformation. They tap into the tool execution\nflow to guard, audit, inject, or check.\n\nSubcommands:\n  guard   - Block forbidden operations (PreToolUse, exit 2)\n  audit   - Log/record tool executions (PostToolUse) [planned]\n  inject  - Modify tool inputs (PreToolUse, updatedInput) [planned]\n  check   - Validate after execution (PostToolUse) [planned]\n\nHook configuration in .claude/settings.json:\n  {\n    \"PreToolUse\": [{\n      \"matcher\": \"Bash(gh pr create*)\",\n      \"hooks\": [{\"command\": \"gt tap guard pr-workflow\"}]\n    }]\n  }\n\nSee ~/gt/docs/HOOKS.md for full documentation. -h, --help   help for tap"
    },
    {
      "cmd": "gt tap guard",
      "short": "Block forbidden operations (PreToolUse hook)",
      "synopsis": "Block forbidden operations via Claude Code PreToolUse hooks.\n\nGuard commands exit with code 2 to BLOCK tool execution when a policy\nis violated. They're called before the tool runs, preventing the\nforbidden operation entirely.\n\nAvailable guards:\n  pr-workflow   - Block PR creation and feature branches\n\nExample hook configuration:\n  {\n    \"PreToolUse\": [{\n      \"matcher\": \"Bash(gh pr create*)\",\n      \"hooks\": [{\"command\": \"gt tap guard pr-workflow\"}]\n    }]\n  }",
      "usage": "-h, --help   help for guard",
      "options": "-h, --help   help for guard",
      "subcommands": [
        {
          "cmd": "gt tap guard pr-workflow",
          "desc": "Block PR creation and feature branches"
        }
      ],
      "is_parent": true,
      "search_text": "gt tap guard Block forbidden operations (PreToolUse hook) Block forbidden operations via Claude Code PreToolUse hooks.\n\nGuard commands exit with code 2 to BLOCK tool execution when a policy\nis violated. They're called before the tool runs, preventing the\nforbidden operation entirely.\n\nAvailable guards:\n  pr-workflow   - Block PR creation and feature branches\n\nExample hook configuration:\n  {\n    \"PreToolUse\": [{\n      \"matcher\": \"Bash(gh pr create*)\",\n      \"hooks\": [{\"command\": \"gt tap guard pr-workflow\"}]\n    }]\n  } -h, --help   help for guard"
    },
    {
      "cmd": "gt tap guard pr-workflow",
      "short": "Block PR creation and feature branches",
      "synopsis": "Block PR workflow operations in Gas Town.\n\nGas Town workers push directly to main. PRs add friction that breaks\nthe autonomous execution model (GUPP principle).\n\nThis guard blocks:\n  - gh pr create\n  - git checkout -b (feature branches)\n  - git switch -c (feature branches)\n\nExit codes:\n  0 - Operation allowed (not in Gas Town agent context)\n  2 - Operation BLOCKED (in agent context)\n\nThe guard only blocks when running as a Gas Town agent (crew, polecat,\nwitness, etc.). Humans running outside Gas Town can still use PRs.\n\n```\ngt tap guard pr-workflow [flags]\n```",
      "usage": "gt tap guard pr-workflow [flags]",
      "options": "-h, --help   help for pr-workflow",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt tap guard pr-workflow Block PR creation and feature branches Block PR workflow operations in Gas Town.\n\nGas Town workers push directly to main. PRs add friction that breaks\nthe autonomous execution model (GUPP principle).\n\nThis guard blocks:\n  - gh pr create\n  - git checkout -b (feature branches)\n  - git switch -c (feature branches)\n\nExit codes:\n  0 - Operation allowed (not in Gas Town agent context)\n  2 - Operation BLOCKED (in agent context)\n\nThe guard only blocks when running as a Gas Town agent (crew, polecat,\nwitness, etc.). Humans running outside Gas Town can still use PRs.\n\n```\ngt tap guard pr-workflow [flags]\n``` -h, --help   help for pr-workflow"
    },
    {
      "cmd": "gt thanks",
      "short": "Thank the human contributors to Gas Town",
      "synopsis": "Display acknowledgments to all the humans who have contributed\nto the Gas Town project. This command celebrates the collaborative\neffort behind the multi-agent workspace manager.\n\n```\ngt thanks [flags]\n```",
      "usage": "gt thanks [flags]",
      "options": "-h, --help   help for thanks",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt thanks Thank the human contributors to Gas Town Display acknowledgments to all the humans who have contributed\nto the Gas Town project. This command celebrates the collaborative\neffort behind the multi-agent workspace manager.\n\n```\ngt thanks [flags]\n``` -h, --help   help for thanks"
    },
    {
      "cmd": "gt theme",
      "short": "View or set tmux theme for the current rig",
      "synopsis": "Manage tmux status bar themes for Gas Town sessions.\n\nWithout arguments, shows the current theme assignment.\nWith a name argument, sets the theme for this rig.\n\nExamples:\n  gt theme              # Show current theme\n  gt theme --list       # List available themes\n  gt theme forest       # Set theme to 'forest'\n  gt theme apply        # Apply theme to all running sessions in this rig\n\n```\ngt theme [name] [flags]\n```",
      "usage": "gt theme [name] [flags]",
      "options": "-h, --help   help for theme\n  -l, --list   List available themes",
      "subcommands": [
        {
          "cmd": "gt theme apply",
          "desc": "Apply theme to running sessions"
        },
        {
          "cmd": "gt theme cli",
          "desc": "View or set CLI color scheme (dark/light/auto)"
        }
      ],
      "is_parent": true,
      "search_text": "gt theme View or set tmux theme for the current rig Manage tmux status bar themes for Gas Town sessions.\n\nWithout arguments, shows the current theme assignment.\nWith a name argument, sets the theme for this rig.\n\nExamples:\n  gt theme              # Show current theme\n  gt theme --list       # List available themes\n  gt theme forest       # Set theme to 'forest'\n  gt theme apply        # Apply theme to all running sessions in this rig\n\n```\ngt theme [name] [flags]\n``` -h, --help   help for theme\n  -l, --list   List available themes"
    },
    {
      "cmd": "gt theme apply",
      "short": "Apply theme to running sessions",
      "synopsis": "Apply theme to running Gas Town sessions.\n\nBy default, only applies to sessions in the current rig.\nUse --all to apply to sessions across all rigs.\n\n```\ngt theme apply [flags]\n```",
      "usage": "gt theme apply [flags]",
      "options": "-a, --all    Apply to all rigs, not just current\n  -h, --help   help for apply",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt theme apply Apply theme to running sessions Apply theme to running Gas Town sessions.\n\nBy default, only applies to sessions in the current rig.\nUse --all to apply to sessions across all rigs.\n\n```\ngt theme apply [flags]\n``` -a, --all    Apply to all rigs, not just current\n  -h, --help   help for apply"
    },
    {
      "cmd": "gt theme cli",
      "short": "View or set CLI color scheme (dark/light/auto)",
      "synopsis": "Manage CLI output color scheme for Gas Town commands.\n\nWithout arguments, shows the current CLI theme mode and detection.\nWith a mode argument, sets the CLI theme preference.\n\nModes:\n  auto   - Automatically detect terminal background (default)\n  dark   - Force dark mode colors (light text for dark backgrounds)\n  light  - Force light mode colors (dark text for light backgrounds)\n\nThe setting is stored in town settings (settings/config.json) and can\nbe overridden per-session via the GT_THEME environment variable.\n\nExamples:\n  gt theme cli              # Show current CLI theme\n  gt theme cli dark         # Set CLI theme to dark mode\n  gt theme cli auto         # Reset to auto-detection\n  GT_THEME=light gt status  # Override for a single command\n\n```\ngt theme cli [mode] [flags]\n```",
      "usage": "gt theme cli [mode] [flags]",
      "options": "-h, --help   help for cli",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt theme cli View or set CLI color scheme (dark/light/auto) Manage CLI output color scheme for Gas Town commands.\n\nWithout arguments, shows the current CLI theme mode and detection.\nWith a mode argument, sets the CLI theme preference.\n\nModes:\n  auto   - Automatically detect terminal background (default)\n  dark   - Force dark mode colors (light text for dark backgrounds)\n  light  - Force light mode colors (dark text for light backgrounds)\n\nThe setting is stored in town settings (settings/config.json) and can\nbe overridden per-session via the GT_THEME environment variable.\n\nExamples:\n  gt theme cli              # Show current CLI theme\n  gt theme cli dark         # Set CLI theme to dark mode\n  gt theme cli auto         # Reset to auto-detection\n  GT_THEME=light gt status  # Override for a single command\n\n```\ngt theme cli [mode] [flags]\n``` -h, --help   help for cli"
    },
    {
      "cmd": "gt town",
      "short": "Town-level operations",
      "synopsis": "Commands for town-level operations including session cycling.",
      "usage": "-h, --help   help for town",
      "options": "-h, --help   help for town",
      "subcommands": [
        {
          "cmd": "gt town next",
          "desc": "Switch to next town session (mayor/deacon)"
        },
        {
          "cmd": "gt town prev",
          "desc": "Switch to previous town session (mayor/deacon)"
        }
      ],
      "is_parent": true,
      "search_text": "gt town Town-level operations Commands for town-level operations including session cycling. -h, --help   help for town"
    },
    {
      "cmd": "gt town next",
      "short": "Switch to next town session (mayor/deacon)",
      "synopsis": "Switch to the next town-level session in the cycle order.\nTown sessions cycle between Mayor and Deacon.\n\nThis command is typically invoked via the C-b n keybinding when in a\ntown-level session (Mayor or Deacon).\n\n```\ngt town next [flags]\n```",
      "usage": "gt town next [flags]",
      "options": "-h, --help             help for next\n      --session string   Override current session (used by tmux binding)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt town next Switch to next town session (mayor/deacon) Switch to the next town-level session in the cycle order.\nTown sessions cycle between Mayor and Deacon.\n\nThis command is typically invoked via the C-b n keybinding when in a\ntown-level session (Mayor or Deacon).\n\n```\ngt town next [flags]\n``` -h, --help             help for next\n      --session string   Override current session (used by tmux binding)"
    },
    {
      "cmd": "gt town prev",
      "short": "Switch to previous town session (mayor/deacon)",
      "synopsis": "Switch to the previous town-level session in the cycle order.\nTown sessions cycle between Mayor and Deacon.\n\nThis command is typically invoked via the C-b p keybinding when in a\ntown-level session (Mayor or Deacon).\n\n```\ngt town prev [flags]\n```",
      "usage": "gt town prev [flags]",
      "options": "-h, --help             help for prev\n      --session string   Override current session (used by tmux binding)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt town prev Switch to previous town session (mayor/deacon) Switch to the previous town-level session in the cycle order.\nTown sessions cycle between Mayor and Deacon.\n\nThis command is typically invoked via the C-b p keybinding when in a\ntown-level session (Mayor or Deacon).\n\n```\ngt town prev [flags]\n``` -h, --help             help for prev\n      --session string   Override current session (used by tmux binding)"
    },
    {
      "cmd": "gt trail",
      "short": "Show recent agent activity",
      "synopsis": "Show recent activity in the workspace.\n\nWithout a subcommand, shows recent commits from agents.\n\nSubcommands:\n  commits    Recent git commits from agents\n  beads      Recent beads (work items)\n  hooks      Recent hook activity\n\nFlags:\n  --since    Show activity since this time (e.g., \"1h\", \"24h\", \"7d\")\n  --limit    Maximum number of items to show (default: 20)\n  --json     Output as JSON\n  --all      Include all activity (not just agents)\n\nExamples:\n  gt trail                     # Recent commits (default)\n  gt trail commits             # Same as above\n  gt trail commits --since 1h  # Last hour\n  gt trail beads               # Recent beads\n  gt trail hooks               # Recent hook activity\n  gt recent                    # Alias for gt trail\n  gt recap --since 24h         # Activity from last 24 hours\n\n```\ngt trail [flags]\n```",
      "usage": "gt trail [flags]",
      "options": "--all            Include all activity (not just agents)\n  -h, --help           help for trail\n      --json           Output as JSON\n      --limit int      Maximum number of items to show (default 20)\n      --since string   Show activity since this time (e.g., 1h, 24h, 7d)",
      "subcommands": [
        {
          "cmd": "gt trail beads",
          "desc": "Show recent beads"
        },
        {
          "cmd": "gt trail commits",
          "desc": "Show recent commits from agents"
        },
        {
          "cmd": "gt trail hooks",
          "desc": "Show recent hook activity"
        }
      ],
      "is_parent": true,
      "search_text": "gt trail Show recent agent activity Show recent activity in the workspace.\n\nWithout a subcommand, shows recent commits from agents.\n\nSubcommands:\n  commits    Recent git commits from agents\n  beads      Recent beads (work items)\n  hooks      Recent hook activity\n\nFlags:\n  --since    Show activity since this time (e.g., \"1h\", \"24h\", \"7d\")\n  --limit    Maximum number of items to show (default: 20)\n  --json     Output as JSON\n  --all      Include all activity (not just agents)\n\nExamples:\n  gt trail                     # Recent commits (default)\n  gt trail commits             # Same as above\n  gt trail commits --since 1h  # Last hour\n  gt trail beads               # Recent beads\n  gt trail hooks               # Recent hook activity\n  gt recent                    # Alias for gt trail\n  gt recap --since 24h         # Activity from last 24 hours\n\n```\ngt trail [flags]\n``` --all            Include all activity (not just agents)\n  -h, --help           help for trail\n      --json           Output as JSON\n      --limit int      Maximum number of items to show (default 20)\n      --since string   Show activity since this time (e.g., 1h, 24h, 7d)"
    },
    {
      "cmd": "gt trail beads",
      "short": "Show recent beads",
      "synopsis": "Show recently created or modified beads (work items).\n\nExamples:\n  gt trail beads              # Recent beads\n  gt trail beads --since 24h  # Last 24 hours of beads\n  gt trail beads --json       # JSON output\n\n```\ngt trail beads [flags]\n```",
      "usage": "gt trail beads [flags]",
      "options": "-h, --help   help for beads",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt trail beads Show recent beads Show recently created or modified beads (work items).\n\nExamples:\n  gt trail beads              # Recent beads\n  gt trail beads --since 24h  # Last 24 hours of beads\n  gt trail beads --json       # JSON output\n\n```\ngt trail beads [flags]\n``` -h, --help   help for beads"
    },
    {
      "cmd": "gt trail commits",
      "short": "Show recent commits from agents",
      "synopsis": "Show recent git commits made by agents.\n\nBy default, filters to commits from agents (using the configured\nemail domain). Use --all to include all commits.\n\nExamples:\n  gt trail commits              # Recent agent commits\n  gt trail commits --since 1h   # Last hour of commits\n  gt trail commits --all        # All commits (including non-agents)\n  gt trail commits --json       # JSON output\n\n```\ngt trail commits [flags]\n```",
      "usage": "gt trail commits [flags]",
      "options": "-h, --help   help for commits",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt trail commits Show recent commits from agents Show recent git commits made by agents.\n\nBy default, filters to commits from agents (using the configured\nemail domain). Use --all to include all commits.\n\nExamples:\n  gt trail commits              # Recent agent commits\n  gt trail commits --since 1h   # Last hour of commits\n  gt trail commits --all        # All commits (including non-agents)\n  gt trail commits --json       # JSON output\n\n```\ngt trail commits [flags]\n``` -h, --help   help for commits"
    },
    {
      "cmd": "gt trail hooks",
      "short": "Show recent hook activity",
      "synopsis": "Show recent hook activity (agents taking or dropping hooks).\n\nExamples:\n  gt trail hooks              # Recent hook activity\n  gt trail hooks --since 1h   # Last hour of hook activity\n  gt trail hooks --json       # JSON output\n\n```\ngt trail hooks [flags]\n```",
      "usage": "gt trail hooks [flags]",
      "options": "-h, --help   help for hooks",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt trail hooks Show recent hook activity Show recent hook activity (agents taking or dropping hooks).\n\nExamples:\n  gt trail hooks              # Recent hook activity\n  gt trail hooks --since 1h   # Last hour of hook activity\n  gt trail hooks --json       # JSON output\n\n```\ngt trail hooks [flags]\n``` -h, --help   help for hooks"
    },
    {
      "cmd": "gt uninstall",
      "short": "Remove Gas Town from the system",
      "synopsis": "Completely remove Gas Town from the system.\n\nBy default, removes:\n  - Shell integration (~/.zshrc or ~/.bashrc)\n  - Wrapper scripts (~/bin/gt-codex, ~/bin/gt-opencode)\n  - State directory (~/.local/state/gastown/)\n  - Config directory (~/.config/gastown/)\n  - Cache directory (~/.cache/gastown/)\n\nThe workspace (e.g., ~/gt) is NOT removed unless --workspace is specified.\n\nUse --force to skip confirmation prompts.\n\nExamples:\n  gt uninstall                    # Remove Gas Town, keep workspace\n  gt uninstall --workspace        # Also remove workspace directory\n  gt uninstall --force            # Skip confirmation\n\n```\ngt uninstall [flags]\n```",
      "usage": "gt uninstall [flags]",
      "options": "-f, --force       Skip confirmation prompts\n  -h, --help        help for uninstall\n      --workspace   Also remove the workspace directory (DESTRUCTIVE)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt uninstall Remove Gas Town from the system Completely remove Gas Town from the system.\n\nBy default, removes:\n  - Shell integration (~/.zshrc or ~/.bashrc)\n  - Wrapper scripts (~/bin/gt-codex, ~/bin/gt-opencode)\n  - State directory (~/.local/state/gastown/)\n  - Config directory (~/.config/gastown/)\n  - Cache directory (~/.cache/gastown/)\n\nThe workspace (e.g., ~/gt) is NOT removed unless --workspace is specified.\n\nUse --force to skip confirmation prompts.\n\nExamples:\n  gt uninstall                    # Remove Gas Town, keep workspace\n  gt uninstall --workspace        # Also remove workspace directory\n  gt uninstall --force            # Skip confirmation\n\n```\ngt uninstall [flags]\n``` -f, --force       Skip confirmation prompts\n  -h, --help        help for uninstall\n      --workspace   Also remove the workspace directory (DESTRUCTIVE)"
    },
    {
      "cmd": "gt unsling",
      "short": "Remove work from an agent's hook",
      "synopsis": "Remove work from an agent's hook (the inverse of sling/hook).\n\nWith no arguments, clears your own hook. With a bead ID, only unslings\nif that specific bead is currently hooked. With a target, operates on\nanother agent's hook.\n\nExamples:\n  gt unsling                        # Clear my hook (whatever's there)\n  gt unsling gt-abc                 # Only unsling if gt-abc is hooked\n  gt unsling greenplace/joe            # Clear joe's hook\n  gt unsling gt-abc greenplace/joe     # Unsling gt-abc from joe\n\nThe bead's status changes from 'hooked' back to 'open'.\n\nRelated commands:\n  gt sling <bead>    # Hook + start (inverse of unsling)\n  gt hook <bead>     # Hook without starting\n  gt hook      # See what's on your hook\n\n```\ngt unsling [bead-id] [target] [flags]\n```",
      "usage": "gt unsling [bead-id] [target] [flags]",
      "options": "-n, --dry-run   Show what would be done\n  -f, --force     Unsling even if work is incomplete\n  -h, --help      help for unsling",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt unsling Remove work from an agent's hook Remove work from an agent's hook (the inverse of sling/hook).\n\nWith no arguments, clears your own hook. With a bead ID, only unslings\nif that specific bead is currently hooked. With a target, operates on\nanother agent's hook.\n\nExamples:\n  gt unsling                        # Clear my hook (whatever's there)\n  gt unsling gt-abc                 # Only unsling if gt-abc is hooked\n  gt unsling greenplace/joe            # Clear joe's hook\n  gt unsling gt-abc greenplace/joe     # Unsling gt-abc from joe\n\nThe bead's status changes from 'hooked' back to 'open'.\n\nRelated commands:\n  gt sling <bead>    # Hook + start (inverse of unsling)\n  gt hook <bead>     # Hook without starting\n  gt hook      # See what's on your hook\n\n```\ngt unsling [bead-id] [target] [flags]\n``` -n, --dry-run   Show what would be done\n  -f, --force     Unsling even if work is incomplete\n  -h, --help      help for unsling"
    },
    {
      "cmd": "gt up",
      "short": "Bring up all Gas Town services",
      "synopsis": "Start all Gas Town long-lived services.\n\nThis is the idempotent \"boot\" command for Gas Town. It ensures all\ninfrastructure agents are running:\n\n  \u2022 Daemon     - Go background process that pokes agents\n  \u2022 Deacon     - Health orchestrator (monitors Mayor/Witnesses)\n  \u2022 Mayor      - Global work coordinator\n  \u2022 Witnesses  - Per-rig polecat managers\n  \u2022 Refineries - Per-rig merge queue processors\n\nPolecats are NOT started by this command - they are transient workers\nspawned on demand by the Mayor or Witnesses.\n\nUse --restore to also start:\n  \u2022 Crew       - Per rig settings (settings/config.json crew.startup)\n  \u2022 Polecats   - Those with pinned beads (work attached)\n\nRunning 'gt up' multiple times is safe - it only starts services that\naren't already running.\n\n```\ngt up [flags]\n```",
      "usage": "gt up [flags]",
      "options": "-h, --help      help for up\n  -q, --quiet     Only show errors\n      --restore   Also restore crew (from settings) and polecats (from hooks)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt up Bring up all Gas Town services Start all Gas Town long-lived services.\n\nThis is the idempotent \"boot\" command for Gas Town. It ensures all\ninfrastructure agents are running:\n\n  \u2022 Daemon     - Go background process that pokes agents\n  \u2022 Deacon     - Health orchestrator (monitors Mayor/Witnesses)\n  \u2022 Mayor      - Global work coordinator\n  \u2022 Witnesses  - Per-rig polecat managers\n  \u2022 Refineries - Per-rig merge queue processors\n\nPolecats are NOT started by this command - they are transient workers\nspawned on demand by the Mayor or Witnesses.\n\nUse --restore to also start:\n  \u2022 Crew       - Per rig settings (settings/config.json crew.startup)\n  \u2022 Polecats   - Those with pinned beads (work attached)\n\nRunning 'gt up' multiple times is safe - it only starts services that\naren't already running.\n\n```\ngt up [flags]\n``` -h, --help      help for up\n  -q, --quiet     Only show errors\n      --restore   Also restore crew (from settings) and polecats (from hooks)"
    },
    {
      "cmd": "gt version",
      "short": "Print version information",
      "synopsis": "",
      "usage": "gt version [flags]",
      "options": "-h, --help   help for version",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt version Print version information  -h, --help   help for version"
    },
    {
      "cmd": "gt warrant",
      "short": "Manage death warrants for stuck agents",
      "synopsis": "Manage death warrants for agents that need termination.\n\nDeath warrants are filed when an agent is stuck, unresponsive, or needs\nforced termination. Boot handles warrant execution during triage cycles.\n\nThe warrant system provides a controlled way to terminate agents:\n1. Deacon/Witness files a warrant with a reason\n2. Boot picks up the warrant during triage\n3. Boot executes the warrant (terminates session, updates state)\n4. Warrant is marked as executed\n\nWarrants are stored in ~/gt/warrants/ as JSON files.",
      "usage": "-h, --help   help for warrant",
      "options": "-h, --help   help for warrant",
      "subcommands": [
        {
          "cmd": "gt warrant execute",
          "desc": "Execute a warrant (terminate agent)"
        },
        {
          "cmd": "gt warrant file",
          "desc": "File a death warrant for an agent"
        },
        {
          "cmd": "gt warrant list",
          "desc": "List pending warrants"
        }
      ],
      "is_parent": true,
      "search_text": "gt warrant Manage death warrants for stuck agents Manage death warrants for agents that need termination.\n\nDeath warrants are filed when an agent is stuck, unresponsive, or needs\nforced termination. Boot handles warrant execution during triage cycles.\n\nThe warrant system provides a controlled way to terminate agents:\n1. Deacon/Witness files a warrant with a reason\n2. Boot picks up the warrant during triage\n3. Boot executes the warrant (terminates session, updates state)\n4. Warrant is marked as executed\n\nWarrants are stored in ~/gt/warrants/ as JSON files. -h, --help   help for warrant"
    },
    {
      "cmd": "gt warrant execute",
      "short": "Execute a warrant (terminate agent)",
      "synopsis": "Execute a pending warrant for the specified target.\n\nThis will:\n1. Find the warrant for the target\n2. Terminate the agent's tmux session (if exists)\n3. Mark the warrant as executed\n\nUse --force to execute even if no warrant exists.\n\nExamples:\n  gt warrant execute gastown/polecats/alpha\n  gt warrant execute deacon/dogs/bravo --force\n\n```\ngt warrant execute <target> [flags]\n```",
      "usage": "gt warrant execute <target> [flags]",
      "options": "-f, --force   Execute even without a warrant\n  -h, --help    help for execute",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt warrant execute Execute a warrant (terminate agent) Execute a pending warrant for the specified target.\n\nThis will:\n1. Find the warrant for the target\n2. Terminate the agent's tmux session (if exists)\n3. Mark the warrant as executed\n\nUse --force to execute even if no warrant exists.\n\nExamples:\n  gt warrant execute gastown/polecats/alpha\n  gt warrant execute deacon/dogs/bravo --force\n\n```\ngt warrant execute <target> [flags]\n``` -f, --force   Execute even without a warrant\n  -h, --help    help for execute"
    },
    {
      "cmd": "gt warrant file",
      "short": "File a death warrant for an agent",
      "synopsis": "File a death warrant for an agent that needs termination.\n\nThe target should be an agent path like:\n  - gastown/polecats/alpha\n  - deacon/dogs/bravo\n  - beads/polecats/charlie\n\nExamples:\n  gt warrant file gastown/polecats/alpha --reason \"Zombie: no session, idle >10m\"\n  gt warrant file deacon/dogs/bravo --reason \"Stuck: working on task for >2h\"\n\n```\ngt warrant file <target> [flags]\n```",
      "usage": "gt warrant file <target> [flags]",
      "options": "-h, --help            help for file\n  -r, --reason string   Reason for the warrant (required)",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt warrant file File a death warrant for an agent File a death warrant for an agent that needs termination.\n\nThe target should be an agent path like:\n  - gastown/polecats/alpha\n  - deacon/dogs/bravo\n  - beads/polecats/charlie\n\nExamples:\n  gt warrant file gastown/polecats/alpha --reason \"Zombie: no session, idle >10m\"\n  gt warrant file deacon/dogs/bravo --reason \"Stuck: working on task for >2h\"\n\n```\ngt warrant file <target> [flags]\n``` -h, --help            help for file\n  -r, --reason string   Reason for the warrant (required)"
    },
    {
      "cmd": "gt warrant list",
      "short": "List pending warrants",
      "synopsis": "List all pending (unexecuted) warrants.\n\nUse --all to include executed warrants.\n\nExamples:\n  gt warrant list\n  gt warrant list --all\n\n```\ngt warrant list [flags]\n```",
      "usage": "gt warrant list [flags]",
      "options": "-a, --all    Include executed warrants\n  -h, --help   help for list",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt warrant list List pending warrants List all pending (unexecuted) warrants.\n\nUse --all to include executed warrants.\n\nExamples:\n  gt warrant list\n  gt warrant list --all\n\n```\ngt warrant list [flags]\n``` -a, --all    Include executed warrants\n  -h, --help   help for list"
    },
    {
      "cmd": "gt whoami",
      "short": "Show current identity for mail commands",
      "synopsis": "Show the identity that will be used for mail commands.\n\nIdentity is determined by:\n1. GT_ROLE env var (if set) - indicates an agent session\n2. No GT_ROLE - you are the overseer (human)\n\nUse --identity flag with mail commands to override.\n\nExamples:\n  gt whoami                      # Show current identity\n  gt mail inbox                  # Check inbox for current identity\n  gt mail inbox --identity mayor/  # Check Mayor's inbox instead\n\n```\ngt whoami [flags]\n```",
      "usage": "gt whoami [flags]",
      "options": "-h, --help   help for whoami",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt whoami Show current identity for mail commands Show the identity that will be used for mail commands.\n\nIdentity is determined by:\n1. GT_ROLE env var (if set) - indicates an agent session\n2. No GT_ROLE - you are the overseer (human)\n\nUse --identity flag with mail commands to override.\n\nExamples:\n  gt whoami                      # Show current identity\n  gt mail inbox                  # Check inbox for current identity\n  gt mail inbox --identity mayor/  # Check Mayor's inbox instead\n\n```\ngt whoami [flags]\n``` -h, --help   help for whoami"
    },
    {
      "cmd": "gt witness",
      "short": "Manage the Witness (per-rig polecat health monitor)",
      "synopsis": "Manage the Witness - the per-rig polecat health monitor.\n\nThe Witness patrols a single rig, watching over its polecats:\n  - Detects stalled polecats (crashed or stuck mid-work)\n  - Nudges unresponsive sessions back to life\n  - Cleans up zombie polecats (finished but failed to exit)\n  - Nukes sandboxes when polecats complete via 'gt done'\n\nThe Witness does NOT force session cycles or interrupt working polecats.\nPolecats manage their own sessions (via gt handoff). The Witness handles\nfailures and edge cases only.\n\nOne Witness per rig. The Deacon monitors all Witnesses.\n\nRole shortcuts: \"witness\" in mail/nudge addresses resolves to this rig's Witness.\n\n```\ngt witness [flags]\n```",
      "usage": "gt witness [flags]",
      "options": "-h, --help   help for witness",
      "subcommands": [
        {
          "cmd": "gt witness attach",
          "desc": "Attach to witness session"
        },
        {
          "cmd": "gt witness restart",
          "desc": "Restart the witness"
        },
        {
          "cmd": "gt witness start",
          "desc": "Start the witness"
        },
        {
          "cmd": "gt witness status",
          "desc": "Show witness status"
        },
        {
          "cmd": "gt witness stop",
          "desc": "Stop the witness"
        }
      ],
      "is_parent": true,
      "search_text": "gt witness Manage the Witness (per-rig polecat health monitor) Manage the Witness - the per-rig polecat health monitor.\n\nThe Witness patrols a single rig, watching over its polecats:\n  - Detects stalled polecats (crashed or stuck mid-work)\n  - Nudges unresponsive sessions back to life\n  - Cleans up zombie polecats (finished but failed to exit)\n  - Nukes sandboxes when polecats complete via 'gt done'\n\nThe Witness does NOT force session cycles or interrupt working polecats.\nPolecats manage their own sessions (via gt handoff). The Witness handles\nfailures and edge cases only.\n\nOne Witness per rig. The Deacon monitors all Witnesses.\n\nRole shortcuts: \"witness\" in mail/nudge addresses resolves to this rig's Witness.\n\n```\ngt witness [flags]\n``` -h, --help   help for witness"
    },
    {
      "cmd": "gt witness attach",
      "short": "Attach to witness session",
      "synopsis": "Attach to the Witness tmux session for a rig.\n\nAttaches the current terminal to the witness's tmux session.\nDetach with Ctrl-B D.\n\nIf the witness is not running, this will start it first.\nIf rig is not specified, infers it from the current directory.\n\nExamples:\n  gt witness attach greenplace\n  gt witness attach          # infer rig from cwd\n\n```\ngt witness attach [rig] [flags]\n```",
      "usage": "gt witness attach [rig] [flags]",
      "options": "-h, --help   help for attach",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt witness attach Attach to witness session Attach to the Witness tmux session for a rig.\n\nAttaches the current terminal to the witness's tmux session.\nDetach with Ctrl-B D.\n\nIf the witness is not running, this will start it first.\nIf rig is not specified, infers it from the current directory.\n\nExamples:\n  gt witness attach greenplace\n  gt witness attach          # infer rig from cwd\n\n```\ngt witness attach [rig] [flags]\n``` -h, --help   help for attach"
    },
    {
      "cmd": "gt witness restart",
      "short": "Restart the witness",
      "synopsis": "Restart the Witness for a rig.\n\nStops the current session (if running) and starts a fresh one.\n\nExamples:\n  gt witness restart greenplace\n  gt witness restart greenplace --agent codex\n  gt witness restart greenplace --env ANTHROPIC_MODEL=claude-3-haiku\n\n```\ngt witness restart <rig> [flags]\n```",
      "usage": "gt witness restart <rig> [flags]",
      "options": "--agent string      Agent alias to run the Witness with (overrides town default)\n      --env stringArray   Environment variable override (KEY=VALUE, can be repeated)\n  -h, --help              help for restart",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt witness restart Restart the witness Restart the Witness for a rig.\n\nStops the current session (if running) and starts a fresh one.\n\nExamples:\n  gt witness restart greenplace\n  gt witness restart greenplace --agent codex\n  gt witness restart greenplace --env ANTHROPIC_MODEL=claude-3-haiku\n\n```\ngt witness restart <rig> [flags]\n``` --agent string      Agent alias to run the Witness with (overrides town default)\n      --env stringArray   Environment variable override (KEY=VALUE, can be repeated)\n  -h, --help              help for restart"
    },
    {
      "cmd": "gt witness start",
      "short": "Start the witness",
      "synopsis": "Start the Witness for a rig.\n\nLaunches the monitoring agent which watches for stuck polecats and orphaned\nsandboxes, taking action to keep work flowing.\n\nSelf-Cleaning Model: Polecats nuke themselves after work. The Witness handles\ncrash recovery (restart with hooked work) and orphan cleanup (nuke abandoned\nsandboxes). There is no \"idle\" state - polecats either have work or don't exist.\n\nExamples:\n  gt witness start greenplace\n  gt witness start greenplace --agent codex\n  gt witness start greenplace --env ANTHROPIC_MODEL=claude-3-haiku\n  gt witness start greenplace --foreground\n\n```\ngt witness start <rig> [flags]\n```",
      "usage": "gt witness start <rig> [flags]",
      "options": "--agent string      Agent alias to run the Witness with (overrides town default)\n      --env stringArray   Environment variable override (KEY=VALUE, can be repeated)\n      --foreground        Run in foreground (default: background)\n  -h, --help              help for start",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt witness start Start the witness Start the Witness for a rig.\n\nLaunches the monitoring agent which watches for stuck polecats and orphaned\nsandboxes, taking action to keep work flowing.\n\nSelf-Cleaning Model: Polecats nuke themselves after work. The Witness handles\ncrash recovery (restart with hooked work) and orphan cleanup (nuke abandoned\nsandboxes). There is no \"idle\" state - polecats either have work or don't exist.\n\nExamples:\n  gt witness start greenplace\n  gt witness start greenplace --agent codex\n  gt witness start greenplace --env ANTHROPIC_MODEL=claude-3-haiku\n  gt witness start greenplace --foreground\n\n```\ngt witness start <rig> [flags]\n``` --agent string      Agent alias to run the Witness with (overrides town default)\n      --env stringArray   Environment variable override (KEY=VALUE, can be repeated)\n      --foreground        Run in foreground (default: background)\n  -h, --help              help for start"
    },
    {
      "cmd": "gt witness status",
      "short": "Show witness status",
      "synopsis": "Show the status of a rig's Witness.\n\nDisplays running state, monitored polecats, and statistics.\n\n```\ngt witness status <rig> [flags]\n```",
      "usage": "gt witness status <rig> [flags]",
      "options": "-h, --help   help for status\n      --json   Output as JSON",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt witness status Show witness status Show the status of a rig's Witness.\n\nDisplays running state, monitored polecats, and statistics.\n\n```\ngt witness status <rig> [flags]\n``` -h, --help   help for status\n      --json   Output as JSON"
    },
    {
      "cmd": "gt witness stop",
      "short": "Stop the witness",
      "synopsis": "Stop a running Witness.\n\nGracefully stops the witness monitoring agent.\n\n```\ngt witness stop <rig> [flags]\n```",
      "usage": "gt witness stop <rig> [flags]",
      "options": "-h, --help   help for stop",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt witness stop Stop the witness Stop a running Witness.\n\nGracefully stops the witness monitoring agent.\n\n```\ngt witness stop <rig> [flags]\n``` -h, --help   help for stop"
    },
    {
      "cmd": "gt worktree",
      "short": "Create worktree in another rig for cross-rig work",
      "synopsis": "Create a git worktree in another rig for cross-rig work.\n\nThis command is for crew workers who need to work on another rig's codebase\nwhile maintaining their identity. It creates a worktree in the target rig's\ncrew/ directory with a name that identifies your source rig and identity.\n\nThe worktree is created at: ~/gt/<target-rig>/crew/<source-rig>-<name>/\n\nFor example, if you're gastown/crew/joe and run 'gt worktree beads':\n- Creates worktree at ~/gt/beads/crew/gastown-joe/\n- The worktree checks out main branch\n- Your identity (BD_ACTOR, GT_ROLE) remains gastown/crew/joe\n\nUse --no-cd to just print the path without printing shell commands.\n\nExamples:\n  gt worktree beads         # Create worktree in beads rig\n  gt worktree gastown       # Create worktree in gastown rig (from another rig)\n  gt worktree beads --no-cd # Just print the path\n\n```\ngt worktree <rig> [flags]\n```",
      "usage": "gt worktree <rig> [flags]",
      "options": "-h, --help    help for worktree\n      --no-cd   Just print path (don't print cd command)",
      "subcommands": [
        {
          "cmd": "gt worktree list",
          "desc": "List all cross-rig worktrees owned by current crew member"
        },
        {
          "cmd": "gt worktree remove",
          "desc": "Remove a cross-rig worktree"
        }
      ],
      "is_parent": true,
      "search_text": "gt worktree Create worktree in another rig for cross-rig work Create a git worktree in another rig for cross-rig work.\n\nThis command is for crew workers who need to work on another rig's codebase\nwhile maintaining their identity. It creates a worktree in the target rig's\ncrew/ directory with a name that identifies your source rig and identity.\n\nThe worktree is created at: ~/gt/<target-rig>/crew/<source-rig>-<name>/\n\nFor example, if you're gastown/crew/joe and run 'gt worktree beads':\n- Creates worktree at ~/gt/beads/crew/gastown-joe/\n- The worktree checks out main branch\n- Your identity (BD_ACTOR, GT_ROLE) remains gastown/crew/joe\n\nUse --no-cd to just print the path without printing shell commands.\n\nExamples:\n  gt worktree beads         # Create worktree in beads rig\n  gt worktree gastown       # Create worktree in gastown rig (from another rig)\n  gt worktree beads --no-cd # Just print the path\n\n```\ngt worktree <rig> [flags]\n``` -h, --help    help for worktree\n      --no-cd   Just print path (don't print cd command)"
    },
    {
      "cmd": "gt worktree list",
      "short": "List all cross-rig worktrees owned by current crew member",
      "synopsis": "List all git worktrees created for cross-rig work.\n\nThis command scans all rigs in the workspace and finds worktrees\nthat belong to the current crew member. Each worktree is shown with\nits git status summary.\n\nExample output:\n  Cross-rig worktrees for gastown/crew/joe:\n\n    beads     ~/gt/beads/crew/gastown-joe/     (clean)\n    mayor     ~/gt/mayor/crew/gastown-joe/     (2 uncommitted)\n\n```\ngt worktree list [flags]\n```",
      "usage": "gt worktree list [flags]",
      "options": "-h, --help   help for list",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt worktree list List all cross-rig worktrees owned by current crew member List all git worktrees created for cross-rig work.\n\nThis command scans all rigs in the workspace and finds worktrees\nthat belong to the current crew member. Each worktree is shown with\nits git status summary.\n\nExample output:\n  Cross-rig worktrees for gastown/crew/joe:\n\n    beads     ~/gt/beads/crew/gastown-joe/     (clean)\n    mayor     ~/gt/mayor/crew/gastown-joe/     (2 uncommitted)\n\n```\ngt worktree list [flags]\n``` -h, --help   help for list"
    },
    {
      "cmd": "gt worktree remove",
      "short": "Remove a cross-rig worktree",
      "synopsis": "Remove a git worktree created for cross-rig work.\n\nThis command removes a worktree that was previously created with 'gt worktree <rig>'.\nIt will refuse to remove a worktree with uncommitted changes unless --force is used.\n\nExamples:\n  gt worktree remove beads         # Remove beads worktree\n  gt worktree remove beads --force # Force remove even with uncommitted changes\n\n```\ngt worktree remove <rig> [flags]\n```",
      "usage": "gt worktree remove <rig> [flags]",
      "options": "-f, --force   Force remove even with uncommitted changes\n  -h, --help    help for remove",
      "subcommands": [],
      "is_parent": false,
      "search_text": "gt worktree remove Remove a cross-rig worktree Remove a git worktree created for cross-rig work.\n\nThis command removes a worktree that was previously created with 'gt worktree <rig>'.\nIt will refuse to remove a worktree with uncommitted changes unless --force is used.\n\nExamples:\n  gt worktree remove beads         # Remove beads worktree\n  gt worktree remove beads --force # Force remove even with uncommitted changes\n\n```\ngt worktree remove <rig> [flags]\n``` -f, --force   Force remove even with uncommitted changes\n  -h, --help    help for remove"
    }
  ]
}